/*! For license information please see main.60774efd.js.LICENSE.txt */
!function(){var e={318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},757:function(e,t,n){e.exports=n(727)},753:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,a=new Promise((function(a,o){n(i=e[t].apply(e,r)).then(a,o)}));return a.request=i,a}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function a(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function o(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),a=i.request;return a&&(a.onupgradeneeded=function(e){n&&n(new d(a.result,e.oldVersion,a.transaction))}),i.then((function(e){return new p(e)}))}function y(e){return r(indexedDB,"deleteDatabase",[e])}a(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),s(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),a(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},a(f,"_store",["name","keyPath","indexNames","autoIncrement"]),o(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),s(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),u(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},a(h,"_tx",["objectStoreNames","mode"]),u(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},a(d,"_db",["name","version","objectStoreNames"]),u(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},a(p,"_db",["name","version","objectStoreNames"]),u(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,a=i[e].apply(i,n.slice(0,-1));a.onsuccess=function(){r(a.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=y,Object.defineProperty(e,"__esModule",{value:!0})}(t)},205:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircleRounded");t.Z=o},872:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=o},823:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},403:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(152)},152:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return u},createChainedFunction:function(){return s},createSvgIcon:function(){return Lr},debounce:function(){return Mr},deprecatedPropType:function(){return Fr},isMuiElement:function(){return Ur},ownerDocument:function(){return Vr},ownerWindow:function(){return Br},requirePropFactory:function(){return zr},setRef:function(){return Kr},unstable_ClassNameGenerator:function(){return ci},unstable_useEnhancedEffect:function(){return Wr},unstable_useId:function(){return Zr},unsupportedProp:function(){return Yr},useControlled:function(){return Xr},useEventCallback:function(){return Jr},useForkRef:function(){return ei},useIsFocusVisible:function(){return si}});var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function a(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}var u=o;var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))};function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=n(791),f=n.t(l,2);function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function d(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function p(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r}function v(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=c({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}function y(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?c({},e):e;return y(e)&&y(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(y(t[i])&&i in e&&y(e[i])?r[i]=m(e[i],t[i],n):r[i]=t[i])})),r}var g=n(942),k=["values","unit","step"];function b(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=h(e,k),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return c({},e,(0,g.Z)({},t.key,t.val))}),{})}(n),l=Object.keys(s);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return c({keys:l,values:s,up:f,down:d,between:p,only:function(e){return l.indexOf(e)+1<l.length?p(e,l[l.indexOf(e)+1]):f(e)},not:function(e){var t=l.indexOf(e);return 0===t?f(l[1]):t===l.length-1?d(l[t]):p(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var w={borderRadius:4},_=n(885),x={xs:0,sm:600,md:900,lg:1200,xl:1536},I={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(x[e],"px)")}};function S(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||I;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||I;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||x).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function E(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function T(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function A(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function C(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:A(e,n)||i,t&&(r=t(r)),r}var N=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=A(e.theme,i)||{};return S(e,n,(function(e){var n=C(u,a,e);return e===n&&"string"===typeof e&&(n=C(u,a,"".concat(t).concat("default"===e?"":o(e)),e)),!1===r?n:(0,g.Z)({},r,n)}))};return u.propTypes={},u.filterProps=[t],u};var O=function(e,t){return t?m(e,t,{clone:!1}):e};var P={m:"margin",p:"padding"},R={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},D={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},L=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!D[e])return[e];e=D[e]}var t=e.split(""),n=(0,_.Z)(t,2),r=n[0],i=n[1],a=P[r],o=R[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),M=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],F=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],U=[].concat(M,F);function j(e,t,n,r){var i=A(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function V(e){return j(e,"spacing",8)}function B(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function z(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=B(t,n),e}),{})}}(L(n),r);return S(e,e[n],i)}function q(e,t){var n=V(e.theme);return Object.keys(e).map((function(r){return z(e,t,r,n)})).reduce(O,{})}function K(e){return q(e,M)}function G(e){return q(e,F)}function W(e){return q(e,U)}K.propTypes={},K.filterProps=M,G.propTypes={},G.filterProps=F,W.propTypes={},W.filterProps=U;var H=W;function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=V({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var Z=["breakpoints","palette","spacing","shape"];var Y=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=h(e,Z),l=b(n),f=Q(a),d=m({breakpoints:l,direction:"ltr",components:{},palette:c({mode:"light"},i),spacing:f,shape:c({},w,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),y=1;y<p;y++)v[y-1]=arguments[y];return d=v.reduce((function(e,t){return m(e,t)}),d)};var X=l.createContext(null);function J(){return l.useContext(X)}function $(e){return 0===Object.keys(e).length}var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=J();return!t||$(t)?e:t},te=Y();var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return ee(e)};function re(e,t,n){var r;return c({toolbar:(r={minHeight:56},(0,g.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,g.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function ae(e){if(e.type)return e;if("#"===e.charAt(0))return ae(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(a(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(a(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function oe(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function ue(e){var t="hsl"===(e=ae(e)).type?ae(function(e){var t=(e=ae(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),oe({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function se(e,t){if(e=ae(e),t=ie(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return oe(e)}function ce(e,t){if(e=ae(e),t=ie(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return oe(e)}var le={black:"#000",white:"#fff"},fe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},he={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},de={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},pe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ve={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ye={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},me={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ge=["mode","contrastThreshold","tonalOffset"],ke={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:le.white,default:le.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},be={text:{primary:le.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:le.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function we(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=ce(e.main,i):"dark"===t&&(e.dark=se(e.main,a)))}function _e(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,u=void 0===o?.2:o,s=h(e,ge),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ve[200],light:ve[50],dark:ve[400]}:{main:ve[700],light:ve[400],dark:ve[800]}}(n),f=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:he[200],light:he[50],dark:he[400]}:{main:he[500],light:he[300],dark:he[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:de[500],light:de[300],dark:de[700]}:{main:de[700],light:de[400],dark:de[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ye[400],light:ye[300],dark:ye[700]}:{main:ye[700],light:ye[500],dark:ye[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:me[400],light:me[300],dark:me[700]}:{main:me[800],light:me[500],dark:me[900]}}(n),y=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pe[400],light:pe[300],dark:pe[700]}:{main:"#ed6c02",light:pe[500],dark:pe[900]}}(n);function g(e){var t=function(e,t){var n=ue(e),r=ue(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,be.text.primary)>=i?be.text.primary:ke.text.primary;return t}var k=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=c({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(a(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(a(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return we(t,"light",s,u),we(t,"dark",f,u),t.contrastText||(t.contrastText=g(t.main)),t},b={dark:be,light:ke};return m(c({common:le,mode:n,primary:k({color:l,name:"primary"}),secondary:k({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:k({color:d,name:"error"}),warning:k({color:y,name:"warning"}),info:k({color:p,name:"info"}),success:k({color:v,name:"success"}),grey:fe,contrastThreshold:i,getContrastText:g,augmentColor:k,tonalOffset:u},b[n]),s)}var xe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Ie={textTransform:"uppercase"},Se='"Roboto", "Helvetica", "Arial", sans-serif';function Ee(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Se:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,l=n.fontWeightRegular,f=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,y=void 0===v?700:v,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,_=h(n,xe);var x=o/14,I=w||function(e){return"".concat(e/k*x,"rem")},S=function(e,t,n,r,a){return c({fontFamily:i,fontWeight:e,fontSize:I(t),lineHeight:n},i===Se?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},E={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(f,48,1.167,0),h4:S(f,34,1.235,.25),h5:S(f,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(f,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(f,16,1.5,.15),body2:S(f,14,1.43,.15),button:S(p,14,1.75,.4,Ie),caption:S(f,12,1.66,.4),overline:S(f,12,2.66,1,Ie)};return m(c({htmlFontSize:k,pxToRem:I,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:y},E),_,{clone:!1})}function Te(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Ae=["none",Te(0,2,1,-1,0,1,1,0,0,1,3,0),Te(0,3,1,-2,0,2,2,0,0,1,5,0),Te(0,3,3,-2,0,3,4,0,0,1,8,0),Te(0,2,4,-1,0,4,5,0,0,1,10,0),Te(0,3,5,-1,0,5,8,0,0,1,14,0),Te(0,3,5,-1,0,6,10,0,0,1,18,0),Te(0,4,5,-2,0,7,10,1,0,2,16,1),Te(0,5,5,-3,0,8,10,1,0,3,14,2),Te(0,5,6,-3,0,9,12,1,0,3,16,2),Te(0,6,6,-3,0,10,14,1,0,4,18,3),Te(0,6,7,-4,0,11,15,1,0,4,20,3),Te(0,7,8,-4,0,12,17,2,0,5,22,4),Te(0,7,8,-4,0,13,19,2,0,5,24,4),Te(0,7,9,-4,0,14,21,2,0,5,26,4),Te(0,8,9,-5,0,15,22,2,0,6,28,5),Te(0,8,10,-5,0,16,24,2,0,6,30,5),Te(0,8,11,-5,0,17,26,2,0,6,32,5),Te(0,9,11,-5,0,18,28,2,0,7,34,6),Te(0,9,12,-6,0,19,29,2,0,7,36,6),Te(0,10,13,-6,0,20,31,3,0,8,38,7),Te(0,10,13,-6,0,21,33,3,0,8,40,7),Te(0,10,14,-6,0,22,35,3,0,8,42,7),Te(0,11,14,-7,0,23,36,3,0,9,44,8),Te(0,11,15,-7,0,24,38,3,0,9,46,8)],Ce=["duration","easing","delay"],Ne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Oe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Pe(e){return"".concat(Math.round(e),"ms")}function Re(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function De(e){var t=c({},Ne,e.easing),n=c({},Oe,e.duration);return c({getAutoHeightDuration:Re,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;h(r,Ce);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Pe(a)," ").concat(u," ").concat("string"===typeof c?c:Pe(c))})).join(",")}},e,{easing:t,duration:n})}var Le={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Me=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,l=h(e,Me),f=_e(i),d=Y(e),p=m(d,{mixins:re(d.breakpoints,d.spacing,n),palette:f,shadows:Ae.slice(),typography:Ee(f,s),transitions:De(o),zIndex:c({},Le)});p=m(p,l);for(var v=arguments.length,y=new Array(v>1?v-1:0),g=1;g<v;g++)y[g-1]=arguments[g];return p=y.reduce((function(e,t){return m(e,t)}),p)}var Ue=Fe();function je(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return v({theme:ne(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:Ue})}var Ve=n(982);var Be=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},ze=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qe=Be((function(e){return ze.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var Ke=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ge=Math.abs,We=String.fromCharCode,He=Object.assign;function Qe(e){return e.trim()}function Ze(e,t,n){return e.replace(t,n)}function Ye(e,t){return e.indexOf(t)}function Xe(e,t){return 0|e.charCodeAt(t)}function Je(e,t,n){return e.slice(t,n)}function $e(e){return e.length}function et(e){return e.length}function tt(e,t){return t.push(e),e}var nt=1,rt=1,it=0,at=0,ot=0,ut="";function st(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:nt,column:rt,length:o,return:""}}function ct(e,t){return He(st("",null,null,"",null,null,0),e,{length:-e.length},t)}function lt(){return ot=at>0?Xe(ut,--at):0,rt--,10===ot&&(rt=1,nt--),ot}function ft(){return ot=at<it?Xe(ut,at++):0,rt++,10===ot&&(rt=1,nt++),ot}function ht(){return Xe(ut,at)}function dt(){return at}function pt(e,t){return Je(ut,e,t)}function vt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yt(e){return nt=rt=1,it=$e(ut=e),at=0,[]}function mt(e){return ut="",e}function gt(e){return Qe(pt(at-1,wt(91===e?e+2:40===e?e+1:e)))}function kt(e){for(;(ot=ht())&&ot<33;)ft();return vt(e)>2||vt(ot)>3?"":" "}function bt(e,t){for(;--t&&ft()&&!(ot<48||ot>102||ot>57&&ot<65||ot>70&&ot<97););return pt(e,dt()+(t<6&&32==ht()&&32==ft()))}function wt(e){for(;ft();)switch(ot){case e:return at;case 34:case 39:34!==e&&39!==e&&wt(ot);break;case 40:41===e&&wt(e);break;case 92:ft()}return at}function _t(e,t){for(;ft()&&e+ot!==57&&(e+ot!==84||47!==ht()););return"/*"+pt(t,at-1)+"*"+We(47===e?e:ft())}function xt(e){for(;!vt(ht());)ft();return pt(e,at)}var It="-ms-",St="-moz-",Et="-webkit-",Tt="comm",At="rule",Ct="decl",Nt="@keyframes";function Ot(e,t){for(var n="",r=et(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Pt(e,t,n,r){switch(e.type){case"@import":case Ct:return e.return=e.return||e.value;case Tt:return"";case Nt:return e.return=e.value+"{"+Ot(e.children,r)+"}";case At:e.value=e.props.join(",")}return $e(n=Ot(e.children,r))?e.return=e.value+"{"+n+"}":""}function Rt(e,t){switch(function(e,t){return(((t<<2^Xe(e,0))<<2^Xe(e,1))<<2^Xe(e,2))<<2^Xe(e,3)}(e,t)){case 5103:return Et+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Et+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Et+e+St+e+It+e+e;case 6828:case 4268:return Et+e+It+e+e;case 6165:return Et+e+It+"flex-"+e+e;case 5187:return Et+e+Ze(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Et+e+It+"flex-item-"+Ze(e,/flex-|-self/,"")+e;case 4675:return Et+e+It+"flex-line-pack"+Ze(e,/align-content|flex-|-self/,"")+e;case 5548:return Et+e+It+Ze(e,"shrink","negative")+e;case 5292:return Et+e+It+Ze(e,"basis","preferred-size")+e;case 6060:return Et+"box-"+Ze(e,"-grow","")+Et+e+It+Ze(e,"grow","positive")+e;case 4554:return Et+Ze(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Ze(Ze(Ze(e,/(zoom-|grab)/,Et+"$1"),/(image-set)/,Et+"$1"),e,"")+e;case 5495:case 3959:return Ze(e,/(image-set\([^]*)/,Et+"$1$`$1");case 4968:return Ze(Ze(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Et+e+e;case 4095:case 3583:case 4068:case 2532:return Ze(e,/(.+)-inline(.+)/,Et+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($e(e)-1-t>6)switch(Xe(e,t+1)){case 109:if(45!==Xe(e,t+4))break;case 102:return Ze(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+St+(108==Xe(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ye(e,"stretch")?Rt(Ze(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Xe(e,t+1))break;case 6444:switch(Xe(e,$e(e)-3-(~Ye(e,"!important")&&10))){case 107:return Ze(e,":",":"+Et)+e;case 101:return Ze(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Et+(45===Xe(e,14)?"inline-":"")+"box$3$1"+Et+"$2$3$1"+It+"$2box$3")+e}break;case 5936:switch(Xe(e,t+11)){case 114:return Et+e+It+Ze(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Et+e+It+Ze(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Et+e+It+Ze(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Et+e+It+e+e}return e}function Dt(e){return mt(Lt("",null,null,null,[""],e=yt(e),0,[0],e))}function Lt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,y=1,m=1,g=0,k="",b=i,w=a,_=r,x=k;y;)switch(p=g,g=ft()){case 40:if(108!=p&&58==x.charCodeAt(f-1)){-1!=Ye(x+=Ze(gt(g),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:x+=gt(g);break;case 9:case 10:case 13:case 32:x+=kt(p);break;case 92:x+=bt(dt()-1,7);continue;case 47:switch(ht()){case 42:case 47:tt(Ft(_t(ft(),dt()),t,n),s);break;default:x+="/"}break;case 123*v:u[c++]=$e(x)*m;case 125*v:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+l:d>0&&$e(x)-f&&tt(d>32?Ut(x+";",r,n,f-1):Ut(Ze(x," ","")+";",r,n,f-2),s);break;case 59:x+=";";default:if(tt(_=Mt(x,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)Lt(x,t,_,_,b,a,f,u,w);else switch(h){case 100:case 109:case 115:Lt(e,_,_,r&&tt(Mt(e,_,_,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:Lt(x,_,_,_,[""],w,0,u,w)}}c=l=d=0,v=m=1,k=x="",f=o;break;case 58:f=1+$e(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==lt())continue;switch(x+=We(g),g*v){case 38:m=l>0?1:(x+="\f",-1);break;case 44:u[c++]=($e(x)-1)*m,m=1;break;case 64:45===ht()&&(x+=gt(ft())),h=ht(),l=f=$e(k=x+=xt(dt())),g++;break;case 45:45===p&&2==$e(x)&&(v=0)}}return a}function Mt(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=et(h),p=0,v=0,y=0;p<r;++p)for(var m=0,g=Je(e,f+1,f=Ge(v=o[p])),k=e;m<d;++m)(k=Qe(v>0?h[m]+" "+g:Ze(g,/&\f/g,h[m])))&&(s[y++]=k);return st(e,t,n,0===i?At:u,s,c,l)}function Ft(e,t,n){return st(e,t,n,Tt,We(ot),Je(e,2,-2),0)}function Ut(e,t,n,r){return st(e,t,n,Ct,Je(e,0,r),Je(e,r+1,-1),r)}var jt=function(e,t,n){for(var r=0,i=0;r=i,i=ht(),38===r&&12===i&&(t[n]=1),!vt(i);)ft();return pt(e,at)},Vt=function(e,t){return mt(function(e,t){var n=-1,r=44;do{switch(vt(r)){case 0:38===r&&12===ht()&&(t[n]=1),e[n]+=jt(at-1,t,n);break;case 2:e[n]+=gt(r);break;case 4:if(44===r){e[++n]=58===ht()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=We(r)}}while(r=ft());return e}(yt(e),t))},Bt=new WeakMap,zt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Bt.get(n))&&!r){Bt.set(e,!0);for(var i=[],a=Vt(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},qt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Kt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ct:e.return=Rt(e.value,e.length);break;case Nt:return Ot([ct(e,{value:Ze(e.value,"@","@"+Et)})],r);case At:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ot([ct(e,{props:[Ze(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Ot([ct(e,{props:[Ze(t,/:(plac\w+)/,":-webkit-input-$1")]}),ct(e,{props:[Ze(t,/:(plac\w+)/,":-moz-$1")]}),ct(e,{props:[Ze(t,/:(plac\w+)/,It+"input-$1")]})],r)}return""}))}}],Gt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Kt;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[Pt,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=et(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([zt,qt].concat(r,l));a=function(e,t,n,r){s=n,Ot(Dt(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Ke({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Wt=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Ht={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Qt=/[A-Z]|^ms/g,Zt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Yt=function(e){return 45===e.charCodeAt(1)},Xt=function(e){return null!=e&&"boolean"!==typeof e},Jt=Be((function(e){return Yt(e)?e:e.replace(Qt,"-$&").toLowerCase()})),$t=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Zt,(function(e,t,n){return tn={name:t,styles:n,next:tn},t}))}return 1===Ht[e]||Yt(e)||"number"!==typeof t||0===t?t:t+"px"};function en(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return tn={name:n.name,styles:n.styles,next:tn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)tn={name:r.name,styles:r.styles,next:tn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=en(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Xt(o)&&(r+=Jt(a)+":"+$t(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=en(e,t,o);switch(a){case"animation":case"animationName":r+=Jt(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Xt(o[s])&&(r+=Jt(a)+":"+$t(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=tn,a=n(e);return tn=i,en(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var tn,nn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var rn=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";tn=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=en(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=en(n,t,e[o]),r&&(i+=a[o]);nn.lastIndex=0;for(var u,s="";null!==(u=nn.exec(i));)s+="-"+u[1];return{name:Wt(i)+s,styles:i,next:tn}},an=(0,l.createContext)("undefined"!==typeof HTMLElement?Gt({key:"css"}):null);an.Provider;var on=function(e){return(0,l.forwardRef)((function(t,n){var r=(0,l.useContext)(an);return e(t,r,n)}))},un=(0,l.createContext)({});f.useInsertionEffect&&f.useInsertionEffect;function sn(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var cn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ln=qe,fn=function(e){return"theme"!==e},hn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ln:fn},dn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},pn=f.useInsertionEffect?f.useInsertionEffect:function(e){e()};var vn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;cn(t,n,r);var i;i=function(){return function(e,t,n){cn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)},pn(i);return null},yn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var u=dn(t,n,a),s=u||hn(o),f=!s("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var y=on((function(e,t,n){var r=f&&e.as||o,a="",c=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,l.useContext)(un)}"string"===typeof e.className?a=sn(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var v=rn(d.concat(c),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var y=f&&void 0===u?hn(r):s,m={};for(var g in e)f&&"as"===g||y(g)&&(m[g]=e[g]);return m.className=a,m.ref=n,(0,l.createElement)(l.Fragment,null,(0,l.createElement)(vn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),(0,l.createElement)(r,m))}));return y.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=o,y.__emotion_styles=d,y.__emotion_forwardProp=u,Object.defineProperty(y,"toString",{value:function(){return"."+i}}),y.withComponent=function(t,r){return e(t,c({},n,r,{shouldForwardProp:dn(y,r,!0)})).apply(void 0,d)},y}},mn=yn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){mn[e]=mn(e)}));var gn=mn;function kn(e,t){return gn(e,t)}var bn=["variant"];function wn(e){return 0===e.length}function _n(e){var t=e.variant,n=h(e,bn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?wn(r)?e[t]:o(e[t]):"".concat(wn(r)?t:o(t)).concat(o(e[t].toString()))})),r}var xn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?O(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function In(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Sn=N({prop:"border",themeKey:"borders",transform:In}),En=N({prop:"borderTop",themeKey:"borders",transform:In}),Tn=N({prop:"borderRight",themeKey:"borders",transform:In}),An=N({prop:"borderBottom",themeKey:"borders",transform:In}),Cn=N({prop:"borderLeft",themeKey:"borders",transform:In}),Nn=N({prop:"borderColor",themeKey:"palette"}),On=N({prop:"borderTopColor",themeKey:"palette"}),Pn=N({prop:"borderRightColor",themeKey:"palette"}),Rn=N({prop:"borderBottomColor",themeKey:"palette"}),Dn=N({prop:"borderLeftColor",themeKey:"palette"}),Ln=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=j(e.theme,"shape.borderRadius",4);return S(e,e.borderRadius,(function(e){return{borderRadius:B(t,e)}}))}return null};Ln.propTypes={},Ln.filterProps=["borderRadius"];var Mn=xn(Sn,En,Tn,An,Cn,Nn,On,Pn,Rn,Dn,Ln),Fn=xn(N({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),N({prop:"display"}),N({prop:"overflow"}),N({prop:"textOverflow"}),N({prop:"visibility"}),N({prop:"whiteSpace"})),Un=xn(N({prop:"flexBasis"}),N({prop:"flexDirection"}),N({prop:"flexWrap"}),N({prop:"justifyContent"}),N({prop:"alignItems"}),N({prop:"alignContent"}),N({prop:"order"}),N({prop:"flex"}),N({prop:"flexGrow"}),N({prop:"flexShrink"}),N({prop:"alignSelf"}),N({prop:"justifyItems"}),N({prop:"justifySelf"})),jn=function(e){if(void 0!==e.gap&&null!==e.gap){var t=j(e.theme,"spacing",8);return S(e,e.gap,(function(e){return{gap:B(t,e)}}))}return null};jn.propTypes={},jn.filterProps=["gap"];var Vn=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=j(e.theme,"spacing",8);return S(e,e.columnGap,(function(e){return{columnGap:B(t,e)}}))}return null};Vn.propTypes={},Vn.filterProps=["columnGap"];var Bn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=j(e.theme,"spacing",8);return S(e,e.rowGap,(function(e){return{rowGap:B(t,e)}}))}return null};Bn.propTypes={},Bn.filterProps=["rowGap"];var zn=xn(jn,Vn,Bn,N({prop:"gridColumn"}),N({prop:"gridRow"}),N({prop:"gridAutoFlow"}),N({prop:"gridAutoColumns"}),N({prop:"gridAutoRows"}),N({prop:"gridTemplateColumns"}),N({prop:"gridTemplateRows"}),N({prop:"gridTemplateAreas"}),N({prop:"gridArea"})),qn=xn(N({prop:"position"}),N({prop:"zIndex",themeKey:"zIndex"}),N({prop:"top"}),N({prop:"right"}),N({prop:"bottom"}),N({prop:"left"})),Kn=xn(N({prop:"color",themeKey:"palette"}),N({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),N({prop:"backgroundColor",themeKey:"palette"})),Gn=N({prop:"boxShadow",themeKey:"shadows"});function Wn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Hn=N({prop:"width",transform:Wn}),Qn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return S(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||x[t]||Wn(t)}}))}return null};Qn.filterProps=["maxWidth"];var Zn=N({prop:"minWidth",transform:Wn}),Yn=N({prop:"height",transform:Wn}),Xn=N({prop:"maxHeight",transform:Wn}),Jn=N({prop:"minHeight",transform:Wn}),$n=(N({prop:"size",cssProperty:"width",transform:Wn}),N({prop:"size",cssProperty:"height",transform:Wn}),xn(Hn,Qn,Zn,Yn,Xn,Jn,N({prop:"boxSizing"}))),er=N({prop:"fontFamily",themeKey:"typography"}),tr=N({prop:"fontSize",themeKey:"typography"}),nr=N({prop:"fontStyle",themeKey:"typography"}),rr=N({prop:"fontWeight",themeKey:"typography"}),ir=N({prop:"letterSpacing"}),ar=N({prop:"textTransform"}),or=N({prop:"lineHeight"}),ur=N({prop:"textAlign"}),sr=xn(N({prop:"typography",cssProperty:!1,themeKey:"typography"}),er,tr,nr,rr,ir,or,ur,ar),cr={borders:Mn.filterProps,display:Fn.filterProps,flexbox:Un.filterProps,grid:zn.filterProps,positions:qn.filterProps,palette:Kn.filterProps,shadows:Gn.filterProps,sizing:$n.filterProps,spacing:H.filterProps,typography:sr.filterProps},lr={borders:Mn,display:Fn,flexbox:Un,grid:zn,positions:qn,palette:Kn,shadows:Gn,sizing:$n,spacing:H,typography:sr};Object.keys(cr).reduce((function(e,t){return cr[t].forEach((function(n){e[n]=lr[t]})),e}),{});function fr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function hr(e,t){return"function"===typeof e?e(t):e}var dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(i={},(0,g.Z)(i,e,n),(0,g.Z)(i,"theme",r),i),o=t[e];return o?o(a):(0,g.Z)({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=E(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=hr(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=O(s,n(e,a,u));else{var o=S({theme:u},a,(function(t){return(0,g.Z)({},e,t)}));fr(o,a)?s[e]=r({sx:a,theme:u}):s=O(s,o)}else s=O(s,n(e,a,u))})),T(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();dr.filterProps=["sx"];var pr=dr,vr=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],yr=["theme"],mr=["theme"];function gr(e){return 0===Object.keys(e).length}var kr=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},br=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=_n(e.props);r[t]=e.style})),r},wr=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[_n(n.props)])})),s};function _r(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var xr=Y();var Ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?xr:t,r=e.rootShouldForwardProp,i=void 0===r?_r:r,a=e.slotShouldForwardProp,o=void 0===a?_r:a,u=e.styleFunctionSx,s=void 0===u?pr:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,l=r.skipVariantsResolver,f=r.skipSx,d=r.overridesResolver,p=h(r,vr),v=void 0!==l?l:u&&"Root"!==u||!1,y=f||!1;var m=_r;"Root"===u?m=i:u&&(m=o);var g=kn(e,c({shouldForwardProp:m,label:t},p)),k=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=h(t,yr);return e(c({theme:gr(r)?n:r},i))}:e})):[],u=e;a&&d&&o.push((function(e){var t=gr(e.theme)?n:e.theme,r=kr(a,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=(0,_.Z)(t,2),r=n[0],a=n[1];i[r]="function"===typeof a?a(e):a})),d(e,i)}return null})),a&&!v&&o.push((function(e){var t=gr(e.theme)?n:e.theme;return wr(e,br(a,t),t,a)})),y||o.push((function(e){var t=gr(e.theme)?n:e.theme;return s(c({},e,{theme:t}))}));var l=o.length-r.length;if(Array.isArray(e)&&l>0){var f=new Array(l).fill("");(u=[].concat((0,Ve.Z)(e),(0,Ve.Z)(f))).raw=[].concat((0,Ve.Z)(e.raw),(0,Ve.Z)(f))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=h(t,mr);return e(c({theme:gr(r)?n:r},i))});var p=g.apply(void 0,[u].concat((0,Ve.Z)(o)));return p};return g.withConfig&&(k.withConfig=g.withConfig),k}}({defaultTheme:Ue,rootShouldForwardProp:function(e){return _r(e)&&"classes"!==e}}),Sr=Ir,Er={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Tr(e,t){return Er[t]||"".concat(i.generate(e),"-").concat(t)}function Ar(e){return Tr("MuiSvgIcon",e)}!function(e,t){var n={};t.forEach((function(t){n[t]=Tr(e,t)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Cr=n(184),Nr=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Or=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(u(t)),"fontSize".concat(u(n))]},Ar,r)},Pr=Sr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(u(n.color))],t["fontSize".concat(u(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,y,m,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(h=g.palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=g.palette)||null==(v=p.action)?void 0:v.active,disabled:null==(y=g.palette)||null==(m=y.action)?void 0:m.disabled,inherit:void 0}[k.color]}})),Rr=l.forwardRef((function(e,t){var n=je({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,l=n.fontSize,f=void 0===l?"medium":l,d=n.htmlColor,v=n.inheritViewBox,y=void 0!==v&&v,m=n.titleAccess,g=n.viewBox,k=void 0===g?"0 0 24 24":g,b=h(n,Nr),w=c({},n,{color:o,component:s,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:k}),_={};y||(_.viewBox=k);var x=Or(w);return(0,Cr.jsxs)(Pr,c({as:s,className:p(x.root,i),ownerState:w,focusable:"false",color:d,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},_,b,{children:[r,m?(0,Cr.jsx)("title",{children:m}):null]}))}));Rr.muiName="SvgIcon";var Dr=Rr;function Lr(e,t){var n=function(n,r){return(0,Cr.jsx)(Dr,c({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=Dr.muiName,l.memo(l.forwardRef(n))}var Mr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r};var Fr=function(e,t){return function(){return null}};var Ur=function(e,t){return l.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function jr(e){return e&&e.ownerDocument||document}var Vr=jr;var Br=function(e){return jr(e).defaultView||window};var zr=function(e,t){return function(){return null}};function qr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var Kr=qr,Gr="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,Wr=Gr,Hr=0;var Qr=f.useId;var Zr=function(e){if(void 0!==Qr){var t=Qr();return null!=e?e:t}return function(e){var t=l.useState(e),n=(0,_.Z)(t,2),r=n[0],i=n[1],a=e||r;return l.useEffect((function(){null==r&&i("mui-".concat(Hr+=1))}),[r]),a}(e)};var Yr=function(e,t,n,r,i){return null};var Xr=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,l.useRef(void 0!==t).current),i=l.useState(n),a=(0,_.Z)(i,2),o=a[0],u=a[1];return[r?t:o,l.useCallback((function(e){r||u(e)}),[])]};var Jr=function(e){var t=l.useRef(e);return Gr((function(){t.current=e})),l.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var $r,ei=function(e,t){return l.useMemo((function(){return null==e&&null==t?null:function(n){qr(e,n),qr(t,n)}}),[e,t])},ti=!0,ni=!1,ri={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ii(e){e.metaKey||e.altKey||e.ctrlKey||(ti=!0)}function ai(){ti=!1}function oi(){"hidden"===this.visibilityState&&ni&&(ti=!0)}function ui(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ti||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!ri[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var si=function(){var e=l.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",ii,!0),t.addEventListener("mousedown",ai,!0),t.addEventListener("pointerdown",ai,!0),t.addEventListener("touchstart",ai,!0),t.addEventListener("visibilitychange",oi,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!ui(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(ni=!0,window.clearTimeout($r),$r=window.setTimeout((function(){ni=!1}),100),t.current=!1,!0)},ref:e}},ci={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),i.configure(e)}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,I=60107,S=60108,E=60114,T=60109,A=60110,C=60112,N=60113,O=60120,P=60115,R=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;_=j("react.element"),x=j("react.portal"),I=j("react.fragment"),S=j("react.strict_mode"),E=j("react.profiler"),T=j("react.provider"),A=j("react.context"),C=j("react.forward_ref"),N=j("react.suspense"),O=j("react.suspense_list"),P=j("react.memo"),R=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function G(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return H(e.type);case D:return H(e._render);case R:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ae=null,Ce=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ae?Ce?Ce.push(e):Ce=[e]:Ae=e}function Pe(){if(Ae){var e=Ae,t=Ce;if(Ce=Ae=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Re,Fe=!1,Ue=!1;function je(){null===Ae&&null===Ce||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ye){Be=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,Ge=null,We=!1,He=null,Qe={onError:function(e){Ke=!0,Ge=e}};function Ze(e,t,n,r,i,a,o,u,s){Ke=!1,Ge=null,qe.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},St={},Et={};function Tt(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return St[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var At=Tt("animationend"),Ct=Tt("animationiteration"),Nt=Tt("animationstart"),Ot=Tt("transitionend"),Pt=new Map,Rt=new Map,Dt=["abort","abort",At,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/Wt|0)|0},Gt=Math.log,Wt=Math.LN2;var Ht=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Zt=!0;function Yt(e,t,n,r){Fe||Le();var i=Jt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||je()}}function Xt(e,t,n,r){Qt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Zt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=$t(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Ee(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(wn),xn=sn(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function An(){return Tn}var Cn=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(Cn),On=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Rn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Fn||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zn=null,Yn=null;function Xn(e){Cr(e,0)}function Jn(e){if(X(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Zn&&(Zn.detachEvent("onpropertychange",ar),Yn=Zn=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,Ee(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Re(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Zn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Ir.length;Sr++)Rt.set(Ir[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ze.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=Ge;Ke=!1,Ge=null,We||(We=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Ar(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Ar(i,u,c),a=s}}}if(We)throw e=He,We=!1,He=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Tr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Ee(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case At:case Ct:case Nt:s=bn;break;case Ot:s=Rn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=$n;else if(Hn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(kr=m,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Gn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Gn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Gn=!0)),0<(m=Fr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Cr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Zr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,$r="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Zr(e);null!==e;){if(n=e[Jr])return n;e=Zr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[$r]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,H(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ii=null,Si=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ai=a.unstable_shouldYield,Ci=a.unstable_requestPaint,Ni=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ci?Ci:function(){},ji=null,Vi=null,Bi=!1,zi=Ni(),qi=1e4>zi?Ni:function(){return Ni()-zi};function Ki(){switch(Oi()){case Pi:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Gi(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Wi(e,t){return e=Gi(e),Si(e,t)}function Hi(e,t,n){return e=Gi(e),Ei(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Zi()}function Zi(){if(!Bi&&null!==ji){Bi=!0;var e=0;try{var t=ji;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ei(Pi,Qi),n}finally{Bi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),$i=null,ea=null,ta=null;function na(){ta=ea=$i=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){$i=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===$i)throw Error(o(308));ea=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ws(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Hs(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Hs(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Xs(t,e.mode,n)).return=e,t}if(_a(t)||z(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(_a(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Hs(a.type,a.key,a.props,null,e.mode,s)).ref=xa(e,r,a),s.return=e,e=s)}return u(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(_a(a))return v(e,r,a,s);if(z(a))return y(e,r,a,s);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,H(e.type)||"Component"))}return n(e,r)}}var Ea=Sa(!0),Ta=Sa(!1),Aa={},Ca=ci(Aa),Na=ci(Aa),Oa=ci(Aa);function Pa(e){if(e===Aa)throw Error(o(174));return e}function Ra(e,t){switch(fi(Oa,t),fi(Na,e),fi(Ca,Aa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ca),fi(Ca,t)}function Da(){li(Ca),li(Na),li(Oa)}function La(e){Pa(Oa.current);var t=Pa(Ca.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Ca,n))}function Ma(e){Na.current===e&&(li(Ca),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,Ba=!1;function za(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(Ba){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(ja=e);za(ja,n)}ja=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,ja=e}}function Ga(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Wa(e){if(e!==ja)return!1;if(!Ba)return Ga(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Va;t;)za(e,t),t=Qr(t.nextSibling);if(Ga(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Qr(e.stateNode.nextSibling):null;return!0}function Ha(){Va=ja=null,Ba=!1}var Qa=[];function Za(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,$a=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=$a=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$a.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$a.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$a.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,$a.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ru;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=$a;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,$a,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,$a,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();$a.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}$a.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function _o(e,t){return bo(516,4,e,t)}function xo(e,t){return wo(516,4,e,t)}function Io(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function To(){}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Ki();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,$a,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:To,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,mo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Ao,useContext:oa,useEffect:xo,useImperativeHandle:Eo,useLayoutEffect:Io,useMemo:Co,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Ao,useContext:oa,useEffect:xo,useImperativeHandle:Eo,useLayoutEffect:Io,useMemo:Co,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ea(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Gs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ws(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ko(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_s(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_s(t,e),null;t.memoizedState={baseLanes:0},_s(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_s(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Go(e,t,n,r,i){if(mi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var Qo,Zo,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Zs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Zs(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ws(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ws(o,u),null!==e?r=Ws(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ws(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ws(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Za(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Zo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Ca.current),Wa(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[$r]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Nr(Er[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ie(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[$r]=r,Qo(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Nr(Er[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=$(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?_e(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Ca.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Ru||0===(134217727&Bu)&&0===(134217727&zu)||gs(Ru,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Wu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return xs(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Za(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return xs(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Zo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Ca.current);var o,u=null;switch(n){case"input":a=$(e,a),r=$(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Su(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function _u(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xu(e,n,t):Iu(e,n,t)}function xu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xu(e,t,n),e=e.sibling;null!==e;)xu(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Su(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Eu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?_e(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Gu=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Au(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cu=Math.ceil,Nu=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Pu=0,Ru=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Uu=0,ju=null,Vu=0,Bu=0,zu=0,qu=0,Ku=null,Gu=0,Wu=1/0;function Hu(){Wu=qi()+500}var Qu,Zu=null,Yu=!1,Xu=null,Ju=null,$u=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Ru&&(zu|=t,4===Uu&&gs(e,Lu));var r=Ki();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ys(e,n),0===Pu&&(Hu(),Qi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Ru?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===ji?(ji=[n],Vi=Ei(Pi,Zi)):ji.push(n),n=Fi):14===t?n=Hi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Ru?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Es();for(Ru===e&&Lu===r||(Hu(),Is(e,r));;)try{Cs();break}catch(s){Ss(e,s)}if(na(),Nu.current=a,Pu=i,null!==Du?r=0:(Ru=null,Lu=0,r=Uu),0!==(Vu&zu))Is(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=jt(e))&&(r=Ts(e,n))),1===r)throw t=ju,Is(e,0),gs(e,n),ys(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Gu+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cu(n/1960))-n)){e.timeoutHandle=Gr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ys(e,qi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Ru&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&zu)&&(n=Ts(e,t=Ut(e,t)))}else n=Ts(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=jt(e))&&(n=Ts(e,t))),1===n)throw n=ju,Is(e,0),gs(e,t),ys(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ys(e,qi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Hu(),Qi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Hu(),Qi())}}function _s(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function xs(){Mu=Fu.current,li(Fu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Za();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:xs()}n=n.return}Ru=e,Du=Ws(e.current,null),Lu=Mu=Vu=t,Uu=0,ju=null,qu=zu=Bu=0}function Ss(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Po,no){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=$a=null,ro=!1,Ou.current=null,null===n||null===n.return){Uu=1,ju=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((H(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Ju||!Ju.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(x){t=x,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Es(){var e=Nu.current;return Nu.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=Es();for(Ru===e&&Lu===t||Is(e,t);;)try{As();break}catch(i){Ss(e,i)}if(na(),Pu=n,Nu.current=r,null!==Du)throw Error(o(261));return Ru=null,Lu=0,Uu}function As(){for(;null!==Du;)Ns(Du)}function Cs(){for(;null!==Du&&!Ai();)Ns(Du)}function Ns(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Du=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Uu&&(Uu=5)}function Ps(e){var t=Ki();return Wi(99,Rs.bind(null,e,t)),null}function Rs(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ru&&(Du=Ru=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ou.current=null,Br=Zt,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(E){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:u,selectionRange:s},Zt=!1,ls=null,fs=!1,Zu=r;do{try{Ds()}catch(E){if(null===Zu)throw Error(o(330));Vs(Zu,E),Zu=Zu.nextEffect}}while(null!==Zu);ls=null,Zu=r;do{try{for(u=e;null!==Zu;){var k=Zu.flags;if(16&k&&ge(Zu.stateNode,""),128&k){var b=Zu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:_u(Zu),Zu.flags&=-3;break;case 6:_u(Zu),Zu.flags&=-3,Eu(Zu.alternate,Zu);break;case 1024:Zu.flags&=-1025;break;case 1028:Zu.flags&=-1025,Eu(Zu.alternate,Zu);break;case 4:Eu(Zu.alternate,Zu);break;case 8:Su(u,s=Zu);var _=s.alternate;bu(s),null!==_&&bu(_)}Zu=Zu.nextEffect}}catch(E){if(null===Zu)throw Error(o(330));Vs(Zu,E),Zu=Zu.nextEffect}}while(null!==Zu);if(w=zr,b=yr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,_=Math.min(u.start,s),u=void 0===u.end?_:Math.min(u.end,s),!w.extend&&_>u&&(s=u,u=_,_=s),s=pr(k,_),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),_>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Zt=!!Br,zr=Br=null,e.current=n,Zu=r;do{try{for(k=e;null!==Zu;){var x=Zu.flags;if(36&x&&mu(k,Zu.alternate,Zu),128&x){b=void 0;var I=Zu.ref;if(null!==I){var S=Zu.stateNode;Zu.tag,b=S,"function"===typeof I?I(b):I.current=b}}Zu=Zu.nextEffect}}catch(E){if(null===Zu)throw Error(o(330));Vs(Zu,E),Zu=Zu.nextEffect}}while(null!==Zu);Zu=null,Ui(),Pu=i}else e.current=n;if($u)$u=!1,es=e,ts=t;else for(Zu=r;null!==Zu;)t=Zu.nextEffect,Zu.nextEffect=null,8&Zu.flags&&((x=Zu).sibling=null,x.stateNode=null),Zu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(E){}if(ys(e,qi()),Yu)throw Yu=!1,e=Xu,Xu=null,e;return 0!==(8&Pu)||Qi(),null}function Ds(){for(;null!==Zu;){var e=Zu.alternate;fs||null===ls||(0!==(8&Zu.flags)?et(Zu,ls)&&(fs=!0):13===Zu.tag&&Au(e,Zu)&&et(Zu,ls)&&(fs=!0));var t=Zu.flags;0!==(256&t)&&yu(e,Zu),0===(512&t)||$u||($u=!0,Hi(97,(function(){return Ls(),null}))),Zu=Zu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Wi(e,Us)}return!1}function Ms(e,t){ns.push(t,e),$u||($u=!0,Hi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),$u||($u=!0,Hi(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Qi(),!0}function js(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ys(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>qi()-Gu?Is(e,0):qu|=n),ys(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=Vu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ys(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new qs(e,t,n,r)}function Gs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ws(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Gs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case S:u=8,i|=1;break;case E:return(e=Ks(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case N:return(e=Ks(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case O:return(e=Ks(19,n,t,i)).elementType=O,e.lanes=a,e;case F:return Zs(n,i,a,t);case U:return(e=Ks(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case A:u=9;break e;case C:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function Zs(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function $s(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return $s(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Ho(t),Ha();break;case 5:La(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Gs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Go(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Go(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),ja=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ha();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Jo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=bs,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Hu(),Qi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,qi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Hu(),Qi())}};var sc={Events:[ri,ii,ai,Oe,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ii=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Pu=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+E(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+E(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function O(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(C([])));w&&w!==n&&r.call(w,a)&&(k=w);var _=g.prototype=y.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(_,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),s(_,u,"Generator"),s(_,a,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],T=[],A=1,C=null,N=3,O=!1,P=!1,R=!1;function D(e){for(var t=x(T);null!==t;){if(null===t.callback)I(T);else{if(!(t.startTime<=e))break;I(T),t.sortIndex=t.expirationTime,_(E,t)}t=x(T)}}function L(e){if(R=!1,D(e),!P)if(null!==x(E))P=!0,n(M);else{var t=x(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,R&&(R=!1,i()),O=!0;var a=N;try{for(D(n),C=x(E);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,N=C.priorityLevel;var u=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?C.callback=u:C===x(E)&&I(E),D(n)}else I(E);C=x(E)}if(null!==C)var s=!0;else{var c=x(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{C=null,N=a,O=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return x(E)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:A++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,_(T,e),null===x(E)&&e===x(T)&&(R?i():R=!0,r(L,o-u))):(e.sortIndex=s,_(E,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},168:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABLAAAAMgCAMAAAAEPmswAAAAA3NCSVQICAjb4U/gAAAABlBMVEXCy9Lx8/WtnwOiAAARsklEQVR4nO3WSXLkOBAEQPX/Pz3W62ipUhEkgGAC7rrpJEYGwvT2BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9PXj7cdnb79/AG7iy0w9YbmAmAf/UR3aLYCpTk2V/7aAya5uldUC5ui3Vv9WC6C//mNltIARxq2V0QI6Gj5WNgvoY9ZcGS3gmrlrZbKAswJrZbSAM3JzZbKAJtm5+iUdAVBCeqr+SQcB3F16pT5KpwHcWHqgvkonAtxUepyeSMcC3E96l76Rjga4l/QmvZCOB7iP9B4dkI4IuIf0Fh2VzgmIS89Qi3RWQFR6glql8wJy0vtzQjoyICO9PSelYwPmS+/OBenogMnSo3NNOj1govTgXJdOEJgkPTZ9pFMEZkgvTTfpIIHR0ivTVTpMYKj0xPSWzhMYJj0vA6QjBQZJj8sY6VSBEdLLMkw6WKC39KoMlQ4X6Co9KaOl8wW6Sc/JBOmIgU7SYzJHOmWgh/SSTJMOGrgqvSIzpbMGrklvyGTpuIEL0gMyXTpw4LT0fCSkMwdOSU9HSjp3oF16N3LSyQOt0qsRlQ4faJKejLB0/MBx6b24gfQJgIPSY3EL6SMAh6Sn4i7SdwBeS+/EfaQvAbySXolbSR8D+FZ6Im4mfQ7gufQ+3FD6JMAT6XG4pfRRgIfS03BX6bsAX6V34b7SlwE+S6/CnaVvA3yU3oSbS58HeCc9CLeXPhDwT3oOKkjfCPgtvQU1pK8E/JRegirSdwLMVYP0rWB76REoJX0s2Fx6AopJnwt2ln7/BaVPBvtKv/6K0jeDXaXffk3pq8GW0g+/rPThYEfpd19Y+nSwm/Sbry19PdhM+skXlz4fbCX94OtLXxD2kX7tK0jfEHaRfutrSF8R9pB+6atI3xF2kH7n60hfEtaXfuVLSR8TFpd+4otJnxOWln7gy0kfFBaWft4LSp8UlpV+3GtKXxXWlH7Zq0rfFVaUftfrSl8WFpR+1gtLnxaWk37US0sfF9aSftGrS98XlpJ+0OtLXxjWkX7NO0jfGFaRfst7SF8Z1pB+ybtI3xlWkH7H+0hfGhaQfsYbSZ8aqku/4c2kzw21pV/wZtLn5sZ+vH+Nb7rySOzlbit9cW5JXQ6Z+VL5LX1z7kZhjpryQPkkfXVuRWUOG/0yeSx9d25DZ1oMfJN8J3147kFpmgx6jbyWPj03oDVtBrxDjkofnzi1adP7CdIkfX6y1KZR19fHCekGEKQ2rfo9PM5JN4AYvWnV6c1xSboFZKhNsy7vjYvSLSBCb5p1eGz0kC4C86lNsw6R0Ue6CsymN836REYX6TIwl9q065QZXaTbwExq065bZnSR7gPzqE27jpnRRboRzKI27bpmRhfpTjCH2rTrnBldpFvBFFrTrnNm9JGuBRNoTbvumdFHuhgMpzXtBmRGH+lqMJrWNBsRGZ2ky8FYStNsSGT0kq4HIylNu0GZ0Um6HwykM80GRUY36YYwjM40GxYZ3aQ7wigq02pYYnSUbgljqEyzgZHRT7omDKExrQYmRk/pojCCxjQaGRhdpatCfwrTaGhg9JUuC93pS6OhgdFZui10pi+NBgdGZ+m+0Je6tBmcF92lG0NX2tJkcFwMkO4MPWlLk9FxMUC6NPSjLE2Gx8UI6drQja60GJ4WY6SLQy+q0mB4WIySrg6daEqD4WExTLo7dKEpDSaExTDp9tCFnhw2PCqGSveHDvTksAlRMVS6QVynJodNiIqx0hXiMi05akJSjJYuEVcpyUETgmK8dI24SEcOmhAU46VrxEU6csyEnJgi3SQu0ZBDJsTEHOkqcYmGHDEhJWZJl4krFOSICSkxTbpNXKAfB0wIiYnSfeI89XhtQkZMlW4Up2nHSxMiYrJ0pzhNN14ZnhDzpUvFWbrxwviACEjXipM043vD8yEjXSzOUYzvDc+HkHSzOEUvvjU8HmLS3eIMtfjO8HTISZeLU7TiG4PDIStdL07QiecGZ0NYul+coBNPDY6GuHTDaKcSzwxOhhtId4x2CvHE0GC4h3TJaKYPjw3NhbtI14xm6vDIyFS4kXTRaKUMjwxMhVtJN41GuvDAwFC4mXTXaKQJXwyLhPtJl41GmvDFsEi4o3TdaKMGnwwKhJtK9402avDRoDy4rXTjaKMEHwyJgztLV442KvDOgDC4u3TpaKIB/xuQBfeXrh1N3P+v7klQQ7p4NHH+P3oHQRHp4tHE9X/rnAOFpLtHC6f/pWsMlJLuHk1c/s1e7S3dPpq4u73aXLp/NNn+6p0CoKx0A2my+9H7fD+FpStIk70v3uHrKS7dQdrsfPAOdae+dA1psvG1u9Sd6tI1pM22x+7Ud6pLF5FGe166Y+OpLV1FGm15566Vp7R0F2m135G7l57C0m2k1W4nHlB66krXkXZ7HXhQ8Skq3UdO2Oi6A6tPSelGcsomlx1ef8pJd5JztjjrlBdALelSctrqF536DqgiXUuu+PH+Wb8tdczYi+DW0r2Eh9IPg5tKFxMeSD8LbitdTfgi/Si4sXQ54bP0m+DO0u2Ej9IvgntL9xPeS78Hbi5dUHgv/R64u3RD4X/p18D9pTsKf6XfAhWkWwp/pJ8CJaRrCr+kHwI1pHsKP6XfAVWkmwpvBovD0lUFe8Vx6bKyvfQToJR0Xdld+gVQS7qv7C3df4pJF5atpetPOenKsrN0+6kn3Vn2le4+FaVby67SzaekdG3ZVbr51JTuLXtK956q0s1lR+nWU1e6u2woXXoKS5eX7aQrT2Xp9rKbdOOpLd1fNpMuPMWlC8xW0nWnvHSF2Um67dSX7jD7SHedBaRLfN6PBw/g5y/TfxdPzC83C0rXuNWjnXr0WeU+bHmDi8wm0j1u0P5tlb5ucQOqy5bSTT5k+Q9cXa+2QrrLr2zxkYvrckP4KV3mb+3ynYvreEa2l27zUxt96tr6H5Kdpfv80F5fu7Zht2RP6UJ/tdv3Lm3sMdlPutGfbPjJK5txTvaS7vR7W370yqYdlH2kS/3Ppp+9sLkXZRPpWv+x63eva/pF2UK6179s/OnLytyU5aWLnax2+ssXljsqi9u72umvX1T2qCxt82ZHP39V6aOysO2LnQxgTemLsjS9tlldpa/J4vTaZPWUviWrU+sfJqub9CFZn1b/ND+FFaWvyAa0+rfpOSwofUN2oNR/TA5iPekDsgel/mtqEstJX49dKPU/E6NYTvp27EKl35kWxmrSh2MfOv3erDTWkr4aO1HpD6bEsZj0zdiJRn80I4+1pC/GXjT6k/GBLCV9Lnaj0Z+NTmQl6VuxH43+YmwkK0lfiv0o9ANDQ1lH+kzsSKEfGBjKQtJXYkv6/MiwVNaRPhGb0ueHBsWyjPR92JU+PzYml1Wkr8O+9PmJEcGsIn0bNqbOz/RPZhHpw7A1dX6mdzKLSJ+Fvanzc52zWUP6KGxOnZ/rm80S0idhe9r8jY7hLCF9D+j4KNNfMkK/dFaQvgb0e5LpDxmjWzwLSN8CfnR7kunPGKZTPvWlDwG/aPP3uuSzgPQd4BdlfqVHQuWljwB/KPMr1xMqL30C+EeZX+nx5EtLHwDe0eaXujz7utLxwzvKfECfl19TOnv4QJkP6PX660knD58o8wH9FqCYdPDwiS4f0nEECkmnDl/o8iFdh6CIdObwgDIf03cMKkgnDo/o8jG99+Du0nnDQ7p8UPdJuLV02vCELh81YBfuKh01PKXLRw3ZhltKJw1P6fJhQ8bhhtI5wzd0+bhBC3Ev6ZDhW7p83LCVuI90xPCCLjcYOBX3kA4YXlDlFiPH4gbS8cJLutxi6F6kpcOFA3S5xeDNiEpnCweocpvRsxGTDhYOUeU246cjIh0rHKTLbSasx3zpUOEoXW41Y0EmS0cKh6lyqzkjMlE6UGigyq1mDckk6TihiS43mzYmE6SzhDa63G7enoyWThJa6XK7mZsyVDpIaKbL7aauyjjpGKGdMp8xdVgGSWcIZ2jzGXO3ZYR0gnCOOp8xeV76SwcI56jzKZP3pbd0fHCWPp8ye2K6SocH5yn0OdNnppt0cnCBRp80fWg6SecGl6j0SfO3pot0bHCNSp8UWJvr0qHBVTp9VmJxrkknBpcp9WmJzbkinRd0oNWnRWbntHRa0IVan5ZZnpPSYUEXan1eZnpOSUcFnej1BaH5aZbOCbpR7AtSC9QmnRL0o9lXpDaoRToj6Em1r4jN0GHphKAv3b4it0THpPOBzpT7ktwWHZKOB3pT7muCc/RSOhvoT7uvSS7S99LJwADqfVFyk76TzgWG0O+LorP0VDoVGETBL8ou02PpTGAUDb8qu02PpBOBcVT8svA+fZaOA0bS8cvSE/VBOgwYSsmvS4/UO+koYDAtvy49U/9LJwGjafl16Z36Ix0DjKfnHaSn6rd0CjCBnveQHitzxSY0vYf0XBksNqHpfZgrmEDXO7FXMJ6y92KvYDht78ZgwWja3o+5gsH0vSN7BWMpfFf2CkbS+L7sFQyk8p3ZKxhH53uzVzCM0ndnrmAUte/PXsEgej+CvYIhFH8IewUjaP4Y9goGUP1BzBX0p/yj2CvoTvuHsVfQm/oPZK6gLw9gJHsFXXkBQ5kr6MkbGMteQUcewWDmCvrxDIazV9CLdzCeuYJOvIQJzBX04S1MYa6gB69hDnMFHXgPs5gruMyLmMhcwTXexFTWCq7wLGazVnCalxFgrOAcryPk7eFsuQd8xwPJevv3A7zkoQBlGCygDIMFlGGwgDIMFlCGwQLKMFhAGQYLKMNgAWUYLKAMgwWUYbCAMgwWUIbBAsowWEAZBgsow2ABZRgsoAyDBZRhsIAyDBZQhsECyjBYQBkGCyjDYAFlGCygDIMFlGGwgDIMFlCGwQLKMFhAGQYLKMNgAWUYLKAMgwWUYbCAMgwWUIbBAsowWEAZBgsow2ABZRgsoAyDBZRhsIAyDBZQhsECyjBYQBkGCyjDYAFlGCygDIMFlGGwgDIMFlCGwQLKMFhAGQYLKMNgAWUYLKAMgwWUYbCAMgwWUIbBAsowWEAZBgsow2ABZRgsoAyDBZRhsIAyDBZQhsECyjBYQBkGCyjDYAFlGCygDIMFlGGwgDIMFlCGwQLKMFhAGQYLKMNgAWUYLKAMgwWUYbCAMgwWUIbBAsowWEAZBgsow2ABZRgsoAyDBZRhsIAyDBZQhsECyjBYQBkGCyjDYAFlGCygDIMFlGGwgDIMFlCGwQLKMFhAGQYLKMNgAWUYLKAMgwWUYbCAMgwWUIbBAsowWEAZBgsow2ABZRgsoAyDBZRhsIAyDBZQhsECyjBYQBkGCyjDYAFlGCygDIMFlGGwgDIMFlCGwQLKMFhAGQYLKMNgAWUYLKAMgwWUYbCAMgwWUIbBAsowWEAZBgsow2ABZRgsoAyDBZRhsIAyDBZQhsECyjBYQBkGCyjDYAFlGCygDIMFlGGwgDIMFlCGwQLKMFhAGQYLKMNgAWUYLKAMgwWUYbCAMgwWUIbBAsowWEAZBgsow2ABZRgsoAyDBZRhsIAyDBZQhsECyjBYQBkGCyjDYAFlGCygDIMFlGGwgDIMFlCGwQLKMFhAGQYLKMNgAWUYLKAMgwWUYbCAMgwWUIbBAsowWEAZBgsow2ABZRgsoAyDBZRhsIAyDBZQhsECyjBYQBkGCyjDYAFlGCygDIMFlGGwgDIMFlCGwQLKMFhAGQYLKMNgAWUYLKAMgwWUYbCAMgwWUIbBAsowWEAZBgsow2ABZRgsoAyDBZRhsIAyDBZQhsECyjBYQBn/AQkIgjhMiZloAAAAAElFTkSuQmCC"},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},982:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return U},SDK_VERSION:function(){return De},_DEFAULT_ENTRY_NAME:function(){return we},_addComponent:function(){return Se},_addOrOverwriteComponent:function(){return Ee},_apps:function(){return xe},_clearComponents:function(){return Ne},_components:function(){return Ie},_getProvider:function(){return Ae},_registerComponent:function(){return Te},_removeServiceInstance:function(){return Ce},deleteApp:function(){return Ue},getApp:function(){return Me},getApps:function(){return Fe},initializeApp:function(){return Le},onLog:function(){return Be},registerVersion:function(){return Ve},setLogLevel:function(){return ze}});var t=n(791),r=n(164),i=n(885),a=n(982),o={apiKey:"AIzaSyBo7Z9_lTljySJYVR-LzmjIRi9wnXa4qd0",authDomain:"dsc-test-dd32c.firebaseapp.com",databaseURL:"https://dsc-test-dd32c-default-rtdb.firebaseio.com/",projectId:"dsc-test-dd32c",storageBucket:"dsc-test-dd32c.appspot.com",messagingSenderId:"464283554098",appId:"1:464283554098:web:3d245d05bd5c64bb65072b",measurementId:"G-ER7STWGLQ3"},u=n(942);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var f=n(181);function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,f.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function k(e,t){if(t&&("object"===g(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function b(e){var t=m();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function w(e,t,n){return w=m()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&p(i,n.prototype),i},w.apply(null,arguments)}function _(e){var t="function"===typeof Map?new Map:void 0;return _=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return w(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},_(e)}var x=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(x(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},S=function(e){var t=x(e);return I.encodeByteArray(t,!0)},E=function(e){return S(e).replace(/\./g,"")},T=function(e){try{return I.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function A(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=A(e[n],t[n]));return e}var C=function(){function e(){var t=this;s(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return l(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function N(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[E(JSON.stringify({alg:"none",type:"JWT"})),E(JSON.stringify(a)),""].join(".")}function O(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function P(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function R(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function D(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function L(){var e=O();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function M(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F(){return"object"===typeof indexedDB}var U=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(d(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(d(a),j.prototype.create),a}return l(n)}(_(Error)),j=function(){function e(t,n,r){s(this,e),this.service=t,this.serviceName=n,this.errors=r}return l(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?V(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new U(n,a,t);return o}}]),e}();function V(e,t){return e.replace(B,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var B=/\{\$([^}]+)}/g;function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function q(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(K(u)&&K(s)){if(!q(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function K(e){return null!==e&&"object"===typeof e}function G(e){for(var t=[],n=function(){var e=(0,i.Z)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function W(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,i.Z)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function H(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Q(e,t){var n=new Z(e,t);return n.subscribe.bind(n)}var Z=function(){function e(t,n){var r=this;s(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return l(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=h(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Y),void 0===r.error&&(r.error=Y),void 0===r.complete&&(r.complete=Y);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Y(){}function X(e){return e&&e._delegate?e._delegate:e}function J(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){J(a,r,i,o,u,"next",e)}function u(e){J(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ee=n(757),te=n.n(ee),ne=function(){function e(t,n,r){s(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return l(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),re="[DEFAULT]",ie=function(){function e(t,n){s(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return l(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new C;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:re})}catch(c){}var t,n=h(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,i.Z)(t.value,2),a=r[0],o=r[1],u=this.normalizeInstanceIdentifier(a);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=$(ee.mark((function e(){var t;return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,a.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,a.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=h(this.instancesDeferred.entries());try{for(u.s();!(a=u.n()).done;){var s=(0,i.Z)(a.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(d){u.e(d)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Mv){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===re?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Mv){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return this.component?this.component.multipleInstances?e:re:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ae,oe,ue=function(){function e(t){s(this,e),this.name=t,this.providers=new Map}return l(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ie(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),se=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(oe||(oe={}));var ce={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},le=oe.INFO,fe=(ae={},(0,u.Z)(ae,oe.DEBUG,"log"),(0,u.Z)(ae,oe.VERBOSE,"log"),(0,u.Z)(ae,oe.INFO,"info"),(0,u.Z)(ae,oe.WARN,"warn"),(0,u.Z)(ae,oe.ERROR,"error"),ae),he=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=fe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},de=function(){function e(t){s(this,e),this.name=t,this._logLevel=le,this._logHandler=he,this._userLogHandler=null,se.push(this)}return l(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in oe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ce[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.DEBUG].concat(t)),this._logHandler.apply(this,[this,oe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,oe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.INFO].concat(t)),this._logHandler.apply(this,[this,oe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.WARN].concat(t)),this._logHandler.apply(this,[this,oe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.ERROR].concat(t)),this._logHandler.apply(this,[this,oe.ERROR].concat(t))}}]),e}();var pe,ve,ye=n(753),me=function(){function e(t){s(this,e),this.container=t}return l(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ge="@firebase/app",ke="0.7.18",be=new de("@firebase/app"),we="[DEFAULT]",_e=(pe={},(0,u.Z)(pe,ge,"fire-core"),(0,u.Z)(pe,"@firebase/app-compat","fire-core-compat"),(0,u.Z)(pe,"@firebase/analytics","fire-analytics"),(0,u.Z)(pe,"@firebase/analytics-compat","fire-analytics-compat"),(0,u.Z)(pe,"@firebase/app-check","fire-app-check"),(0,u.Z)(pe,"@firebase/app-check-compat","fire-app-check-compat"),(0,u.Z)(pe,"@firebase/auth","fire-auth"),(0,u.Z)(pe,"@firebase/auth-compat","fire-auth-compat"),(0,u.Z)(pe,"@firebase/database","fire-rtdb"),(0,u.Z)(pe,"@firebase/database-compat","fire-rtdb-compat"),(0,u.Z)(pe,"@firebase/functions","fire-fn"),(0,u.Z)(pe,"@firebase/functions-compat","fire-fn-compat"),(0,u.Z)(pe,"@firebase/installations","fire-iid"),(0,u.Z)(pe,"@firebase/installations-compat","fire-iid-compat"),(0,u.Z)(pe,"@firebase/messaging","fire-fcm"),(0,u.Z)(pe,"@firebase/messaging-compat","fire-fcm-compat"),(0,u.Z)(pe,"@firebase/performance","fire-perf"),(0,u.Z)(pe,"@firebase/performance-compat","fire-perf-compat"),(0,u.Z)(pe,"@firebase/remote-config","fire-rc"),(0,u.Z)(pe,"@firebase/remote-config-compat","fire-rc-compat"),(0,u.Z)(pe,"@firebase/storage","fire-gcs"),(0,u.Z)(pe,"@firebase/storage-compat","fire-gcs-compat"),(0,u.Z)(pe,"@firebase/firestore","fire-fst"),(0,u.Z)(pe,"@firebase/firestore-compat","fire-fst-compat"),(0,u.Z)(pe,"fire-js","fire-js"),(0,u.Z)(pe,"firebase","fire-js-all"),pe),xe=new Map,Ie=new Map;function Se(e,t){try{e.container.addComponent(t)}catch(n){be.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ee(e,t){e.container.addOrOverwriteComponent(t)}function Te(e){var t=e.name;if(Ie.has(t))return be.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ie.set(t,e);var n,r=h(xe.values());try{for(r.s();!(n=r.n()).done;){Se(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ae(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:we;Ae(e,t).clearInstance(n)}function Ne(){Ie.clear()}var Oe=(ve={},(0,u.Z)(ve,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,u.Z)(ve,"bad-app-name","Illegal App name: '{$appName}"),(0,u.Z)(ve,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,u.Z)(ve,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,u.Z)(ve,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,u.Z)(ve,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,u.Z)(ve,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,u.Z)(ve,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,u.Z)(ve,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,u.Z)(ve,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ve),Pe=new j("app","Firebase",Oe),Re=function(){function e(t,n,r){var i=this;s(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ne("app",(function(){return i}),"PUBLIC"))}return l(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Pe.create("app-deleted",{appName:this._name})}}]),e}(),De="9.6.8";function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:we,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Pe.create("bad-app-name",{appName:String(i)});var a=xe.get(i);if(a){if(q(e,a.options)&&q(r,a.config))return a;throw Pe.create("duplicate-app",{appName:i})}var o,u=new ue(i),s=h(Ie.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Re(e,r,u);return xe.set(i,l),l}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=xe.get(e);if(!t)throw Pe.create("no-app",{appName:e});return t}function Fe(){return Array.from(xe.values())}function Ue(e){return je.apply(this,arguments)}function je(){return(je=$(ee.mark((function e(t){var n;return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!xe.has(n)){e.next=6;break}return xe.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e,t,n){var r,i=null!==(r=_e[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void be.warn(u.join(" "))}Te(new ne("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Be(e,t){if(null!==e&&"function"!==typeof e)throw Pe.create("invalid-log-argument");!function(e,t){var n,r=h(se);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ce[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:oe[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ze(e){var t;t=e,se.forEach((function(e){e.setLogLevel(t)}))}var qe="firebase-heartbeat-store",Ke=null;function Ge(){return Ke||(Ke=(0,ye.openDb)("firebase-heartbeat-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(qe)})).catch((function(e){throw Pe.create("storage-open",{originalErrorMessage:e.message})}))),Ke}function We(e){return He.apply(this,arguments)}function He(){return He=$(ee.mark((function e(t){var n;return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge();case 3:return n=e.sent,e.abrupt("return",n.transaction(qe).objectStore(qe).get(Je(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Pe.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),He.apply(this,arguments)}function Qe(e,t){return Ze.apply(this,arguments)}function Ze(){return Ze=$(ee.mark((function e(t,n){var r,i,a;return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge();case 3:return r=e.sent,i=r.transaction(qe,"readwrite"),a=i.objectStore(qe),e.next=8,a.put(n,Je(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Pe.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ze.apply(this,arguments)}function Ye(e){return Xe.apply(this,arguments)}function Xe(){return Xe=$(ee.mark((function e(t){var n,r;return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge();case 3:return n=e.sent,r=n.transaction(qe,"readwrite"),e.next=7,r.objectStore(qe).delete(Je(t));case 7:return e.abrupt("return",r.complete);case 10:throw e.prev=10,e.t0=e.catch(0),Pe.create("storage-delete",{originalErrorMessage:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Xe.apply(this,arguments)}function Je(e){return"".concat(e.name,"!").concat(e.options.appId)}var $e=function(){function e(t){var n=this;s(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new it(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return l(e,[{key:"triggerHeartbeat",value:function(){var e=$(ee.mark((function e(){var t,n,r;return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=et(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(!this._heartbeatsCache.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.push({date:r,userAgent:n});case 12:return this._heartbeatsCache=this._heartbeatsCache.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=$(ee.mark((function e(){var t,n,r,i;return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache){e.next=5;break}return e.abrupt("return","");case 5:if(t=tt(this._heartbeatsCache),n=t.heartbeatsToSend,r=t.unsentEntries,i=S(JSON.stringify({version:2,heartbeats:n})),!(r.length>0)){e.next=13;break}return this._heartbeatsCache=r,e.next=11,this._storage.overwrite(this._heartbeatsCache);case 11:e.next=15;break;case 13:this._heartbeatsCache=null,this._storage.deleteAll();case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function et(){return(new Date).toISOString().substring(0,10)}function tt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=h(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.userAgent===e.userAgent}));if(a){if(a.dates.push(e.date),at(r)>n)return a.dates.pop(),"break"}else if(r.push({userAgent:e.userAgent,dates:[e.date]}),at(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var nt,rt,it=function(){function e(t){s(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return l(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=$(ee.mark((function e(){return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=$(ee.mark((function e(){var t;return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,We(this.app);case 9:return t=e.sent,e.abrupt("return",(null===t||void 0===t?void 0:t.heartbeats)||[]);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=$(ee.mark((function e(t){return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",Qe(this.app,{heartbeats:t}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=$(ee.mark((function e(t){var n;return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",Qe(this.app,{heartbeats:[].concat((0,a.Z)(n),(0,a.Z)(t))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=$(ee.mark((function e(t){var n;return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",Qe(this.app,{heartbeats:n.filter((function(e){return!t.includes(e)}))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAll",value:function(){var e=$(ee.mark((function e(){return ee.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",Ye(this.app));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function at(e){return S(JSON.stringify({version:2,heartbeats:e})).length}nt="",Te(new ne("platform-logger",(function(e){return new me(e)}),"PRIVATE")),Te(new ne("heartbeat",(function(e){return new $e(e)}),"PRIVATE")),Ve(ge,ke,nt),Ve(ge,ke,"esm2017"),Ve("fire-js","");var ot=function(){function e(t,n){var r=this;s(this,e),this._delegate=t,this.firebase=n,Se(t,new ne("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return l(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ue(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Se(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ee(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ut=(rt={},(0,u.Z)(rt,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,u.Z)(rt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),rt),st=new j("app-compat","Firebase",ut);var ct=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Le(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(z(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ve,setLogLevel:ze,onLog:Be,apps:null,SDK_VERSION:De,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Te(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw st.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&A(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!z(n,e=e||we))throw st.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ot);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){A(n,e)},createSubscribe:Q,ErrorFactory:j,deepExtend:A}),n}(),lt=new de("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){lt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&lt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ht=ct;!function(e){Ve("@firebase/app-compat","0.1.19",e)}();function dt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function pt(){return pt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=dt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},pt.apply(this,arguments)}ht.registerVersion("firebase","9.6.8","app-compat");var vt,yt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},mt={},gt=gt||{},kt=yt||self;function bt(){}function wt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function _t(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var xt="closure_uid_"+(1e9*Math.random()>>>0),It=0;function St(e,t,n){return e.call.apply(e.bind,arguments)}function Et(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Tt(e,t,n){return(Tt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?St:Et).apply(null,arguments)}function At(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ct(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Nt(){this.s=this.s,this.o=this.o}var Ot={};Nt.prototype.s=!1,Nt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,xt)&&e[xt]||(e[xt]=++It)}(this);delete Ot[e]}},Nt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Pt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Rt=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Dt(e){return Array.prototype.concat.apply([],arguments)}function Lt(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Mt(e){return/^[\s\xa0]*$/.test(e)}var Ft,Ut=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function jt(e,t){return-1!=e.indexOf(t)}function Vt(e,t){return e<t?-1:e>t?1:0}e:{var Bt=kt.navigator;if(Bt){var zt=Bt.userAgent;if(zt){Ft=zt;break e}}Ft=""}function qt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Kt(e){var t={};for(var n in e)t[n]=e[n];return t}var Gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wt(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Gt.length;a++)n=Gt[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ht(e){return Ht[" "](e),e}Ht[" "]=bt;var Qt,Zt=jt(Ft,"Opera"),Yt=jt(Ft,"Trident")||jt(Ft,"MSIE"),Xt=jt(Ft,"Edge"),Jt=Xt||Yt,$t=jt(Ft,"Gecko")&&!(jt(Ft.toLowerCase(),"webkit")&&!jt(Ft,"Edge"))&&!(jt(Ft,"Trident")||jt(Ft,"MSIE"))&&!jt(Ft,"Edge"),en=jt(Ft.toLowerCase(),"webkit")&&!jt(Ft,"Edge");function tn(){var e=kt.document;return e?e.documentMode:void 0}e:{var nn="",rn=function(){var e=Ft;return $t?/rv:([^\);]+)(\)|;)/.exec(e):Xt?/Edge\/([\d\.]+)/.exec(e):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):en?/WebKit\/(\S+)/.exec(e):Zt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(rn&&(nn=rn?rn[1]:""),Yt){var an=tn();if(null!=an&&an>parseFloat(nn)){Qt=String(an);break e}}Qt=nn}var on,un={};function sn(){return function(e){var t=un;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ut(String(Qt)).split("."),n=Ut("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Vt(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Vt(0==a[2].length,0==o[2].length)||Vt(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(kt.document&&Yt){var cn=tn();on=cn||(parseInt(Qt,10)||void 0)}else on=void 0;var ln=on,fn=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{kt.addEventListener("test",bt,t),kt.removeEventListener("test",bt,t)}catch(n){}return e}();function hn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function dn(e,t){if(hn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($t){e:{try{Ht(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:pn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&dn.Z.h.call(this)}}hn.prototype.h=function(){this.defaultPrevented=!0},Ct(dn,hn);var pn={2:"touch",3:"pen",4:"mouse"};dn.prototype.h=function(){dn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var vn="closure_listenable_"+(1e6*Math.random()|0),yn=0;function mn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++yn,this.ca=this.fa=!1}function gn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function kn(e){this.src=e,this.g={},this.h=0}function bn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Pt(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(gn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function wn(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}kn.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=wn(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new mn(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var _n="closure_lm_"+(1e6*Math.random()|0),xn={};function In(e,t,n,r,i){if(r&&r.once)return En(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)In(e,t[a],n,r,i);return null}return n=Rn(n),e&&e[vn]?e.N(t,n,_t(r)?!!r.capture:!!r,i):Sn(e,t,n,!1,r,i)}function Sn(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=_t(i)?!!i.capture:!!i,u=On(e);if(u||(e[_n]=u=new kn(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Nn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)fn||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Cn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function En(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)En(e,t[a],n,r,i);return null}return n=Rn(n),e&&e[vn]?e.O(t,n,_t(r)?!!r.capture:!!r,i):Sn(e,t,n,!0,r,i)}function Tn(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Tn(e,t[a],n,r,i);else r=_t(r)?!!r.capture:!!r,n=Rn(n),e&&e[vn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=wn(a=e.g[t],n,r,i))&&(gn(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=On(e))&&(t=e.g[t.toString()],e=-1,t&&(e=wn(t,n,r,i)),(n=-1<e?t[e]:null)&&An(n))}function An(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[vn])bn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Cn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=On(t))?(bn(n,e),0==n.h&&(n.src=null,t[_n]=null)):gn(e)}}}function Cn(e){return e in xn?xn[e]:xn[e]="on"+e}function Nn(e,t){if(e.ca)e=!0;else{t=new dn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&An(e),e=n.call(r,t)}return e}function On(e){return(e=e[_n])instanceof kn?e:null}var Pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rn(e){return"function"===typeof e?e:(e[Pn]||(e[Pn]=function(t){return e.handleEvent(t)}),e[Pn])}function Dn(){Nt.call(this),this.i=new kn(this),this.P=this,this.I=null}function Ln(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new hn(t,e);else if(t instanceof hn)t.target=t.target||e;else{var i=t;Wt(t=new hn(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Mn(o,r,!0,t)&&i}if(i=Mn(o=t.g=e,r,!0,t)&&i,i=Mn(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Mn(o=t.g=n[a],r,!1,t)&&i}function Mn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&bn(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ct(Dn,Nt),Dn.prototype[vn]=!0,Dn.prototype.removeEventListener=function(e,t,n,r){Tn(this,e,t,n,r)},Dn.prototype.M=function(){if(Dn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gn(n[r]);delete t.g[e],t.h--}}this.I=null},Dn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Dn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fn=kt.JSON.stringify;function Un(){var e=Wn,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var jn,Vn=function(){function e(){s(this,e),this.h=this.g=null}return l(e,[{key:"add",value:function(e,t){var n=Bn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Bn=new(function(){function e(t,n){s(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return l(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new zn}),(function(e){return e.reset()})),zn=function(){function e(){s(this,e),this.next=this.g=this.h=null}return l(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function qn(e){kt.setTimeout((function(){throw e}),0)}function Kn(e,t){jn||function(){var e=kt.Promise.resolve(void 0);jn=function(){e.then(Hn)}}(),Gn||(jn(),Gn=!0),Wn.add(e,t)}var Gn=!1,Wn=new Vn;function Hn(){for(var e;e=Un();){try{e.h.call(e.g)}catch(n){qn(n)}var t=Bn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Gn=!1}function Qn(e,t){Dn.call(this),this.h=e||1,this.g=t||kt,this.j=Tt(this.kb,this),this.l=Date.now()}function Zn(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Yn(e,t,n){if("function"===typeof e)n&&(e=Tt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Tt(e.handleEvent,e)}return 2147483647<Number(t)?-1:kt.setTimeout(e,t||0)}function Xn(e){e.g=Yn((function(){e.g=null,e.i&&(e.i=!1,Xn(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ct(Qn,Dn),(vt=Qn.prototype).da=!1,vt.S=null,vt.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ln(this,"tick"),this.da&&(Zn(this),this.start()))}},vt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vt.M=function(){Qn.Z.M.call(this),Zn(this),delete this.g};var Jn=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return l(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Xn(this)}},{key:"M",value:function(){pt(y(n.prototype),"M",this).call(this),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Nt);function $n(e){Nt.call(this),this.h=e,this.g={}}Ct($n,Nt);var er=[];function tr(e,t,n,r){Array.isArray(n)||(n&&(er[0]=n.toString()),n=er);for(var i=0;i<n.length;i++){var a=In(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function nr(e){qt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&An(e)}),e),e.g={}}function rr(){this.g=!0}function ir(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Fn(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}$n.prototype.M=function(){$n.Z.M.call(this),nr(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rr.prototype.Aa=function(){this.g=!1},rr.prototype.info=function(){};var ar={},or=null;function ur(){return or=or||new Dn}function sr(e){hn.call(this,ar.Ma,e)}function cr(e){var t=ur();Ln(t,new sr(t,e))}function lr(e,t){hn.call(this,ar.STAT_EVENT,e),this.stat=t}function fr(e){var t=ur();Ln(t,new lr(t,e))}function hr(e,t){hn.call(this,ar.Na,e),this.size=t}function dr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return kt.setTimeout((function(){e()}),t)}ar.Ma="serverreachability",Ct(sr,hn),ar.STAT_EVENT="statevent",Ct(lr,hn),ar.Na="timingevent",Ct(hr,hn);var pr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yr(){}function mr(e){return e.h||(e.h=e.i())}function gr(){}yr.prototype.h=null;var kr,br={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function wr(){hn.call(this,"d")}function _r(){hn.call(this,"c")}function xr(){}function Ir(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new $n(this),this.P=Er,e=Jt?125:void 0,this.W=new Qn(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Sr}function Sr(){this.i=null,this.g="",this.h=!1}Ct(wr,hn),Ct(_r,hn),Ct(xr,yr),xr.prototype.g=function(){return new XMLHttpRequest},xr.prototype.i=function(){return{}},kr=new xr;var Er=45e3,Tr={},Ar={};function Cr(e,t,n){e.K=1,e.v=Jr(Wr(t)),e.s=n,e.U=!0,Nr(e,null)}function Nr(e,t){e.F=Date.now(),Dr(e),e.A=Wr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),fi(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Sr,e.g=da(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Jn(Tt(e.Ia,e,e.g),e.O)),tr(e.V,e.g,"readystatechange",e.gb),t=e.H?Kt(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),cr(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Or(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Pr(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Rr(e,n))==Ar){4==t&&(e.o=4,fr(14),i=!1),ir(e.j,e.m,null,"[Incomplete Response]");break}if(r==Tr){e.o=4,fr(15),ir(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ir(e.j,e.m,r,null),jr(e,r)}Or(e)&&r!=Ar&&r!=Tr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,fr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),aa(t),t.L=!0,fr(11))):(ir(e.j,e.m,n,"[Invalid Chunked Response]"),Ur(e),Fr(e))}function Rr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ar:(n=Number(t.substring(n,r)),isNaN(n)?Tr:(r+=1)+n>t.length?Ar:(t=t.substr(r,n),e.C=r+n,t))}function Dr(e){e.Y=Date.now()+e.P,Lr(e,e.P)}function Lr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=dr(Tt(e.eb,e),t)}function Mr(e){e.B&&(kt.clearTimeout(e.B),e.B=null)}function Fr(e){0==e.l.G||e.I||sa(e.l,e)}function Ur(e){Mr(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Zn(e.W),nr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function jr(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ki(n.i,e)))if(n.I=e.N,!e.J&&ki(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ua(n),Yi(n)}ia(n),fr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=dr(Tt(n.ab,n),6e3));if(1>=gi(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else la(n,11)}else if((e.J||n.g==e)&&ua(n),!Mt(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(jt(l,"spdy")||jt(l,"quic")||jt(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(bi(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Xr(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ha(r,r.H?r.la:null,r.W),d.J){wi(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Mr(p),Dr(p)),r.g=d}else ra(r);0<n.l.length&&$i(n)}else"stop"!=a[0]&&"close"!=a[0]||la(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?la(n,7):Zi(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}cr(4)}catch(a){}}function Vr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(wt(e)||"string"===typeof e)Rt(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(wt(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(wt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Br(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Br)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function zr(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];qr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)qr(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function qr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(vt=Ir.prototype).setTimeout=function(e){this.P=e},vt.gb=function(e){e=e.target;var t=this.L;t&&3==Ki(e)?t.l():this.Ia(e)},vt.Ia=function(e){try{if(e==this.g)e:{var t=Ki(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Jt||this.g&&(this.h.h||this.g.ga()||Gi(this.g)))){this.I||4!=t||7==n||cr(8==n||0>=r?3:2),Mr(this);var i=this.g.ba();this.N=i;t:if(Or(this)){var a=Gi(this.g);e="";var o=a.length,u=4==Ki(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ur(this),Fr(this);var s="";break t}this.h.i=new kt.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mt(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,fr(12),Ur(this),Fr(this);break e}ir(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,jr(this,i)}this.U?(Pr(this,t,s),Jt&&this.i&&3==t&&(tr(this.V,this.W,"tick",this.fb),this.W.start())):(ir(this.j,this.m,s,null),jr(this,s)),4==t&&Ur(this),this.i&&!this.I&&(4==t?sa(this.l,this):(this.i=!1,Dr(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,fr(12)):(this.o=0,fr(13)),Ur(this),Fr(this)}}}catch(t){}},vt.fb=function(){if(this.g){var e=Ki(this.g),t=this.g.ga();this.C<t.length&&(Mr(this),Pr(this,e,t),this.i&&4!=e&&Dr(this))}},vt.cancel=function(){this.I=!0,Ur(this)},vt.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(cr(3),fr(17)),Ur(this),this.o=2,Fr(this)):Lr(this,this.Y-e)},(vt=Br.prototype).R=function(){zr(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},vt.T=function(){return zr(this),this.g.concat()},vt.get=function(e,t){return qr(this.h,e)?this.h[e]:t},vt.set=function(e,t){qr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},vt.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Kr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Gr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Gr){this.g=void 0!==t?t:e.g,Hr(this,e.j),this.s=e.s,Qr(this,e.i),Zr(this,e.m),this.l=e.l,t=e.h;var n=new ui;n.i=t.i,t.g&&(n.g=new Br(t.g),n.h=t.h),Yr(this,n),this.o=e.o}else e&&(n=String(e).match(Kr))?(this.g=!!t,Hr(this,n[1]||"",!0),this.s=$r(n[2]||""),Qr(this,n[3]||"",!0),Zr(this,n[4]),this.l=$r(n[5]||"",!0),Yr(this,n[6]||"",!0),this.o=$r(n[7]||"")):(this.g=!!t,this.h=new ui(null,this.g))}function Wr(e){return new Gr(e)}function Hr(e,t,n){e.j=n?$r(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qr(e,t,n){e.i=n?$r(t,!0):t}function Zr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yr(e,t,n){t instanceof ui?(e.h=t,function(e,t){t&&!e.j&&(si(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ci(this,t),fi(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ei(t,ai)),e.h=new ui(t,e.g))}function Xr(e,t,n){e.h.set(t,n)}function Jr(e){return Xr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $r(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ei(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ti),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ti(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Gr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ei(t,ni,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ei(t,ni,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ei(n,"/"==n.charAt(0)?ii:ri,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ei(n,oi)),e.join("")};var ni=/[#\/\?@]/g,ri=/[#\?:]/g,ii=/[#\?]/g,ai=/[#\?@]/g,oi=/#/g;function ui(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function si(e){e.g||(e.g=new Br,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ci(e,t){si(e),t=hi(e,t),qr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,qr((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&zr(e)))}function li(e,t){return si(e),t=hi(e,t),qr(e.g.h,t)}function fi(e,t,n){ci(e,t),0<n.length&&(e.i=null,e.g.set(hi(e,t),Lt(n)),e.h+=n.length)}function hi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(vt=ui.prototype).add=function(e,t){si(this),this.i=null,e=hi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},vt.forEach=function(e,t){si(this),this.g.forEach((function(n,r){Rt(n,(function(n){e.call(t,n,r,this)}),this)}),this)},vt.T=function(){si(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},vt.R=function(e){si(this);var t=[];if("string"===typeof e)li(this,e)&&(t=Dt(t,this.g.get(hi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Dt(t,e[n])}return t},vt.set=function(e,t){return si(this),this.i=null,li(this,e=hi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},vt.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},vt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var di=l((function e(t,n){s(this,e),this.h=t,this.g=n}));function pi(e){this.l=e||yi,kt.PerformanceNavigationTiming?e=0<(e=kt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(kt.g&&kt.g.Ea&&kt.g.Ea()&&kt.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vi,yi=10;function mi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function gi(e){return e.h?1:e.g?e.g.size:0}function ki(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function bi(e,t){e.g?e.g.add(t):e.h=t}function wi(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function _i(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=h(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Lt(e.i)}function xi(){}function Ii(){this.g=new xi}function Si(e,t,n){var r=n||"";try{Vr(e,(function(e,n){var i=e;_t(e)&&(i=Fn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ei(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ti(e){this.l=e.$b||null,this.j=e.ib||!1}function Ai(e,t){Dn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ci,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pi.prototype.cancel=function(){if(this.i=_i(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=h(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},xi.prototype.stringify=function(e){return kt.JSON.stringify(e,void 0)},xi.prototype.parse=function(e){return kt.JSON.parse(e,void 0)},Ct(Ti,yr),Ti.prototype.g=function(){return new Ai(this.l,this.j)},Ti.prototype.i=(vi={},function(){return vi}),Ct(Ai,Dn);var Ci=0;function Ni(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Oi(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Pi(e)}function Pi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(vt=Ai.prototype).open=function(e,t){if(this.readyState!=Ci)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Pi(this)},vt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||kt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},vt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oi(this)),this.readyState=Ci},vt.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pi(this)),this.g&&(this.readyState=3,Pi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof kt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ni(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},vt.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Oi(this):Pi(this),3==this.readyState&&Ni(this)}},vt.Ua=function(e){this.g&&(this.response=this.responseText=e,Oi(this))},vt.Ta=function(e){this.g&&(this.response=e,Oi(this))},vt.ha=function(){this.g&&Oi(this)},vt.setRequestHeader=function(e,t){this.v.append(e,t)},vt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},vt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ri=kt.JSON.parse;function Di(e){Dn.call(this),this.headers=new Br,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Li,this.K=this.L=!1}Ct(Di,Dn);var Li="",Mi=/^https?$/i,Fi=["POST","PUT"];function Ui(e){return"content-type"==e.toLowerCase()}function ji(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Vi(e),zi(e)}function Vi(e){e.D||(e.D=!0,Ln(e,"complete"),Ln(e,"error"))}function Bi(e){if(e.h&&"undefined"!=typeof gt&&(!e.C[1]||4!=Ki(e)||2!=e.ba()))if(e.v&&4==Ki(e))Yn(e.Fa,0,e);else if(Ln(e,"readystatechange"),4==Ki(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Kr)[1]||null;if(!a&&kt.self&&kt.self.location){var o=kt.self.location.protocol;a=o.substr(0,o.length-1)}i=!Mi.test(a?a.toLowerCase():"")}t=i}if(t)Ln(e,"complete"),Ln(e,"success");else{e.m=6;try{var u=2<Ki(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Vi(e)}}finally{zi(e)}}}function zi(e,t){if(e.g){qi(e);var n=e.g,r=e.C[0]?bt:null;e.g=null,e.C=null,t||Ln(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function qi(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(kt.clearTimeout(e.A),e.A=null)}function Ki(e){return e.g?e.g.readyState:0}function Gi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Li:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return qt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Xr(e,t,n))}function Hi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qi(e){this.za=0,this.l=[],this.h=new rr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hi("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hi("baseRetryDelayMs",5e3,e),this.$a=Hi("retryDelaySeedMs",1e4,e),this.Ya=Hi("forwardChannelMaxRetries",2,e),this.ra=Hi("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new pi(e&&e.concurrentRequestLimit),this.Ca=new Ii,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Zi(e){if(Xi(e),3==e.G){var t=e.V++,n=Wr(e.F);Xr(n,"SID",e.J),Xr(n,"RID",t),Xr(n,"TYPE","terminate"),ta(e,n),(t=new Ir(e,e.h,t,void 0)).K=2,t.v=Jr(Wr(n)),n=!1,kt.navigator&&kt.navigator.sendBeacon&&(n=kt.navigator.sendBeacon(t.v.toString(),"")),!n&&kt.Image&&((new Image).src=t.v,n=!0),n||(t.g=da(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Dr(t)}fa(e)}function Yi(e){e.g&&(aa(e),e.g.cancel(),e.g=null)}function Xi(e){Yi(e),e.u&&(kt.clearTimeout(e.u),e.u=null),ua(e),e.i.cancel(),e.m&&("number"===typeof e.m&&kt.clearTimeout(e.m),e.m=null)}function Ji(e,t){e.l.push(new di(e.Za++,t)),3==e.G&&$i(e)}function $i(e){mi(e.i)||e.m||(e.m=!0,Kn(e.Ha,e),e.C=0)}function ea(e,t){var n;n=t?t.m:e.V++;var r=Wr(e.F);Xr(r,"SID",e.J),Xr(r,"RID",n),Xr(r,"AID",e.U),ta(e,r),e.o&&e.s&&Wi(r,e.o,e.s),n=new Ir(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=na(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),bi(e.i,n),Cr(n,r,t)}function ta(e,t){e.j&&Vr({},(function(e,n){Xr(t,n,e)}))}function na(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Tt(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Si(l,o,"req"+c+"_")}catch(Ba){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ra(e){e.g||e.u||(e.Y=1,Kn(e.Ga,e),e.A=0)}function ia(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=dr(Tt(e.Ga,e),ca(e,e.A)),e.A++,!0)}function aa(e){null!=e.B&&(kt.clearTimeout(e.B),e.B=null)}function oa(e){e.g=new Ir(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Wr(e.oa);Xr(t,"RID","rpc"),Xr(t,"SID",e.J),Xr(t,"CI",e.N?"0":"1"),Xr(t,"AID",e.U),ta(e,t),Xr(t,"TYPE","xmlhttp"),e.o&&e.s&&Wi(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Jr(Wr(t)),n.s=null,n.U=!0,Nr(n,e)}function ua(e){null!=e.v&&(kt.clearTimeout(e.v),e.v=null)}function sa(e,t){var n=null;if(e.g==t){ua(e),aa(e),e.g=null;var r=2}else{if(!ki(e.i,t))return;n=t.D,wi(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ln(r=ur(),new hr(r,n,t,i)),$i(e)}else ra(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(gi(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=dr(Tt(e.Ha,e,t),ca(e,e.C)),e.C++,!0))}(e,t)||2==r&&ia(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:la(e,5);break;case 4:la(e,10);break;case 3:la(e,6);break;default:la(e,2)}}function ca(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function la(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Tt(e.jb,e);n||(n=new Gr("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||Hr(n,"https"),Jr(n)),function(e,t){var n=new rr;if(kt.Image){var r=new Image;r.onload=At(Ei,n,r,"TestLoadImage: loaded",!0,t),r.onerror=At(Ei,n,r,"TestLoadImage: error",!1,t),r.onabort=At(Ei,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=At(Ei,n,r,"TestLoadImage: timeout",!1,t),kt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else fr(2);e.G=0,e.j&&e.j.va(t),fa(e),Xi(e)}function fa(e){e.G=0,e.I=-1,e.j&&(0==_i(e.i).length&&0==e.l.length||(e.i.i.length=0,Lt(e.l),e.l.length=0),e.j.ua())}function ha(e,t,n){var r=function(e){return e instanceof Gr?Wr(e):new Gr(e,void 0)}(n);if(""!=r.i)t&&Qr(r,t+"."+r.i),Zr(r,r.m);else{var i=kt.location;r=function(e,t,n,r){var i=new Gr(null,void 0);return e&&Hr(i,e),t&&Qr(i,t),n&&Zr(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&qt(e.aa,(function(e,t){Xr(r,t,e)})),t=e.D,n=e.sa,t&&n&&Xr(r,t,n),Xr(r,"VER",e.ma),ta(e,r),r}function da(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Di(new Ti({ib:!0})):new Di(e.qa)).L=e.H,t}function pa(){}function va(){if(Yt&&!(10<=Number(ln)))throw Error("Environmental error: no available transport.")}function ya(e,t){Dn.call(this),this.g=new Qi(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Mt(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Mt(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ka(this)}function ma(e){wr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ga(){_r.call(this),this.status=1}function ka(e){this.g=e}(vt=Di.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kr.g(),this.C=this.u?mr(this.u):mr(kr),this.g.onreadystatechange=Tt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void ji(this,a)}e=n||"";var i=new Br(this.headers);r&&Vr(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ui,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=kt.FormData&&e instanceof kt.FormData,!(0<=Pt(Fi,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qi(this),0<this.B&&((this.K=function(e){return Yt&&sn()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tt(this.pa,this)):this.A=Yn(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){ji(this,a)}},vt.pa=function(){"undefined"!=typeof gt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ln(this,"timeout"),this.abort(8))},vt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ln(this,"complete"),Ln(this,"abort"),zi(this))},vt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zi(this,!0)),Di.Z.M.call(this)},vt.Fa=function(){this.s||(this.F||this.v||this.l?Bi(this):this.cb())},vt.cb=function(){Bi(this)},vt.ba=function(){try{return 2<Ki(this)?this.g.status:-1}catch(vi){return-1}},vt.ga=function(){try{return this.g?this.g.responseText:""}catch(vi){return""}},vt.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ri(t)}},vt.Da=function(){return this.m},vt.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(vt=Qi.prototype).ma=8,vt.G=1,vt.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},vt.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ir(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Wt(n=Kt(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=na(this,t,r),Xr(i=Wr(this.F),"RID",e),Xr(i,"CVER",22),this.D&&Xr(i,"X-HTTP-Session-Id",this.D),ta(this,i),this.o&&n&&Wi(i,this.o,n),bi(this.i,t),this.Ra&&Xr(i,"TYPE","init"),this.ja?(Xr(i,"$req",r),Xr(i,"SID","null"),t.$=!0,Cr(t,i,null)):Cr(t,i,r),this.G=2}}else 3==this.G&&(e?ea(this,e):0==this.l.length||mi(this.i)||ea(this))},vt.Ga=function(){if(this.u=null,oa(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=dr(Tt(this.bb,this),e)}},vt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fr(10),Yi(this),oa(this))},vt.ab=function(){null!=this.v&&(this.v=null,Yi(this),ia(this),fr(19))},vt.jb=function(e){e?(this.h.info("Successfully pinged google.com"),fr(2)):(this.h.info("Failed to ping google.com"),fr(1))},(vt=pa.prototype).xa=function(){},vt.wa=function(){},vt.va=function(){},vt.ua=function(){},vt.Oa=function(){},va.prototype.g=function(e,t){return new ya(e,t)},Ct(ya,Dn),ya.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Kn(Tt(e.hb,e,t))),fr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ha(e,null,e.W),$i(e)},ya.prototype.close=function(){Zi(this.g)},ya.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ji(this.g,t)}else this.v?((t={}).__data__=Fn(e),Ji(this.g,t)):Ji(this.g,e)},ya.prototype.M=function(){this.g.j=null,delete this.j,Zi(this.g),delete this.g,ya.Z.M.call(this)},Ct(ma,wr),Ct(ga,_r),Ct(ka,pa),ka.prototype.xa=function(){Ln(this.g,"a")},ka.prototype.wa=function(e){Ln(this.g,new ma(e))},ka.prototype.va=function(e){Ln(this.g,new ga(e))},ka.prototype.ua=function(){Ln(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,ya.prototype.send=ya.prototype.u,ya.prototype.open=ya.prototype.m,ya.prototype.close=ya.prototype.close,pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,vr.COMPLETE="complete",gr.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",Dn.prototype.listen=Dn.prototype.N,Di.prototype.listenOnce=Di.prototype.O,Di.prototype.getLastError=Di.prototype.La,Di.prototype.getLastErrorCode=Di.prototype.Da,Di.prototype.getStatus=Di.prototype.ba,Di.prototype.getResponseJson=Di.prototype.Qa,Di.prototype.getResponseText=Di.prototype.ga,Di.prototype.send=Di.prototype.ea;var ba=mt.createWebChannelTransport=function(){return new va},wa=mt.getStatEventTarget=function(){return ur()},_a=mt.ErrorCode=pr,xa=mt.EventType=vr,Ia=mt.Event=ar,Sa=mt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ea=mt.FetchXmlHttpFactory=Ti,Ta=mt.WebChannel=gr,Aa=mt.XhrIo=Di,Ca="@firebase/firestore",Na=function(){function e(t){s(this,e),this.uid=t}return l(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Na.UNAUTHENTICATED=new Na(null),Na.GOOGLE_CREDENTIALS=new Na("google-credentials-uid"),Na.FIRST_PARTY=new Na("first-party-uid"),Na.MOCK_USER=new Na("mock-user");var Oa="9.6.7",Pa=new de("@firebase/firestore");function Ra(){return Pa.logLevel}function Da(e){if(Pa.logLevel<=oe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Fa);Pa.debug.apply(Pa,["Firestore (".concat(Oa,"): ").concat(e)].concat((0,a.Z)(i)))}}function La(e){if(Pa.logLevel<=oe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Fa);Pa.error.apply(Pa,["Firestore (".concat(Oa,"): ").concat(e)].concat((0,a.Z)(i)))}}function Ma(e){if(Pa.logLevel<=oe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Fa);Pa.warn.apply(Pa,["Firestore (".concat(Oa,"): ").concat(e)].concat((0,a.Z)(i)))}}function Fa(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Oa,") INTERNAL ASSERTION FAILED: ")+e;throw La(t),new Error(t)}function ja(e,t){e||Ua()}function Va(e,t){return e}var Ba={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},za=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return l(n)}(U),qa=l((function e(){var t=this;s(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ka=l((function e(t,n){s(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ga=function(){function e(){s(this,e)}return l(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Na.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Wa=function(){function e(t){s(this,e),this.token=t,this.changeListener=null}return l(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ha=function(){function e(t){s(this,e),this.t=t,this.currentUser=Na.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return l(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new qa;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new qa,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable($(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Da("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Da("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qa)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Da("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ja("string"==typeof n.accessToken),new Ka(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ja(null===e||"string"==typeof e),new Na(e)}}]),e}(),Qa=l((function e(t,n,r){s(this,e),this.type="FirstParty",this.user=Na.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Za=function(){function e(t,n,r){s(this,e),this.h=t,this.l=n,this.m=r}return l(e,[{key:"getToken",value:function(){return Promise.resolve(new Qa(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Na.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ya=l((function e(t){s(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Xa=function(){function e(t){s(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return l(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Da("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Da("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Da("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Da("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ja("string"==typeof t.token),e.p=t.token,new Ya(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Ja=function(){function e(t,n){var r=this;s(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return l(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function $a(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Ja.A=-1;var eo=function(){function e(){s(this,e)}return l(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=$a(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function to(e,t){return e<t?-1:e>t?1:0}function no(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ro(e){return e+"\0"}var io=function(){function e(t,n){if(s(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new za(Ba.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new za(Ba.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new za(Ba.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new za(Ba.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return l(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?to(this.nanoseconds,e.nanoseconds):to(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ao=function(){function e(t){s(this,e),this.timestamp=t}return l(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new io(0,0))}}]),e}();function oo(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function uo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function so(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var co=function(){function e(t,n,r){s(this,e),void 0===n?n=0:n>t.length&&Ua(),void 0===r?r=t.length-n:r>t.length-n&&Ua(),this.segments=t,this.offset=n,this.len=r}return l(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),lo=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var o=0,u=r;o<u.length;o++){var s=u[o];if(s.indexOf("//")>=0)throw new za(Ba.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,(0,a.Z)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(co),fo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ho=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return fo.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new za(Ba.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new za(Ba.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new za(Ba.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new za(Ba.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(co),po=function(){function e(t){s(this,e),this.fields=t,t.sort(ho.comparator)}return l(e,[{key:"covers",value:function(e){var t,n=h(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return no(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var vo=function(e){function t(e){s(this,t),this.binaryString=e}return l(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return to(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();vo.EMPTY_BYTE_STRING=new vo("");var yo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(e){if(ja(!!e),"string"==typeof e){var t=0,n=yo.exec(e);if(ja(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:go(e.seconds),nanos:go(e.nanos)}}function go(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ko(e){return"string"==typeof e?vo.fromBase64String(e):vo.fromUint8Array(e)}function bo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wo(e){var t=e.mapValue.fields.__previous_value__;return bo(t)?wo(t):t}function _o(e){var t=mo(e.mapValue.fields.__local_write_time__.timestampValue);return new io(t.seconds,t.nanos)}var xo=l((function e(t,n,r,i,a,o,u,c){s(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=c})),Io=function(){function e(t,n){s(this,e),this.projectId=t,this.database=n||"(default)"}return l(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function So(e){return null==e}function Eo(e){return 0===e&&1/e==-1/0}function To(e){return"number"==typeof e&&Number.isInteger(e)&&!Eo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ao=function(){function e(t){s(this,e),this.path=t}return l(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===lo.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(lo.fromString(t))}},{key:"fromName",value:function(t){return new e(lo.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(lo.emptyPath())}},{key:"comparator",value:function(e,t){return lo.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new lo(t.slice()))}}]),e}(),Co={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function No(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bo(e)?4:10:Ua()}function Oo(e,t){if(e===t)return!0;var n=No(e);if(n!==No(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _o(e).isEqual(_o(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=mo(e.timestampValue),r=mo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ko(e.bytesValue).isEqual(ko(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return go(e.geoPointValue.latitude)===go(t.geoPointValue.latitude)&&go(e.geoPointValue.longitude)===go(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return go(e.integerValue)===go(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=go(e.doubleValue),r=go(t.doubleValue);return n===r?Eo(n)===Eo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return no(e.arrayValue.values||[],t.arrayValue.values||[],Oo);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(oo(n)!==oo(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Oo(n[i],r[i])))return!1;return!0}(e,t);default:return Ua()}}function Po(e,t){return void 0!==(e.values||[]).find((function(e){return Oo(e,t)}))}function Ro(e,t){if(e===t)return 0;var n=No(e),r=No(t);if(n!==r)return to(n,r);switch(n){case 0:return 0;case 1:return to(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=go(e.integerValue||e.doubleValue),r=go(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Do(e.timestampValue,t.timestampValue);case 4:return Do(_o(e),_o(t));case 5:return to(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ko(e),r=ko(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=to(n[i],r[i]);if(0!==a)return a}return to(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=to(go(e.latitude),go(t.latitude));return 0!==n?n:to(go(e.longitude),go(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ro(n[i],r[i]);if(a)return a}return to(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=to(r[o],a[o]);if(0!==u)return u;var s=Ro(n[r[o]],i[a[o]]);if(0!==s)return s}return to(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ua()}}function Do(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return to(e,t);var n=mo(e),r=mo(t),i=to(n.seconds,r.seconds);return 0!==i?i:to(n.nanos,r.nanos)}function Lo(e){return Mo(e)}function Mo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=mo(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ko(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ao.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=h(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Mo(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=h(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Mo(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ua();var t,n}function Fo(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Uo(e){return!!e&&"integerValue"in e}function jo(e){return!!e&&"arrayValue"in e}function Vo(e){return!!e&&"nullValue"in e}function Bo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zo(e){return!!e&&"mapValue"in e}function qo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return uo(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=qo(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=qo(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Ko=function(){function e(t){s(this,e),this.value=t}return l(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!zo(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qo(t)}},{key:"setAll",value:function(e){var t=this,n=ho.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=qo(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());zo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Oo(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];zo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){uo(t,(function(t,n){return e[t]=n}));var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(qo(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Go(e){var t=[];return uo(e.fields,(function(e,n){var r=new ho([e]);if(zo(n)){var i=Go(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=h(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new po(t)}var Wo=function(){function e(t,n,r,i,a,o){s(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return l(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ko.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ko.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ao.min(),ao.min(),Ko.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,ao.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ao.min(),Ko.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ao.min(),Ko.empty(),2)}}]),e}(),Ho=l((function e(t,n,r,i){s(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Ho.UNKNOWN_ID=-1;var Qo=l((function e(t,n){s(this,e),this.fieldPath=t,this.kind=n})),Zo=function(){function e(t,n){s(this,e),this.sequenceNumber=t,this.offset=n}return l(e,null,[{key:"empty",value:function(){return new e(0,Yo.min())}}]),e}(),Yo=function(){function e(t,n,r){s(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return l(e,null,[{key:"min",value:function(){return new e(ao.min(),Ao.empty(),-1)}}]),e}(),Xo=l((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;s(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Jo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Xo(e,t,n,r,i,a,o)}function $o(e){var t=Va(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Lo(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),So(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Lo(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Lo(e)})).join(",")),t.P=n}return t.P}function eu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!du(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Oo(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vu(e.startAt,t.startAt)&&vu(e.endAt,t.endAt)}function tu(e){return Ao.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var nu=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return l(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Ro(t,this.value)):null!==t&&No(this.value)===No(t)&&this.V(Ro(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ua()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new ru(e,t,r):"array-contains"===t?new uu(e,r):"in"===t?new su(e,r):"not-in"===t?new cu(e,r):"array-contains-any"===t?new lu(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new iu(e,n):new au(e,n)}}]),n}(function(){return l((function e(){s(this,e)}))}()),ru=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this,e,r,i)).key=Ao.fromName(i.referenceValue),a}return l(n,[{key:"matches",value:function(e){var t=Ao.comparator(e.key,this.key);return this.V(t)}}]),n}(nu),iu=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,"in",r)).keys=ou("in",r),i}return l(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(nu),au=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,"not-in",r)).keys=ou("not-in",r),i}return l(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(nu);function ou(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ao.fromName(e.referenceValue)}))}var uu=function(e){v(n,e);var t=b(n);function n(e,r){return s(this,n),t.call(this,e,"array-contains",r)}return l(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return jo(t)&&Po(t.arrayValue,this.value)}}]),n}(nu),su=function(e){v(n,e);var t=b(n);function n(e,r){return s(this,n),t.call(this,e,"in",r)}return l(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Po(this.value.arrayValue,t)}}]),n}(nu),cu=function(e){v(n,e);var t=b(n);function n(e,r){return s(this,n),t.call(this,e,"not-in",r)}return l(n,[{key:"matches",value:function(e){if(Po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Po(this.value.arrayValue,t)}}]),n}(nu),lu=function(e){v(n,e);var t=b(n);function n(e,r){return s(this,n),t.call(this,e,"array-contains-any",r)}return l(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!jo(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Po(t.value.arrayValue,e)}))}}]),n}(nu),fu=l((function e(t,n){s(this,e),this.position=t,this.inclusive=n})),hu=l((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";s(this,e),this.field=t,this.dir=n}));function du(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function pu(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ao.comparator(Ao.fromName(o.referenceValue),n.key):Ro(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function vu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Oo(e.position[n],t.position[n]))return!1;return!0}var yu=l((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;s(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=c,this.D=null,this.C=null,this.startAt,this.endAt}));function mu(e,t,n,r,i,a,o,u){return new yu(e,t,n,r,i,a,o,u)}function gu(e){return new yu(e)}function ku(e){return!So(e.limit)&&"F"===e.limitType}function bu(e){return!So(e.limit)&&"L"===e.limitType}function wu(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _u(e){var t,n=h(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function xu(e){return null!==e.collectionGroup}function Iu(e){var t=Va(e);if(null===t.D){t.D=[];var n=_u(t),r=wu(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new hu(n)),t.D.push(new hu(ho.keyField(),"asc"));else{var i,a=!1,o=h(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new hu(ho.keyField(),s))}}}return t.D}function Su(e){var t=Va(e);if(!t.C)if("F"===t.limitType)t.C=Jo(t.path,t.collectionGroup,Iu(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=h(Iu(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new hu(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new fu(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new fu(t.startAt.position,!t.startAt.inclusive):null;t.C=Jo(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Eu(e,t,n){return new yu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Tu(e,t){return eu(Su(e),Su(t))&&e.limitType===t.limitType}function Au(e){return"".concat($o(Su(e)),"|lt:").concat(e.limitType)}function Cu(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Lo(t.value));var t})).join(", "),"]")),So(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Lo(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Lo(e)})).join(",")),"Target(".concat(t,")")}(Su(e)),"; limitType=").concat(e.limitType,")")}function Nu(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ao.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=h(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=h(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=pu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Iu(e),t))&&!(e.endAt&&!function(e,t,n){var r=pu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Iu(e),t))}(e,t)}function Ou(e){return function(t,n){var r,i=!1,a=h(Iu(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Pu(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Pu(e,t,n){var r=e.field.isKeyField()?Ao.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ro(r,i):Ua()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ua()}}function Ru(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eo(t)?"-0":t}}function Du(e){return{integerValue:""+e}}function Lu(e,t){return To(t)?Du(t):Ru(e,t)}var Mu=l((function e(){s(this,e),this._=void 0}));function Fu(e,t,n){return e instanceof Vu?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Bu?zu(e,t):e instanceof qu?Ku(e,t):function(e,t){var n=ju(e,t),r=Wu(n)+Wu(e.k);return Uo(n)&&Uo(e.k)?Du(r):Ru(e.O,r)}(e,t)}function Uu(e,t,n){return e instanceof Bu?zu(e,t):e instanceof qu?Ku(e,t):n}function ju(e,t){return e instanceof Gu?Uo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Vu=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n)}(Mu),Bu=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).elements=e,r}return l(n)}(Mu);function zu(e,t){var n,r=Hu(t),i=h(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Oo(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var qu=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).elements=e,r}return l(n)}(Mu);function Ku(e,t){var n,r=Hu(t),i=h(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Oo(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Gu=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).O=e,i.k=r,i}return l(n)}(Mu);function Wu(e){return go(e.integerValue||e.doubleValue)}function Hu(e){return jo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Qu=l((function e(t,n){s(this,e),this.field=t,this.transform=n}));var Zu=l((function e(t,n){s(this,e),this.version=t,this.transformResults=n})),Yu=function(){function e(t,n){s(this,e),this.updateTime=t,this.exists=n}return l(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Xu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ju=l((function e(){s(this,e)}));function $u(e,t,n){e instanceof is?function(e,t,n){var r=e.value.clone(),i=us(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof as?function(e,t,n){if(Xu(e.precondition,t)){var r=us(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(os(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function es(e,t,n){e instanceof is?function(e,t,n){if(Xu(e.precondition,t)){var r=e.value.clone(),i=ss(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(rs(t),r).setHasLocalMutations()}}(e,t,n):e instanceof as?function(e,t,n){if(Xu(e.precondition,t)){var r=ss(e.fieldTransforms,n,t),i=t.data;i.setAll(os(e)),i.setAll(r),t.convertToFoundDocument(rs(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Xu(e.precondition,t)&&t.convertToNoDocument(ao.min())}(e,t)}function ts(e,t){var n,r=null,i=h(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ju(a.transform,o||null);null!=u&&(null==r&&(r=Ko.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function ns(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&no(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Bu&&t instanceof Bu||e instanceof qu&&t instanceof qu?no(e.elements,t.elements,Oo):e instanceof Gu&&t instanceof Gu?Oo(e.k,t.k):e instanceof Vu&&t instanceof Vu}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function rs(e){return e.isFoundDocument()?e.version:ao.min()}var is=function(e){v(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return s(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return l(n)}(Ju),as=function(e){v(n,e);var t=b(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return s(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return l(n)}(Ju);function os(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function us(e,t,n){var r=new Map;ja(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Uu(o,u,n[i]))}return r}function ss(e,t,n){var r,i=new Map,a=h(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Fu(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var cs,ls,fs=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return l(n)}(Ju),hs=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return l(n)}(Ju),ds=l((function e(t){s(this,e),this.count=t}));function ps(e){switch(e){default:return Ua();case Ba.CANCELLED:case Ba.UNKNOWN:case Ba.DEADLINE_EXCEEDED:case Ba.RESOURCE_EXHAUSTED:case Ba.INTERNAL:case Ba.UNAVAILABLE:case Ba.UNAUTHENTICATED:return!1;case Ba.INVALID_ARGUMENT:case Ba.NOT_FOUND:case Ba.ALREADY_EXISTS:case Ba.PERMISSION_DENIED:case Ba.FAILED_PRECONDITION:case Ba.ABORTED:case Ba.OUT_OF_RANGE:case Ba.UNIMPLEMENTED:case Ba.DATA_LOSS:return!0}}function vs(e){if(void 0===e)return La("GRPC error has no .code"),Ba.UNKNOWN;switch(e){case cs.OK:return Ba.OK;case cs.CANCELLED:return Ba.CANCELLED;case cs.UNKNOWN:return Ba.UNKNOWN;case cs.DEADLINE_EXCEEDED:return Ba.DEADLINE_EXCEEDED;case cs.RESOURCE_EXHAUSTED:return Ba.RESOURCE_EXHAUSTED;case cs.INTERNAL:return Ba.INTERNAL;case cs.UNAVAILABLE:return Ba.UNAVAILABLE;case cs.UNAUTHENTICATED:return Ba.UNAUTHENTICATED;case cs.INVALID_ARGUMENT:return Ba.INVALID_ARGUMENT;case cs.NOT_FOUND:return Ba.NOT_FOUND;case cs.ALREADY_EXISTS:return Ba.ALREADY_EXISTS;case cs.PERMISSION_DENIED:return Ba.PERMISSION_DENIED;case cs.FAILED_PRECONDITION:return Ba.FAILED_PRECONDITION;case cs.ABORTED:return Ba.ABORTED;case cs.OUT_OF_RANGE:return Ba.OUT_OF_RANGE;case cs.UNIMPLEMENTED:return Ba.UNIMPLEMENTED;case cs.DATA_LOSS:return Ba.DATA_LOSS;default:return Ua()}}(ls=cs||(cs={}))[ls.OK=0]="OK",ls[ls.CANCELLED=1]="CANCELLED",ls[ls.UNKNOWN=2]="UNKNOWN",ls[ls.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ls[ls.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ls[ls.NOT_FOUND=5]="NOT_FOUND",ls[ls.ALREADY_EXISTS=6]="ALREADY_EXISTS",ls[ls.PERMISSION_DENIED=7]="PERMISSION_DENIED",ls[ls.UNAUTHENTICATED=16]="UNAUTHENTICATED",ls[ls.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ls[ls.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ls[ls.ABORTED=10]="ABORTED",ls[ls.OUT_OF_RANGE=11]="OUT_OF_RANGE",ls[ls.UNIMPLEMENTED=12]="UNIMPLEMENTED",ls[ls.INTERNAL=13]="INTERNAL",ls[ls.UNAVAILABLE=14]="UNAVAILABLE",ls[ls.DATA_LOSS=15]="DATA_LOSS";var ys=function(){function e(t,n){s(this,e),this.comparator=t,this.root=n||gs.EMPTY}return l(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,gs.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gs.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ms(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ms(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ms(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ms(this.root,e,this.comparator,!0)}}]),e}(),ms=function(){function e(t,n,r,i){s(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return l(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),gs=function(){function e(t,n,r,i,a){s(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return l(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ua();if(this.right.isRed())throw Ua();var e=this.left.check();if(e!==this.right.check())throw Ua();return e+(this.isRed()?0:1)}}]),e}();gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new(function(){function e(){s(this,e),this.size=0}return l(e,[{key:"key",get:function(){throw Ua()}},{key:"value",get:function(){throw Ua()}},{key:"color",get:function(){throw Ua()}},{key:"left",get:function(){throw Ua()}},{key:"right",get:function(){throw Ua()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new gs(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ks=function(){function e(t){s(this,e),this.comparator=t,this.data=new ys(this.comparator)}return l(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new bs(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new bs(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),bs=function(){function e(t){s(this,e),this.iter=t}return l(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function ws(e){return e.hasNext()?e.getNext():void 0}var _s=new ys(Ao.comparator);function xs(){return _s}var Is=new ys(Ao.comparator);function Ss(){return Is}var Es=new ys(Ao.comparator),Ts=new ks(Ao.comparator);function As(){for(var e=Ts,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Cs=new ks(to);function Ns(){return Cs}var Os=function(){function e(t,n,r,i,a){s(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return l(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Ps.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ao.min(),r,Ns(),xs(),As())}}]),e}(),Ps=function(){function e(t,n,r,i,a){s(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return l(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(vo.EMPTY_BYTE_STRING,n,As(),As(),As())}}]),e}(),Rs=l((function e(t,n,r,i){s(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),Ds=l((function e(t,n){s(this,e),this.targetId=t,this.F=n})),Ls=l((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vo.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;s(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ms=function(){function e(){s(this,e),this.B=0,this.L=js(),this.U=vo.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return l(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=As(),t=As(),n=As();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ua()}})),new Ps(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=js()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Fs=function(){function e(t){s(this,e),this.nt=t,this.st=new Map,this.it=xs(),this.rt=Us(),this.ot=new ks(to)}return l(e,[{key:"ct",value:function(e){var t,n=h(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=h(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Ua()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(tu(i))if(0===n){var a=new Ao(i.path);this.at(t,a,Wo.newNoDocument(a,ao.min()))}else ja(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&tu(a.target)){var o=new Ao(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,Wo.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=As();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Os(e,n,this.ot,this.it,r);return this.it=xs(),this.rt=Us(),this.ot=new ks(to),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Ms,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new ks(to),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Da("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Ms),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Us(){return new ys(Ao.comparator)}function js(){return new ys(Ao.comparator)}var Vs={asc:"ASCENDING",desc:"DESCENDING"},Bs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zs=l((function e(t,n){s(this,e),this.databaseId=t,this.N=n}));function qs(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ks(e,t){return e.N?t.toBase64():t.toUint8Array()}function Gs(e,t){return qs(e,t.toTimestamp())}function Ws(e){return ja(!!e),ao.fromTimestamp(function(e){var t=mo(e);return new io(t.seconds,t.nanos)}(e))}function Hs(e,t){return function(e){return new lo(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Qs(e){var t=lo.fromString(e);return ja(mc(t)),t}function Zs(e,t){return Hs(e.databaseId,t.path)}function Ys(e,t){var n=Qs(t);if(n.get(1)!==e.databaseId.projectId)throw new za(Ba.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new za(Ba.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ao(ec(n))}function Xs(e,t){return Hs(e.databaseId,t)}function Js(e){var t=Qs(e);return 4===t.length?lo.emptyPath():ec(t)}function $s(e){return new lo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ec(e){return ja(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function tc(e,t,n){return{name:Zs(e,t),fields:n.value.mapValue.fields}}function nc(e,t,n){var r=Ys(e,t.name),i=Ws(t.updateTime),a=new Ko({mapValue:{fields:t.fields}}),o=Wo.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function rc(e,t){return"found"in t?function(e,t){ja(!!t.found),t.found.name,t.found.updateTime;var n=Ys(e,t.found.name),r=Ws(t.found.updateTime),i=new Ko({mapValue:{fields:t.found.fields}});return Wo.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ja(!!t.missing),ja(!!t.readTime);var n=Ys(e,t.missing),r=Ws(t.readTime);return Wo.newNoDocument(n,r)}(e,t):Ua()}function ic(e,t){var n;if(t instanceof is)n={update:tc(e,t.key,t.value)};else if(t instanceof fs)n={delete:Zs(e,t.key)};else if(t instanceof as)n={update:tc(e,t.key,t.data),updateMask:yc(t.fieldMask)};else{if(!(t instanceof hs))return Ua();n={verify:Zs(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Vu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof qu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Gu)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Ua()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gs(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ua()}(e,t.precondition)),n}function ac(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Yu.updateTime(Ws(e.updateTime)):void 0!==e.exists?Yu.exists(e.exists):Yu.none()}(t.currentDocument):Yu.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ja("REQUEST_TIME"===t.setToServerValue),n=new Vu;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Bu(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new qu(i)}else"increment"in t?n=new Gu(e,t.increment):Ua();var a=ho.fromServerFormat(t.fieldPath);return new Qu(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ys(e,t.update.name),a=new Ko({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new po(t.map((function(e){return ho.fromServerFormat(e)})))}(t.updateMask);return new as(i,a,o,n,r)}return new is(i,a,n,r)}if(t.delete){var u=Ys(e,t.delete);return new fs(u,n)}if(t.verify){var s=Ys(e,t.verify);return new hs(s,n)}return Ua()}function oc(e,t){return{documents:[Xs(e,t.path)]}}function uc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Xs(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Xs(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Bo(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NAN"}};if(Vo(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bo(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NOT_NAN"}};if(Vo(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(e.field),op:fc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:hc(e.field),direction:lc(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||So(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function sc(e){var t=Js(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ja(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=cc(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new hu(dc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return So(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new fu(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new fu(n,t)}(n.endAt)),mu(t,i,u,o,s,"F",c,l)}function cc(e){return e?void 0!==e.unaryFilter?[vc(e)]:void 0!==e.fieldFilter?[pc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return cc(e)})).reduce((function(e,t){return e.concat(t)})):Ua():[]}function lc(e){return Vs[e]}function fc(e){return Bs[e]}function hc(e){return{fieldPath:e.canonicalString()}}function dc(e){return ho.fromServerFormat(e.fieldPath)}function pc(e){return nu.create(dc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ua()}}(e.fieldFilter.op),e.fieldFilter.value)}function vc(e){switch(e.unaryFilter.op){case"IS_NAN":var t=dc(e.unaryFilter.field);return nu.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=dc(e.unaryFilter.field);return nu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=dc(e.unaryFilter.field);return nu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=dc(e.unaryFilter.field);return nu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ua()}}function yc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function mc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function gc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=bc(t)),t=kc(e.get(n),t);return bc(t)}function kc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function bc(e){return e+"\x01\x01"}function wc(e){var t=e.length;if(ja(t>=2),2===t)return ja("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),lo.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ua(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ua()}a=o+2}return new lo(r)}var _c=l((function e(t,n){s(this,e),this.seconds=t,this.nanoseconds=n})),xc=l((function e(t,n,r){s(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));xc.store="owner",xc.key="owner";var Ic=l((function e(t,n,r){s(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Ic.store="mutationQueues",Ic.keyPath="userId";var Sc=l((function e(t,n,r,i,a){s(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Sc.store="mutations",Sc.keyPath="batchId",Sc.userMutationsIndex="userMutationsIndex",Sc.userMutationsKeyPath=["userId","batchId"];var Ec=function(){function e(){s(this,e)}return l(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,gc(t)]}},{key:"key",value:function(e,t,n){return[e,gc(t),n]}}]),e}();Ec.store="documentMutations",Ec.PLACEHOLDER=new Ec;var Tc=l((function e(t,n){s(this,e),this.path=t,this.readTime=n})),Ac=l((function e(t,n){s(this,e),this.path=t,this.version=n})),Cc=l((function e(t,n,r,i,a,o){s(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Cc.store="remoteDocuments",Cc.readTimeIndex="readTimeIndex",Cc.readTimeIndexPath="readTime",Cc.collectionReadTimeIndex="collectionReadTimeIndex",Cc.collectionReadTimeIndexPath=["parentPath","readTime"];var Nc=l((function e(t){s(this,e),this.byteSize=t}));Nc.store="remoteDocumentGlobal",Nc.key="remoteDocumentGlobalKey";var Oc=l((function e(t,n,r,i,a,o,u){s(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));Oc.store="targets",Oc.keyPath="targetId",Oc.queryTargetsIndexName="queryTargetsIndex",Oc.queryTargetsKeyPath=["canonicalId","targetId"];var Pc=l((function e(t,n,r){s(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Pc.store="targetDocuments",Pc.keyPath=["targetId","path"],Pc.documentTargetsIndex="documentTargetsIndex",Pc.documentTargetsKeyPath=["path","targetId"];var Rc=l((function e(t,n,r,i){s(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Rc.key="targetGlobalKey",Rc.store="targetGlobal";var Dc=l((function e(t,n){s(this,e),this.collectionId=t,this.parent=n}));Dc.store="collectionParents",Dc.keyPath=["collectionId","parent"];var Lc=l((function e(t,n,r,i){s(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Lc.store="clientMetadata",Lc.keyPath="clientId";var Mc=l((function e(t,n,r){s(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Mc.store="bundles",Mc.keyPath="bundleId";var Fc=l((function e(t,n,r){s(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Fc.store="namedQueries",Fc.keyPath="name";var Uc=l((function e(t,n,r){s(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));Uc.store="indexConfiguration",Uc.keyPath="indexId",Uc.collectionGroupIndex="collectionGroupIndex",Uc.collectionGroupIndexPath="collectionGroup";var jc=l((function e(t,n,r,i,a,o){s(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=a,this.largestBatchId=o}));jc.store="indexState",jc.keyPath=["indexId","uid"],jc.sequenceNumberIndex="sequenceNumberIndex",jc.sequenceNumberIndexPath=["uid","sequenceNumber"];var Vc=l((function e(t,n,r,i,a){s(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=a}));Vc.store="indexEntries",Vc.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Vc.documentKeyIndex="documentKeyIndex",Vc.documentKeyIndexPath=["indexId","uid","documentKey"];var Bc=l((function e(t,n,r,i,a,o){s(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=a,this.overlayMutation=o}));Bc.store="documentOverlays",Bc.keyPath=["userId","collectionPath","documentId"],Bc.collectionPathOverlayIndex="collectionPathOverlayIndex",Bc.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Bc.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Bc.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var zc=[Ic.store,Sc.store,Ec.store,Cc.store,Oc.store,xc.store,Rc.store,Pc.store].concat([Lc.store]).concat([Nc.store]).concat([Dc.store]).concat([Mc.store,Fc.store]),qc=[].concat((0,a.Z)(zc),[Bc.store]),Kc=[].concat((0,a.Z)(qc),[Uc.store,jc.store,Vc.store]),Gc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wc=function(){function e(){s(this,e),this.onCommittedListeners=[]}return l(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Hc=function(){function e(t){var n=this;s(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return l(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ua(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=h(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Qc=function(){function e(t,n){var r=this;s(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new qa,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Xc(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=nl(e.target.error);r.At.reject(new Xc(t,n))}}return l(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Da("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new $c(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Xc(n,t)}}}]),e}(),Zc=function(){function e(t,n,r){s(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.vt(O())&&La("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return l(e,[{key:"xt",value:function(){var e=$(te().mark((function e(t){var n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Da("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Xc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new za(Ba.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new za(Ba.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Xc(t,n))},i.onupgradeneeded=function(e){Da("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Da("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Ot&&(this.db.onversionchange=function(e){return n.Ot(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mt",value:function(e){this.Ot=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=$(te().mark((function e(t,n,r,i){var a,o,u,s,c=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(te().mark((function e(){var n,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.xt(t);case 2:return c.db=e.sent,n=Qc.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),Hc.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Da("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Da("SimpleDb","Removing database:",e),el(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Vt",value:function(){if(!F())return!1;if(e.St())return!0;var t=O(),n=e.vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Reuse-Vandy-Frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"Nt",value:function(e,t){return e.store(t)}},{key:"vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Yc=function(){function e(t){s(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return l(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return el(this.$t.delete())}}]),e}(),Xc=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,Ba.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return l(n)}(za);function Jc(e){return"IndexedDbTransactionError"===e.name}var $c=function(){function e(t){s(this,e),this.store=t}return l(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Da("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Da("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),el(n)}},{key:"add",value:function(e){return Da("SimpleDb","ADD",this.store.name,e,e),el(this.store.add(e))}},{key:"get",value:function(e){var t=this;return el(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Da("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Da("SimpleDb","DELETE",this.store.name,e),el(this.store.delete(e))}},{key:"count",value:function(){return Da("SimpleDb","COUNT",this.store.name),el(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Hc((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){Da("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Qt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"Wt",value:function(e){var t=this.cursor({});return new Hc((function(n,r){t.onerror=function(e){var t=nl(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new Hc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Yc(i),o=t(i.primaryKey,i.value,a);if(o instanceof Hc){var u=o.catch((function(e){return a.done(),Hc.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Hc.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function el(e){return new Hc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=nl(e.target.error);n(t)}}))}var tl=!1;function nl(e){var t=Zc.vt(O());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new za("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return tl||(tl=!0,setTimeout((function(){throw r}),0)),r}}return e}var rl=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).zt=e,i.currentSequenceNumber=r,i}return l(n)}(Wc);function il(e,t){var n=Va(e);return Zc.Nt(n.zt,t)}var al=function(){function e(t,n,r,i){s(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return l(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&$u(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=h(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&es(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=h(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&es(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ao.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),As())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(function(e,t){return ns(e,t)}))&&no(this.baseMutations,e.baseMutations,(function(e,t){return ns(e,t)}))}}]),e}(),ol=function(){function e(t,n,r,i){s(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return l(e,null,[{key:"from",value:function(t,n,r){ja(t.mutations.length===r.length);for(var i=Es,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ul=function(){function e(t,n){s(this,e),this.largestBatchId=t,this.mutation=n}return l(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),sl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ao.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ao.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vo.EMPTY_BYTE_STRING;s(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return l(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),cl=l((function e(t){s(this,e),this.Ht=t}));function ll(e,t){var n;if(t.document)n=nc(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ao.fromSegments(t.noDocument.path),i=vl(t.noDocument.readTime);n=Wo.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ua();var a=Ao.fromSegments(t.unknownDocument.path),o=vl(t.unknownDocument.version);n=Wo.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(dl(t.readTime)),n}function fl(e,t){var n=hl(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:Zs(e,t.key),fields:t.data.value.mapValue.fields,updateTime:qs(e,t.version.toTimestamp())}}(e.Ht,t),a=t.hasCommittedMutations;return new Cc(null,null,i,a,n,r)}if(t.isNoDocument()){var o=t.key.path.toArray(),u=pl(t.version),s=t.hasCommittedMutations;return new Cc(null,new Tc(o,u),null,s,n,r)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=pl(t.version);return new Cc(new Ac(c,l),null,null,!0,n,r)}return Ua()}function hl(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function dl(e){var t=new io(e[0],e[1]);return ao.fromTimestamp(t)}function pl(e){var t=e.toTimestamp();return new _c(t.seconds,t.nanoseconds)}function vl(e){var t=new io(e.seconds,e.nanoseconds);return ao.fromTimestamp(t)}function yl(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ac(e.Ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return ac(e.Ht,t)})),u=io.fromMillis(t.localWriteTimeMs);return new al(t.batchId,u,n,o)}function ml(e){var t,n,r=vl(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?vl(e.lastLimboFreeSnapshotVersion):ao.min();return void 0!==e.query.documents?(ja(1===(n=e.query).documents.length),t=Su(gu(Js(n.documents[0])))):t=function(e){return Su(sc(e))}(e.query),new sl(t,e.targetId,0,e.lastListenSequenceNumber,r,i,vo.fromBase64String(e.resumeToken))}function gl(e,t){var n,r=pl(t.snapshotVersion),i=pl(t.lastLimboFreeSnapshotVersion);n=tu(t.target)?oc(e.Ht,t.target):uc(e.Ht,t.target);var a=t.resumeToken.toBase64();return new Oc(t.targetId,$o(t.target),r,a,t.sequenceNumber,i,n)}function kl(e){var t=sc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Eu(t,t.limit,"L"):t}function bl(e,t){return new ul(t.largestBatchId,ac(e.Ht,t.overlayMutation))}function wl(e,t){var n=t.path.lastSegment();return[e,gc(t.path.popLast()),n]}var _l=function(){function e(){s(this,e)}return l(e,[{key:"getBundleMetadata",value:function(e,t){return xl(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:vl(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return xl(e).put({bundleId:(n=t).id,createTime:pl(Ws(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Il(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:kl(t.bundledQuery),readTime:vl(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Il(e).put(function(e){return{name:e.name,readTime:pl(Ws(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function xl(e){return il(e,Mc.store)}function Il(e){return il(e,Fc.store)}var Sl=function(){function e(t,n){s(this,e),this.O=t,this.userId=n}return l(e,[{key:"getOverlay",value:function(e,t){var n=this;return El(e).get(wl(this.userId,t)).next((function(e){return e?bl(n.O,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n){var a=new ul(t,n);i.push(r.Yt(e,a))})),Hc.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(gc(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(El(e).Gt(Bc.collectionPathOverlayIndex,i))})),Hc.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=new Map,a=gc(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return El(e).qt(Bc.collectionPathOverlayIndex,o).next((function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=bl(r.O,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=new Map,u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return El(e).Qt({index:Bc.collectionGroupOverlayIndex,range:u},(function(e,t,n){var u=bl(a.O,t);o.size<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Yt",value:function(e,t){return El(e).put(function(e,t,n){var r=wl(t,n.mutation.key),a=(0,i.Z)(r,3),o=(a[0],a[1]),u=a[2];return new Bc(t,o,u,n.mutation.key.getCollectionGroup(),n.largestBatchId,ic(e.Ht,n.mutation))}(this.O,this.userId,t))}}],[{key:"Jt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function El(e){return il(e,Bc.store)}var Tl=function(){function e(){s(this,e)}return l(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(go(e.integerValue));else if("doubleValue"in e){var n=go(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),Eo(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(ko(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?Oo(e,Co)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):Ua()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),Ao.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();function Al(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Cl(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Al(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Tl.le=new Tl;var Nl=function(){function e(){s(this,e),this.buffer=new Uint8Array(1024),this.position=0}return l(e,[{key:"fe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.de(n.value),n=t.next();this._e()}},{key:"we",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.me(n.value),n=t.next();this.ge()}},{key:"ye",value:function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.de(i);else if(i<2048)this.de(960|i>>>6),this.de(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.de(480|i>>>12),this.de(128|63&i>>>6),this.de(128|63&i);else{var a=r.codePointAt(0);this.de(240|a>>>18),this.de(128|63&a>>>12),this.de(128|63&a>>>6),this.de(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this._e()}},{key:"pe",value:function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.me(i);else if(i<2048)this.me(960|i>>>6),this.me(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.me(480|i>>>12),this.me(128|63&i>>>6),this.me(128|63&i);else{var a=r.codePointAt(0);this.me(240|a>>>18),this.me(128|63&a>>>12),this.me(128|63&a>>>6),this.me(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ge()}},{key:"Ie",value:function(e){var t=this.Ee(e),n=Cl(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ae",value:function(e){var t=this.Ee(e),n=Cl(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Re",value:function(){this.Pe(255),this.Pe(255)}},{key:"be",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ve",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"de",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"me",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"_e",value:function(){this.Pe(0),this.Pe(1)}},{key:"ge",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Te(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Te(1),this.buffer[this.position++]=~e}},{key:"Te",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Ol=function(){function e(t){s(this,e),this.Se=t}return l(e,[{key:"oe",value:function(e){this.Se.fe(e)}},{key:"se",value:function(e){this.Se.ye(e)}},{key:"ne",value:function(e){this.Se.Ie(e)}},{key:"te",value:function(){this.Se.Re()}}]),e}(),Pl=function(){function e(t){s(this,e),this.Se=t}return l(e,[{key:"oe",value:function(e){this.Se.we(e)}},{key:"se",value:function(e){this.Se.pe(e)}},{key:"ne",value:function(e){this.Se.Ae(e)}},{key:"te",value:function(){this.Se.be()}}]),e}(),Rl=function(){function e(){s(this,e),this.Se=new Nl,this.De=new Ol(this.Se),this.Ce=new Pl(this.Se)}return l(e,[{key:"seed",value:function(e){this.Se.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.De:this.Ce}},{key:"Ve",value:function(){return this.Se.Ve()}},{key:"reset",value:function(){this.Se.reset()}}]),e}(),Dl=l((function e(t,n,r,i){s(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}));function Ll(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Ao.comparator(e.documentKey,t.documentKey))?n:0!==(n=Ml(e.arrayValue,t.arrayValue))?n:Ml(e.directionalValue,t.directionalValue)}function Ml(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Fl=function(){function e(){s(this,e),this.xe=new Ul}return l(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),Hc.resolve()}},{key:"getCollectionParents",value:function(e,t){return Hc.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Hc.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Hc.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Hc.resolve(As())}},{key:"getFieldIndex",value:function(e,t){return Hc.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Hc.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Hc.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Hc.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Hc.resolve()}}]),e}(),Ul=function(){function e(){s(this,e),this.index={}}return l(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ks(lo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ks(lo.comparator)).toArray()}}]),e}(),jl=function(){function e(t){s(this,e),this.user=t,this.ke=new Ul,this.uid=t.uid||""}return l(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.ke.add(t)}));var a={collectionId:r,parent:gc(i)};return Vl(e).put(a)}return Hc.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ro(t),""],!1,!0);return Vl(e).qt(r).next((function(e){var r,i=h(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(wc(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=zl(e),r=function(e){return new Uc(e.indexId,e.collectionGroup,e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]})))}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=zl(e),r=ql(e),i=Bl(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Hc.resolve(As())}},{key:"getFieldIndex",value:function(e,t){return Hc.resolve(null)}},{key:"Oe",value:function(e,t){var n,r=new Rl,i=h(function(e){return e.fields.filter((function(e){return 2!==e.kind}))}(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Tl.le.Xt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Ve()}},{key:"Me",value:function(e){var t=new Rl;return Tl.le.Xt(e,t.Ne(0)),t.Ve()}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=zl(e),a=ql(e);return(t?r.qt(Uc.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Hc.forEach(e,(function(e){return a.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Zo(t.sequenceNumber,new Yo(vl(t.readTime),new Ao(wc(t.documentKey)),t.largestBatchId)):Zo.empty(),r=e.fields.map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return new Qo(ho.fromServerFormat(n),r)}));return new Ho(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){return e.indexState.sequenceNumber-t.indexState.sequenceNumber})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=zl(e),a=ql(e);return this.$e(e).next((function(e){return i.qt(Uc.collectionGroupIndex,IDBKeyRange.bound(t,t)).next((function(t){return Hc.forEach(t,(function(t){return a.put(function(e,t,n,r){return new jc(e,t.uid||"",n,pl(r.readTime),gc(r.documentKey.path),r.largestBatchId)}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Hc.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Hc.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Hc.forEach(a,(function(r){return n.Fe(e,t,r).next((function(t){var a=n.Be(i,r);return t.isEqual(a)?Hc.resolve():n.Le(e,i,t,a)}))}))}))}))}},{key:"Ue",value:function(e,t,n){return Bl(e).put(new Vc(n.indexId,this.uid,n.arrayValue,n.directionalValue,gc(t.key.path)))}},{key:"qe",value:function(e,t,n){return Bl(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,gc(t.key.path)])}},{key:"Fe",value:function(e,t,n){var r=Bl(e),i=new ks(Ll);return r.Qt({index:Vc.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,gc(t.path)])},(function(e,r){i=i.add(new Dl(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"Be",value:function(e,t){var n=new ks(Ll),r=this.Oe(t,e);if(null==r)return n;var i=function(e){return e.fields.find((function(e){return 2===e.kind}))}(t);if(null!=i){var a=e.data.field(i.fieldPath);if(jo(a)){var o,u=h(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Dl(t.indexId,e.key,this.Me(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Dl(t.indexId,e.key,new Uint8Array,r));return n}},{key:"Le",value:function(e,t,n,r){var i=this;Da("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=ws(a),s=ws(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=ws(o)):l?(i(u),u=ws(a)):(u=ws(a),s=ws(o))}}(n,r,Ll,(function(n){a.push(i.Ue(e,t,n))}),(function(n){a.push(i.qe(e,t,n))})),Hc.waitFor(a)}},{key:"$e",value:function(e){var t=1;return ql(e).Qt({index:jc.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}}]),e}();function Vl(e){return il(e,Dc.store)}function Bl(e){return il(e,Vc.store)}function zl(e){return il(e,Uc.store)}function ql(e){return il(e,jc.store)}var Kl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gl=function(){function e(t,n,r){s(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return l(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Wl(e,t,n){var r=e.store(Sc.store),i=e.store(Ec.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Qt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ja(1===u)})));var c,l=[],f=h(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,p=Ec.key(t,d.key.path,n.batchId);a.push(i.delete(p)),l.push(d.key)}}catch(v){f.e(v)}finally{f.f()}return Hc.waitFor(a).next((function(){return l}))}function Hl(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ua();t=e.noDocument}return JSON.stringify(t).length}Gl.DEFAULT_COLLECTION_PERCENTILE=10,Gl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gl.DEFAULT=new Gl(41943040,Gl.DEFAULT_COLLECTION_PERCENTILE,Gl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gl.DISABLED=new Gl(-1,0,0);var Ql=function(){function e(t,n,r,i){s(this,e),this.userId=t,this.O=n,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}return l(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yl(e).Qt({index:Sc.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Xl(e),o=Yl(e);return o.add({}).next((function(u){ja("number"==typeof u);var s,c=new al(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ic(e.Ht,t)})),i=n.mutations.map((function(t){return ic(e.Ht,t)}));return new Sc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.O,i.userId,c),f=[],d=new ks((function(e,t){return to(e.canonicalString(),t.canonicalString())})),p=h(r);try{for(p.s();!(s=p.n()).done;){var v=s.value,y=Ec.key(i.userId,v.key.path,u);d=d.add(v.key.path.popLast()),f.push(o.put(l)),f.push(a.put(y,Ec.PLACEHOLDER))}}catch(m){p.e(m)}finally{p.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Ke[u]=c.keys()})),Hc.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Yl(e).get(t).next((function(e){return e?(ja(e.userId===n.userId),yl(n.O,e)):null}))}},{key:"Ge",value:function(e,t){var n=this;return this.Ke[t]?Hc.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Ke[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Yl(e).Qt({index:Sc.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(ja(t.batchId>=r),a=yl(n.O,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Yl(e).Qt({index:Sc.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yl(e).qt(Sc.userMutationsIndex,n).next((function(e){return e.map((function(e){return yl(t.O,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ec.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),o=[];return Xl(e).Qt({range:a},(function(r,a,u){var s=(0,i.Z)(r,3),c=s[0],l=s[1],f=s[2],h=wc(l);if(c===n.userId&&t.path.isEqual(h))return Yl(e).get(f).next((function(e){if(!e)throw Ua();ja(e.userId===n.userId),o.push(yl(n.O,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ks(to),a=[];return t.forEach((function(t){var o=Ec.prefixForPath(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=Xl(e).Qt({range:u},(function(e,a,o){var u=(0,i.Z)(e,3),s=u[0],c=u[1],l=u[2],f=wc(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));a.push(s)})),Hc.waitFor(a).next((function(){return n.je(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,a=r.length+1,o=Ec.prefixForPath(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new ks(to);return Xl(e).Qt({range:u},(function(e,t,o){var u=(0,i.Z)(e,3),c=u[0],l=u[1],f=u[2],h=wc(l);c===n.userId&&r.isPrefixOf(h)?h.length===a&&(s=s.add(f)):o.done()})).next((function(){return n.je(e,s)}))}},{key:"je",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Yl(e).get(t).next((function(e){if(null===e)throw Ua();ja(e.userId===n.userId),r.push(yl(n.O,e))})))})),Hc.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Wl(e.zt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Qe(t.batchId)})),Hc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Qe",value:function(e){delete this.Ke[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Hc.resolve();var r=IDBKeyRange.lowerBound(Ec.prefixForUser(t.userId)),i=[];return Xl(e).Qt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=wc(e[1]);i.push(a)}else r.done()})).next((function(){ja(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Zl(e,this.userId,t)}},{key:"We",value:function(e){var t=this;return Jl(e).get(this.userId).next((function(e){return e||new Ic(t.userId,-1,"")}))}}],[{key:"Jt",value:function(t,n,r,i){return ja(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Zl(e,t,n){var r=Ec.prefixForPath(t,n.path),a=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return Xl(e).Qt({range:o,jt:!0},(function(e,n,r){var o=(0,i.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===a&&(u=!0),r.done()})).next((function(){return u}))}function Yl(e){return il(e,Sc.store)}function Xl(e){return il(e,Ec.store)}function Jl(e){return il(e,Ic.store)}var $l=function(){function e(t){s(this,e),this.ze=t}return l(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}(),ef=function(){function e(t,n){s(this,e),this.referenceDelegate=t,this.O=n}return l(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ye(e).next((function(n){var r=new $l(n.highestTargetId);return n.highestTargetId=r.next(),t.Xe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ye(e).next((function(e){return ao.fromTimestamp(new io(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ye(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ye(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Xe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ze(e,t).next((function(){return n.Ye(e).next((function(r){return r.targetCount+=1,n.tn(t,r),n.Xe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ze(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return tf(e).delete(t.targetId)})).next((function(){return n.Ye(e)})).next((function(t){return ja(t.targetCount>0),t.targetCount-=1,n.Xe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return tf(e).Qt((function(o,u){var s=ml(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Hc.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return tf(e).Qt((function(e,n){var r=ml(n);t(r)}))}},{key:"Ye",value:function(e){return nf(e).get(Rc.key).next((function(e){return ja(null!==e),e}))}},{key:"Xe",value:function(e,t){return nf(e).put(Rc.key,t)}},{key:"Ze",value:function(e,t){return tf(e).put(gl(this.O,t))}},{key:"tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ye(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=$o(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return tf(e).Qt({range:r,index:Oc.queryTargetsIndexName},(function(e,n,r){var a=ml(n);eu(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=rf(e);return t.forEach((function(t){var o=gc(t.path);i.push(a.put(new Pc(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Hc.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=rf(e);return Hc.forEach(t,(function(t){var a=gc(t.path);return Hc.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=rf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=rf(e),i=As();return r.Qt({range:n,jt:!0},(function(e,t,n){var r=wc(e[1]),a=new Ao(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=gc(t.path),r=IDBKeyRange.bound([n],[ro(n)],!1,!0),a=0;return rf(e).Qt({index:Pc.documentTargetsIndex,jt:!0,range:r},(function(e,t,n){var r=(0,i.Z)(e,2),o=r[0];r[1];0!==o&&(a++,n.done())})).next((function(){return a>0}))}},{key:"Tt",value:function(e,t){return tf(e).get(t).next((function(e){return e?ml(e):null}))}}]),e}();function tf(e){return il(e,Oc.store)}function nf(e){return il(e,Rc.store)}function rf(e){return il(e,Pc.store)}function af(e){return of.apply(this,arguments)}function of(){return of=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ba.FAILED_PRECONDITION&&t.message===Gc){e.next=2;break}throw t;case 2:Da("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}function uf(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,i.Z)(t,2),u=o[0],s=o[1],c=to(r,u);return 0===c?to(a,s):c}var sf=function(){function e(t){s(this,e),this.en=t,this.buffer=new ks(uf),this.nn=0}return l(e,[{key:"sn",value:function(){return++this.nn}},{key:"rn",value:function(e){var t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();uf(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),cf=function(){function e(t,n){s(this,e),this.garbageCollector=t,this.asyncQueue=n,this.on=!1,this.cn=null}return l(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}},{key:"stop",value:function(){this.cn&&(this.cn.cancel(),this.cn=null)}},{key:"started",get:function(){return null!==this.cn}},{key:"un",value:function(e){var t=this,n=this.on?3e5:6e4;Da("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,$(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.cn=null,t.on=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Jc(n.t0)){n.next=12;break}Da("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,af(n.t0);case 14:return n.next=16,t.un(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),lf=function(){function e(t,n){s(this,e),this.an=t,this.params=n}return l(e,[{key:"calculateTargetCount",value:function(e,t){return this.an.hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Hc.resolve(Ja.A);var r=new sf(t);return this.an.forEachTarget(e,(function(e){return r.rn(e.sequenceNumber)})).next((function(){return n.an.ln(e,(function(e){return r.rn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.an.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.an.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Da("LruGarbageCollector","Garbage collection skipped; disabled"),Hc.resolve(Kl)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Da("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Kl):n.fn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.an.getCacheSize(e)}},{key:"fn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Da("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Ra()<=oe.DEBUG&&Da("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Hc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),ff=function(){function e(t,n){s(this,e),this.db=t,this.garbageCollector=function(e,t){return new lf(e,t)}(this,n)}return l(e,[{key:"hn",value:function(e){var t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"dn",value:function(e){var t=0;return this.ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ln",value:function(e,t){return this._n(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return hf(e,n)}},{key:"removeReference",value:function(e,t,n){return hf(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return hf(e,t)}},{key:"wn",value:function(e,t){return function(e,t){var n=!1;return Jl(e).Wt((function(r){return Zl(e,r,t).next((function(e){return e&&(n=!0),Hc.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this._n(e,(function(o,u){if(u<=t){var s=n.wn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ao.min()),rf(e).delete([0,gc(o.path)])}))}));i.push(s)}})).next((function(){return Hc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return hf(e,t)}},{key:"_n",value:function(e,t){var n,r=rf(e),a=Ja.A;return r.Qt({index:Pc.documentTargetsIndex},(function(e,r){var o=(0,i.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(a!==Ja.A&&t(new Ao(wc(n)),a),a=c,n=s):a=Ja.A})).next((function(){a!==Ja.A&&t(new Ao(wc(n)),a)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function hf(e,t){return rf(e).put(function(e,t){return new Pc(0,gc(e.path),t)}(t,e.currentSequenceNumber))}var df=function(){function e(t,n){s(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return l(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=h(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){a.e(c)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){uo(this.inner,(function(t,n){var r,a=h(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){a.e(c)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return so(this.inner)}}]),e}(),pf=function(){function e(){s(this,e),this.changes=new df((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return l(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Wo.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Hc.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),vf=function(){function e(t){s(this,e),this.O=t}return l(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return gf(e).put(kf(t),n)}},{key:"removeEntry",value:function(e,t){var n=gf(e),r=kf(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.mn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return gf(e).get(kf(t)).next((function(e){return n.gn(t,e)}))}},{key:"yn",value:function(e,t){var n=this;return gf(e).get(kf(t)).next((function(e){return{document:n.gn(t,e),size:Hl(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=xs();return this.pn(e,t,(function(e,t){var i=n.gn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"In",value:function(e,t){var n=this,r=xs(),i=new ys(Ao.comparator);return this.pn(e,t,(function(e,t){var a=n.gn(e,t);r=r.insert(e,a),i=i.insert(e,Hl(t))})).next((function(){return{documents:r,En:i}}))}},{key:"pn",value:function(e,t,n){if(t.isEmpty())return Hc.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return gf(e).Qt({range:r},(function(e,t,r){for(var o=Ao.fromSegments(e);a&&Ao.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Ut(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=xs(),a=t.length+1,o={};if(n.isEqual(ao.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=hl(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=Cc.collectionReadTimeIndex}return gf(e).Qt(o,(function(e,n,o){if(e.length===a){var u=r.gn(Ao.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new yf(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return mf(e).get(Nc.key).next((function(e){return ja(!!e),e}))}},{key:"mn",value:function(e,t){return mf(e).put(Nc.key,t)}},{key:"gn",value:function(e,t){if(t){var n=ll(this.O,t);if(!n.isNoDocument()||!n.version.isEqual(ao.min()))return n}return Wo.newInvalidDocument(e)}}]),e}(),yf=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).Tn=e,i.trackRemovals=r,i.An=new df((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return l(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ks((function(e,t){return to(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.An.get(a);if(o.isValidDocument()){var s=fl(t.Tn.O,o);i=i.add(a.path.popLast());var c=Hl(s);r+=c-u,n.push(t.Tn.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=fl(t.Tn.O,o.convertToNoDocument(ao.min()));n.push(t.Tn.addEntry(e,a,l))}else n.push(t.Tn.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Tn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Tn.updateMetadata(e,r)),Hc.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Tn.yn(e,t).next((function(e){return n.An.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Tn.In(e,t).next((function(e){var t=e.documents;return e.En.forEach((function(e,t){n.An.set(e,t)})),t}))}}]),n}(pf);function mf(e){return il(e,Nc.store)}function gf(e){return il(e,Cc.store)}function kf(e){return e.path.toArray()}var bf=function(){function e(t){s(this,e),this.O=t}return l(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Qc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(xc.store)}(e),function(e){e.createObjectStore(Ic.store,{keyPath:Ic.keyPath}),e.createObjectStore(Sc.store,{keyPath:Sc.keyPath,autoIncrement:!0}).createIndex(Sc.userMutationsIndex,Sc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ec.store)}(e),wf(e),function(e){e.createObjectStore(Cc.store)}(e));var o=Hc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Pc.store),e.deleteObjectStore(Oc.store),e.deleteObjectStore(Rc.store)}(e),wf(e)),o=o.next((function(){return function(e){var t=e.store(Rc.store),n=new Rc(0,0,ao.min().toTimestamp(),0);return t.put(Rc.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Sc.store).qt().next((function(n){e.deleteObjectStore(Sc.store),e.createObjectStore(Sc.store,{keyPath:Sc.keyPath,autoIncrement:!0}).createIndex(Sc.userMutationsIndex,Sc.userMutationsKeyPath,{unique:!0});var r=t.store(Sc.store),i=n.map((function(e){return r.put(e)}));return Hc.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Lc.store,{keyPath:Lc.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Rn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Nc.store)}(e),i.Pn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.bn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.vn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Cc.store);t.createIndex(Cc.readTimeIndex,Cc.readTimeIndexPath,{unique:!1}),t.createIndex(Cc.collectionReadTimeIndex,Cc.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Vn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Mc.store,{keyPath:Mc.keyPath})}(e),function(e){e.createObjectStore(Fc.store,{keyPath:Fc.keyPath})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore(Bc.store,{keyPath:Bc.keyPath});t.createIndex(Bc.collectionPathOverlayIndex,Bc.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(Bc.collectionGroupOverlayIndex,Bc.collectionGroupOverlayIndexPath,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore(Uc.store,{keyPath:Uc.keyPath,autoIncrement:!0}).createIndex(Uc.collectionGroupIndex,Uc.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(jc.store,{keyPath:jc.keyPath}).createIndex(jc.sequenceNumberIndex,jc.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(Vc.store,{keyPath:Vc.keyPath}).createIndex(Vc.documentKeyIndex,Vc.documentKeyIndexPath,{unique:!1})}(e)}))),o}},{key:"Pn",value:function(e){var t=0;return e.store(Cc.store).Qt((function(e,n){t+=Hl(n)})).next((function(){var n=new Nc(t);return e.store(Nc.store).put(Nc.key,n)}))}},{key:"Rn",value:function(e){var t=this,n=e.store(Ic.store),r=e.store(Sc.store);return n.qt().next((function(n){return Hc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt(Sc.userMutationsIndex,i).next((function(r){return Hc.forEach(r,(function(r){ja(r.userId===n.userId);var i=yl(t.O,r);return Wl(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"bn",value:function(e){var t=e.store(Pc.store),n=e.store(Cc.store);return e.store(Rc.store).get(Rc.key).next((function(e){var r=[];return n.Qt((function(n,i){var a=new lo(n),o=function(e){return[0,gc(e)]}(a);r.push(t.get(o).next((function(n){return n?Hc.resolve():function(n){return t.put(new Pc(0,gc(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Hc.waitFor(r)}))}))}},{key:"vn",value:function(e,t){e.createObjectStore(Dc.store,{keyPath:Dc.keyPath});var n=t.store(Dc.store),r=new Ul,a=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:gc(i)})}};return t.store(Cc.store).Qt({jt:!0},(function(e,t){var n=new lo(e);return a(n.popLast())})).next((function(){return t.store(Ec.store).Qt({jt:!0},(function(e,t){var n=(0,i.Z)(e,3),r=(n[0],n[1]),o=(n[2],wc(r));return a(o.popLast())}))}))}},{key:"Vn",value:function(e){var t=this,n=e.store(Oc.store);return n.Qt((function(e,r){var i=ml(r),a=gl(t.O,i);return n.put(a)}))}}]),e}();function wf(e){e.createObjectStore(Pc.store,{keyPath:Pc.keyPath}).createIndex(Pc.documentTargetsIndex,Pc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Oc.store,{keyPath:Oc.keyPath}).createIndex(Oc.queryTargetsIndexName,Oc.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Rc.store)}var _f="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xf=function(){function e(t,n,r,i,a,o,u,c,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(s(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Sn=a,this.window=o,this.document=u,this.Dn=l,this.Cn=f,this.schemaVersion=h,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=function(e){return Promise.resolve()},!e.Vt())throw new za(Ba.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ff(this,i),this.Bn=n+"main",this.O=new cl(c),this.Ln=new Zc(this.Bn,this.schemaVersion,new bf(this.O)),this.Un=new ef(this.referenceDelegate,this.O),this.qn=function(e){return new vf(e)}(this.O),this.Kn=new _l,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===f&&La("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return l(e,[{key:"start",value:function(){var e=this;return this.jn().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new za(Ba.FAILED_PRECONDITION,_f);return e.Qn(),e.Wn(),e.zn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Un.getHighestSequenceNumber(t)}))})).then((function(t){e.Nn=new Ja(t,e.Dn)})).then((function(){e.xn=!0})).catch((function(t){return e.Ln&&e.Ln.close(),Promise.reject(t)}))}},{key:"Hn",value:function(e){var t=this;return this.Fn=function(){var n=$(te().mark((function n(r){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ln.Mt(function(){var t=$(te().mark((function t(n){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget($(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.jn();case 4:case"end":return e.stop()}}),e)})))))}},{key:"jn",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Sf(t).put(new Lc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Jn(t).next((function(t){t||(e.isPrimary=!1,e.Sn.enqueueRetryable((function(){return e.Fn(!1)})))}))})).next((function(){return e.Yn(t)})).next((function(n){return e.isPrimary&&!n?e.Xn(t).next((function(){return!1})):!!n&&e.Zn(t).next((function(){return!0}))}))})).catch((function(t){if(Jc(t))return Da("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Da("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Sn.enqueueRetryable((function(){return e.Fn(t)})),e.isPrimary=t}))}},{key:"Jn",value:function(e){var t=this;return If(e).get(xc.key).next((function(e){return Hc.resolve(t.ts(e))}))}},{key:"es",value:function(e){return Sf(e).delete(this.clientId)}},{key:"ns",value:function(){var e=$(te().mark((function e(){var t,n,r,i,a=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ss(this.$n,18e5)){e.next=6;break}return this.$n=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=il(e,Lc.store);return t.qt().next((function(e){var n=a.rs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Hc.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Gn){n=h(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Gn.removeItem(this.os(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zn",value:function(){var e=this;this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.jn().then((function(){return e.ns()})).then((function(){return e.zn()}))}))}},{key:"ts",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Yn",value:function(e){var t=this;return this.Cn?Hc.resolve(!0):If(e).get(xc.key).next((function(n){if(null!==n&&t.ss(n.leaseTimestampMs,5e3)&&!t.cs(n.ownerId)){if(t.ts(n)&&t.networkEnabled)return!0;if(!t.ts(n)){if(!n.allowTabSynchronization)throw new za(Ba.FAILED_PRECONDITION,_f);return!1}}return!(!t.networkEnabled||!t.inForeground)||Sf(e).qt().next((function(e){return void 0===t.rs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Da("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=$(te().mark((function e(){var t=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),e.next=7,this.Ln.runTransaction("shutdown","readwrite",[xc.store,Lc.store],(function(e){var n=new rl(e,Ja.A);return t.Xn(n).next((function(){return t.es(n)}))}));case 7:this.Ln.close(),this.fs();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rs",value:function(e,t){var n=this;return e.filter((function(e){return n.ss(e.updateTimeMs,t)&&!n.cs(e.clientId)}))}},{key:"ds",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Sf(t).qt().next((function(t){return e.rs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xn}},{key:"getMutationQueue",value:function(e,t){return Ql.Jt(e,this.O,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getIndexManager",value:function(e){return new jl(e)}},{key:"getDocumentOverlayCache",value:function(e){return Sl.Jt(this.O,e)}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Da("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.schemaVersion)?Kc:12===i?qc:11===i?zc:void Ua();return this.Ln.runTransaction(e,o,u,(function(i){return a=new rl(i,r.Nn?r.Nn.next():Ja.A),"readwrite-primary"===t?r.Jn(a).next((function(e){return!!e||r.Yn(a)})).next((function(t){if(!t)throw La("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Sn.enqueueRetryable((function(){return r.Fn(!1)})),new za(Ba.FAILED_PRECONDITION,Gc);return n(a)})).next((function(e){return r.Zn(a).next((function(){return e}))})):r._s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"_s",value:function(e){var t=this;return If(e).get(xc.key).next((function(e){if(null!==e&&t.ss(e.leaseTimestampMs,5e3)&&!t.cs(e.ownerId)&&!t.ts(e)&&!(t.Cn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new za(Ba.FAILED_PRECONDITION,_f)}))}},{key:"Zn",value:function(e){var t=new xc(this.clientId,this.allowTabSynchronization,Date.now());return If(e).put(xc.key,t)}},{key:"Xn",value:function(e){var t=this,n=If(e);return n.get(xc.key).next((function(e){return t.ts(e)?(Da("IndexedDbPersistence","Releasing primary lease."),n.delete(xc.key)):Hc.resolve()}))}},{key:"ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(La("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Qn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=function(){e.Sn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.jn()}))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}},{key:"hs",value:function(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}},{key:"Wn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=function(){t.us(),M()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Sn.enterRestrictedMode(!0),t.Sn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.kn))}},{key:"ls",value:function(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}},{key:"cs",value:function(e){var t;try{var n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Da("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return La("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"us",value:function(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(Ct){La("Failed to set zombie client id.",Ct)}}},{key:"fs",value:function(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(Ct){}}},{key:"os",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Vt",value:function(){return Zc.Vt()}}]),e}();function If(e){return il(e,xc.store)}function Sf(e){return il(e,Lc.store)}function Ef(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Tf=l((function e(t,n){s(this,e),this.progress=t,this.ws=n})),Af=function(){function e(t,n,r){s(this,e),this.qn=t,this.gs=n,this.indexManager=r}return l(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=h(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=h(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return Ao.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):xu(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new Ao(t)).next((function(e){var t=Ss();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ss();return this.indexManager.getCollectionParents(e,i).next((function(o){return Hc.forEach(o,(function(o){var u=function(e,t){return new yu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=h(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Wo.newInvalidDocument(s),r=r.insert(s,c)),es(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Nu(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Cf=function(){function e(t,n,r,i){s(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return l(e,null,[{key:"Ss",value:function(t,n){var r,i=As(),a=As(),o=h(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Nf=function(){function e(){s(this,e)}return l(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ao.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(ku(t)||bu(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(Ra()<=oe.DEBUG&&Da("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Cu(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new ks(Ou(e));return t.forEach((function(t,r){Nu(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return Ra()<=oe.DEBUG&&Da("QueryEngine","Using full collection scan to execute query:",Cu(t)),this.Cs.As(e,t,ao.min())}}]),e}(),Of=function(){function e(t,n,r,i){s(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new ys(to),this.$s=new df((function(e){return $o(e)}),eu),this.Fs=ao.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return l(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new Af(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function Pf(e,t,n,r){return new Of(e,t,n,r)}function Rf(e,t){return Df.apply(this,arguments)}function Df(){return Df=$(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Va(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=As(),s=h(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=h(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var p,v=h(n);try{for(v.s();!(p=v.n()).done;){var y=p.value;o.push(y.batchId);var m,g=h(y.mutations);try{for(g.s();!(m=g.n()).done;){var k=m.value;u=u.add(k.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){v.e(b)}finally{v.f()}return r.Us.Es(e,u).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Df.apply(this,arguments)}function Lf(e,t){var n=Va(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Hc.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ja(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function Mf(e){var t=Va(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function Ff(e,t){var n=Va(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(vo.EMPTY_BYTE_STRING,ao.min()).withLastLimboFreeSnapshotVersion(ao.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Un.updateTargetData(e,c))}}));var u=xs();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Uf(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(ao.min())){var s=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Hc.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,u)})).next((function(){return u}))})).then((function(e){return n.Ms=i,e}))}function Uf(e,t,n){var r=As();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=xs();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(ao.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Da("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function jf(e,t){var n=Va(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function Vf(e,t){var n=Va(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,Hc.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new sl(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function Bf(e,t,n){return zf.apply(this,arguments)}function zf(){return zf=$(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Va(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Jc(e.t1)){e.next=12;break}throw e.t1;case 12:Da("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),zf.apply(this,arguments)}function qf(e,t,n){var r=Va(e),i=ao.min(),a=As();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Va(e),i=r.$s.get(n);return void 0!==i?Hc.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,Su(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:ao.min(),n?a:As())})).next((function(e){return{documents:e,Ks:a}}))}))}function Kf(e,t){var n=Va(e),r=Va(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function Gf(e){var t=Va(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Va(e),i=xs(),a=hl(n),o=gf(t),u=IDBKeyRange.lowerBound(a,!0);return o.Qt({index:Cc.readTimeIndex,range:u},(function(e,t){var n=ll(r.O,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{ws:i,readTime:dl(a)}}))}(t.Bs,e,t.Fs)})).then((function(e){var n=e.ws,r=e.readTime;return t.Fs=r,n}))}function Wf(e){return Hf.apply(this,arguments)}function Hf(){return Hf=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Va(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=gf(e),n=ao.min();return t.Qt({index:Cc.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=dl(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Fs=e})));case 2:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}function Qf(e,t,n,r){return Zf.apply(this,arguments)}function Zf(){return Zf=$(te().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,p,v;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Va(t),o=As(),u=xs(),s=h(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Gs(l.metadata.name),l.document&&(o=o.add(f)),(d=n.js(l)).setReadTime(n.Qs(l.metadata.readTime)),u=u.insert(f,d)}catch(y){s.e(y)}finally{s.f()}return p=a.Bs.newChangeBuffer({trackRemovals:!0}),e.next=7,Vf(a,function(e){return Su(gu(lo.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Uf(e,p,u).next((function(t){return p.apply(e),t})).next((function(t){return a.Un.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Un.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.Us.Ts(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Zf.apply(this,arguments)}function Yf(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=$(te().mark((function e(t,n){var r,i,a,o=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:As(),e.next=3,Vf(t,Su(kl(n.bundledQuery)));case 3:return i=e.sent,a=Va(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Ws(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kn.saveNamedQuery(e,n);var o=i.withResumeToken(vo.EMPTY_BYTE_STRING,t);return a.Ms=a.Ms.insert(o.targetId,o),a.Un.updateTargetData(e,o).next((function(){return a.Un.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Un.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kn.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}var Jf=function(){function e(t){s(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return l(e,[{key:"getBundleMetadata",value:function(e,t){return Hc.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:Ws(n.createTime)}),Hc.resolve()}},{key:"getNamedQuery",value:function(e,t){return Hc.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:kl(e.bundledQuery),readTime:Ws(e.readTime)}}(t)),Hc.resolve()}}]),e}(),$f=function(){function e(){s(this,e),this.overlays=new ys(Ao.comparator),this.Hs=new Map}return l(e,[{key:"getOverlay",value:function(e,t){return Hc.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),Hc.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),Hc.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new Ao(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Hc.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ys((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=new Map,i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(t,e)})),!(s.size>=r)););return Hc.resolve(s)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new ul(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),eh=function(){function e(){s(this,e),this.Js=new ks(th.Ys),this.Xs=new ks(th.Zs)}return l(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new th(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new th(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new Ao(new lo([])),r=new th(n,e),i=new th(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new Ao(new lo([])),n=new th(t,e),r=new th(t,e+1),i=As();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new th(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),th=function(){function e(t,n){s(this,e),this.key=t,this.oi=n}return l(e,null,[{key:"Ys",value:function(e,t){return Ao.comparator(e.key,t.key)||to(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return to(e.oi,t.oi)||Ao.comparator(e.key,t.key)}}]),e}(),nh=function(){function e(t,n){s(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new ks(th.Ys)}return l(e,[{key:"checkEmpty",value:function(e){return Hc.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new al(i,t,n,r);this.gs.push(a);var o,u=h(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ui=this.ui.add(new th(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Hc.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Hc.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return Hc.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Hc.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return Hc.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new th(t,0),i=new th(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),Hc.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ks(to);return t.forEach((function(e){var t=new th(e,0),i=new th(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),Hc.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ao.isDocumentKey(i)||(i=i.child(""));var a=new th(new Ao(i),0),o=new ks(to);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),Hc.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ja(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return Hc.forEach(t.mutations,(function(i){var a=new th(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new th(t,0),r=this.ui.firstAfterOrEqual(n);return Hc.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,Hc.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),rh=function(){function e(t){s(this,e),this.di=t,this.docs=new ys(Ao.comparator),this.size=0}return l(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Hc.resolve(n?n.document.mutableCopy():Wo.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=xs();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Wo.newInvalidDocument(e))})),Hc.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=xs(),i=new Ao(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Hc.resolve(r)}},{key:"_i",value:function(e,t){return Hc.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ih(this)}},{key:"getSize",value:function(e){return Hc.resolve(this.size)}}]),e}(),ih=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).Tn=e,r}return l(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),Hc.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(pf),ah=function(){function e(t){s(this,e),this.persistence=t,this.wi=new df((function(e){return $o(e)}),eu),this.lastRemoteSnapshotVersion=ao.min(),this.highestTargetId=0,this.mi=0,this.gi=new eh,this.targetCount=0,this.yi=$l.He()}return l(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),Hc.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Hc.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Hc.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),Hc.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),Hc.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new $l(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,Hc.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),Hc.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Hc.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Hc.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Hc.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return Hc.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),Hc.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Hc.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),Hc.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return Hc.resolve(n)}},{key:"containsKey",value:function(e,t){return Hc.resolve(this.gi.containsKey(t))}}]),e}(),oh=function(){function e(t,n){var r=this;s(this,e),this.pi={},this.overlays={},this.Nn=new Ja(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new ah(this),this.indexManager=new Fl,this.qn=new rh((function(e){return r.referenceDelegate.Ii(e)})),this.O=new cl(n),this.Kn=new Jf(this.O)}return l(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new $f,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new nh(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Da("MemoryPersistence","Starting transaction:",e);var i=new uh(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return Hc.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),uh=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return l(n)}(Wc),sh=function(){function e(t){s(this,e),this.persistence=t,this.Ri=new eh,this.Pi=null}return l(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw Ua()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),Hc.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),Hc.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),Hc.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hc.forEach(this.vi,(function(r){var i=Ao.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,ao.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return Hc.or([function(){return Hc.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();function ch(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function lh(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function fh(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var hh=function(){function e(t,n,r,i){s(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return l(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new za(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(La("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),dh=function(){function e(t,n,r){s(this,e),this.targetId=t,this.state=n,this.error=r}return l(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new za(i.error.code,i.error.message))),a?new e(t,i.state,r):(La("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ph=function(){function e(t,n){s(this,e),this.clientId=t,this.activeTargetIds=n}return l(e,null,[{key:"Si",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ns(),o=0;i&&o<r.activeTargetIds.length;++o)i=To(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(La("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),vh=function(){function e(t,n){s(this,e),this.clientId=t,this.onlineState=n}return l(e,null,[{key:"Si",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(La("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),yh=function(){function e(){s(this,e),this.activeTargetIds=Ns()}return l(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),mh=function(){function e(t,n,r,i,a){s(this,e),this.window=t,this.Sn=n,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new ys(to),this.started=!1,this.$i=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Fi=ch(this.persistenceKey,this.xi),this.Bi=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new yh),this.Li=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ui=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.qi=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ki=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Gi=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}return l(e,[{key:"start",value:function(){var e=$(te().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ds();case 2:t=e.sent,n=h(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.xi){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(ch(this.persistenceKey,i)))&&(o=ph.Si(i,a))&&(this.Mi=this.Mi.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.ji(),(u=this.storage.getItem(this.Ki))&&(s=this.Qi(u))&&this.Wi(s),c=h(this.$i);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Oi(f)}catch(p){c.e(p)}finally{c.f()}this.$i=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Bi,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.zi(this.Mi)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Mi.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Hi(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Hi(e,t,n),this.Ji(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(fh(this.persistenceKey,e));if(n){var r=dh.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Yi.Ni(e),this.ji()}},{key:"isLocalQueryTarget",value:function(e){return this.Yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(fh(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Xi(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ji(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Zi(e)}},{key:"notifyBundleLoaded",value:function(){this.tr()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Da("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Da("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Da("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Oi",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Da("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fi)return void La("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable($(te().mark((function e(){var r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Li.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.er(n.key),e.abrupt("return",t.nr(r,null));case 6:if(!(i=t.sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.nr(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Ui.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.ir(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.rr(a));case 16:e.next=39;break;case 18:if(!t.qi.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.ur(o));case 23:e.next=39;break;case 25:if(n.key!==t.Ki){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Qi(n.newValue))){e.next=30;break}return e.abrupt("return",t.Wi(u));case 30:e.next=39;break;case 32:if(n.key!==t.Bi){e.next=37;break}s=function(e){var t=Ja.A;if(null!=e)try{var n=JSON.parse(e);ja("number"==typeof n),t=n}catch(e){La("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Ja.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Gi){e.next=39;break}return e.abrupt("return",t.syncEngine.ar());case 39:e.next=42;break;case 41:t.$i.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Yi",get:function(){return this.Mi.get(this.xi)}},{key:"ji",value:function(){this.setItem(this.Fi,this.Yi.Di())}},{key:"Hi",value:function(e,t,n){var r=new hh(this.currentUser,e,t,n),i=lh(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}},{key:"Ji",value:function(e){var t=lh(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Zi",value:function(e){var t={clientId:this.xi,onlineState:e};this.storage.setItem(this.Ki,JSON.stringify(t))}},{key:"Xi",value:function(e,t,n){var r=fh(this.persistenceKey,e),i=new dh(e,t,n);this.setItem(r,i.Di())}},{key:"tr",value:function(){this.setItem(this.Gi,"value-not-used")}},{key:"er",value:function(e){var t=this.Li.exec(e);return t?t[1]:null}},{key:"sr",value:function(e,t){var n=this.er(e);return ph.Si(n,t)}},{key:"ir",value:function(e,t){var n=this.Ui.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return hh.Si(new Na(i),r,t)}},{key:"cr",value:function(e,t){var n=this.qi.exec(e),r=Number(n[1]);return dh.Si(r,t)}},{key:"Qi",value:function(e){return vh.Si(e)}},{key:"rr",value:function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.hr(t.batchId,t.state,t.error));case 2:Da("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ur",value:function(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}},{key:"nr",value:function(e,t){var n=this,r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),a=this.zi(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.dr(o,u).then((function(){n.Mi=r}))}},{key:"Wi",value:function(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"zi",value:function(e){var t=Ns();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),gh=function(){function e(){s(this,e),this._r=new yh,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return l(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new yh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),kh=function(){function e(){s(this,e)}return l(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),bh=function(){function e(){var t=this;s(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return l(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){Da("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=h(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){Da("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=h(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),wh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},_h=function(){function e(t){s(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return l(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),xh=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return l(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Aa;o.listenOnce(xa.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case _a.NO_ERROR:var t=o.getResponseJson();Da("Connection","XHR received:",JSON.stringify(t)),i(t);break;case _a.TIMEOUT:Da("Connection",'RPC "'+e+'" timed out'),a(new za(Ba.DEADLINE_EXCEEDED,"Request time out"));break;case _a.HTTP_ERROR:var n=o.getStatus();if(Da("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ba).indexOf(t)>=0?t:Ba.UNKNOWN}(r.status);a(new za(u,r.message))}else a(new za(Ba.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new za(Ba.UNAVAILABLE,"Connection failed."));break;default:Ua()}}finally{Da("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ba(),a=wa(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ea({})),this.Fr(o.initMessageHeaders,t,n),P()||D()||O().indexOf("Electron/")>=0||L()||O().indexOf("MSAppHost/")>=0||R()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Da("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new _h({Ar:function(e){l?Da("Connection","Not sending because WebChannel is closed:",e):(c||(Da("Connection","Opening WebChannel transport."),s.open(),c=!0),Da("Connection","WebChannel sending:",e),s.send(e))},Rr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Ta.EventType.OPEN,(function(){l||Da("Connection","WebChannel transport opened.")})),h(s,Ta.EventType.CLOSE,(function(){l||(l=!0,Da("Connection","WebChannel transport closed"),f.Cr())})),h(s,Ta.EventType.ERROR,(function(e){l||(l=!0,Ma("Connection","WebChannel transport errored:",e),f.Cr(new za(Ba.UNAVAILABLE,"The operation could not be completed")))})),h(s,Ta.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ja(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Da("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=cs[e];if(void 0!==t)return vs(t)}(a),u=i.message;void 0===o&&(o=Ba.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Cr(new za(o,u)),s.close()}else Da("Connection","WebChannel received:",n),f.Nr(n)}})),h(a,Ia.STAT_EVENT,(function(e){e.stat===Sa.PROXY?Da("Connection","Detected buffering proxy"):e.stat===Sa.NOPROXY&&Da("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){s(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return l(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);Da("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return Da("RestConnection","Received: ",e),e}),(function(t){throw Ma("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=wh[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function Ih(){return"undefined"!=typeof window?window:null}function Sh(){return"undefined"!=typeof document?document:null}function Eh(e){return new zs(e,!0)}var Th=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;s(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=a,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return l(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&Da("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),Ah=function(){function e(t,n,r,i,a,o,u,c){s(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Th(t,n)}return l(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=$(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=$(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===Ba.RESOURCE_EXHAUSTED?(La(n.toString()),La("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===Ba.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,i.Z)(t,2),a=r[0],o=r[1];e.no===n&&e.po(a,o)}),(function(n){t((function(){var t=new za(Ba.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr($(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return Da("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(Da("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ch=function(e){v(n,e);var t=b(n);function n(e,r,i,a,o,u){var c;return s(this,n),(c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).O=o,c}return l(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ua()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(ja(void 0===t||"string"==typeof t),vo.fromBase64String(t||"")):(ja(void 0===t||t instanceof Uint8Array),vo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Ba.UNKNOWN:vs(e.code);return new za(t,e.message||"")}(o);n=new Ls(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Ys(e,s.document.name),l=Ws(s.document.updateTime),f=new Ko({mapValue:{fields:s.document.fields}}),h=Wo.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Rs(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Ys(e,v.document),m=v.readTime?Ws(v.readTime):ao.min(),g=Wo.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Rs([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Ys(e,b.document),_=b.removedTargetIds||[];n=new Rs([],_,w,null)}else{if(!("filter"in t))return Ua();t.filter;var x=t.filter;x.targetId;var I=x.count||0,S=new ds(I),E=x.targetId;n=new Ds(E,S)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return ao.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ao.min():t.readTime?Ws(t.readTime):ao.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=$s(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=tu(r)?{documents:oc(e,r)}:{query:uc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ks(e,t.resumeToken):t.snapshotVersion.compareTo(ao.min())>0&&(n.readTime=qs(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ua()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=$s(this.O),t.removeTarget=e,this.fo(t)}}]),n}(Ah),Nh=function(e){v(n,e);var t=b(n);function n(e,r,i,a,o,u){var c;return s(this,n),(c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).O=o,c.Po=!1,c}return l(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,pt(y(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(ja(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(ja(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ws(e.updateTime):Ws(t);return n.isEqual(ao.min())&&(n=Ws(t)),new Zu(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ws(e.commitTime);return this.listener.Vo(n,t)}return ja(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=$s(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ic(t.O,e)}))};this.fo(n)}}]),n}(Ah),Oh=function(e){v(n,e);var t=b(n);function n(e,r,i,a){var o;return s(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.eo=i,o.O=a,o.Co=!1,o}return l(n,[{key:"No",value:function(){if(this.Co)throw new za(Ba.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),u=o[0],s=o[1];return r.eo.Mr(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ba.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new za(Ba.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),u=o[0],s=o[1];return r.eo.Lr(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ba.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new za(Ba.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return l((function e(){s(this,e)}))}()),Ph=function(){function e(t,n){s(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return l(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(La(t),this.Oo=!1):Da("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),Rh=l((function e(t,n,r,i,a){var o=this;s(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=a,this.jo.mr((function(e){r.enqueueAndForget($(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Kh(o),!e.t0){e.next=5;break}return Da("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Va(t)).Ko.add(4),e.next=4,Mh(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,Dh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new Ph(r,i)}));function Dh(e){return Lh.apply(this,arguments)}function Lh(){return Lh=$(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Kh(t)){e.next=18;break}n=h(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Lh.apply(this,arguments)}function Mh(e){return Fh.apply(this,arguments)}function Fh(){return Fh=$(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=h(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Fh.apply(this,arguments)}function Uh(e,t){var n=Va(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),qh(n)?zh(n):kd(n).co()&&Vh(n,t))}function jh(e,t){var n=Va(e),r=kd(n);n.qo.delete(t),r.co()&&Bh(n,t),0===n.qo.size&&(r.co()?r.ho():Kh(n)&&n.Qo.set("Unknown"))}function Vh(e,t){e.Wo.Z(t.targetId),kd(e).Ao(t)}function Bh(e,t){e.Wo.Z(t),kd(e).Ro(t)}function zh(e){e.Wo=new Fs({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),kd(e).start(),e.Qo.Mo()}function qh(e){return Kh(e)&&!kd(e).oo()&&e.qo.size>0}function Kh(e){return 0===Va(e).Ko.size}function Gh(e){e.Wo=void 0}function Wh(e){return Hh.apply(this,arguments)}function Hh(){return Hh=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){Vh(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Qh(e,t){return Zh.apply(this,arguments)}function Zh(){return Zh=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gh(t),qh(t)?(t.Qo.Bo(n),zh(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Zh.apply(this,arguments)}function Yh(e,t,n){return Xh.apply(this,arguments)}function Xh(){return Xh=$(te().mark((function e(t,n,r){var i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof Ls&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=$(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=h(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Da("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Jh(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Rs?t.Wo.ct(n):n instanceof Ds?t.Wo._t(n):t.Wo.ht(n),r.isEqual(ao.min())){e.next=29;break}return e.prev=14,e.next=17,Mf(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(vo.EMPTY_BYTE_STRING,n.snapshotVersion)),Bh(e,t);var r=new sl(n.target,t,1,n.sequenceNumber);Vh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Da("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Jh(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Xh.apply(this,arguments)}function Jh(e,t,n){return $h.apply(this,arguments)}function $h(){return $h=$(te().mark((function e(t,n,r){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jc(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,Mh(t);case 5:t.Qo.set("Offline"),r||(r=function(){return Mf(t.localStore)}),t.asyncQueue.enqueueRetryable($(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Da("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,Dh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),$h.apply(this,arguments)}function ed(e,t){return t().catch((function(n){return Jh(e,n,t)}))}function td(e){return nd.apply(this,arguments)}function nd(){return nd=$(te().mark((function e(t){var n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Va(t),r=bd(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!rd(n)){e.next=19;break}return e.prev=3,e.next=6,jf(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,id(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Jh(n,e.t0);case 17:e.next=2;break;case 19:ad(n)&&od(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),nd.apply(this,arguments)}function rd(e){return Kh(e)&&e.Uo.length<10}function id(e,t){e.Uo.push(t);var n=bd(e);n.co()&&n.bo&&n.vo(t.mutations)}function ad(e){return Kh(e)&&!bd(e).oo()&&e.Uo.length>0}function od(e){bd(e).start()}function ud(e){return sd.apply(this,arguments)}function sd(){return sd=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bd(t).Do();case 1:case"end":return e.stop()}}),e)}))),sd.apply(this,arguments)}function cd(e){return ld.apply(this,arguments)}function ld(){return ld=$(te().mark((function e(t){var n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=bd(t),r=h(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),ld.apply(this,arguments)}function fd(e,t,n){return hd.apply(this,arguments)}function hd(){return hd=$(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=ol.from(i,n,r),e.next=3,ed(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,td(t);case 5:case"end":return e.stop()}}),e)}))),hd.apply(this,arguments)}function dd(e,t){return pd.apply(this,arguments)}function pd(){return pd=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&bd(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=$(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ps(i=n.code)||i===Ba.ABORTED){e.next=7;break}return r=t.Uo.shift(),bd(t).ao(),e.next=5,ed(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,td(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ad(t)&&od(t);case 5:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(e,t){return yd.apply(this,arguments)}function yd(){return yd=$(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Va(t)).asyncQueue.verifyOperationInProgress(),Da("RemoteStore","RemoteStore received new credentials"),i=Kh(r),r.Ko.add(3),e.next=6,Mh(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,Dh(r);case 12:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function md(e,t){return gd.apply(this,arguments)}function gd(){return gd=$(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Va(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,Dh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,Mh(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}function kd(e){return e.zo||(e.zo=function(e,t,n){var r=Va(e);return r.No(),new Ch(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Wh.bind(null,e),vr:Qh.bind(null,e),To:Yh.bind(null,e)}),e.Go.push(function(){var t=$(te().mark((function t(n){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),qh(e)?zh(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:Gh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function bd(e){return e.Ho||(e.Ho=function(e,t,n){var r=Va(e);return r.No(),new Nh(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:ud.bind(null,e),vr:dd.bind(null,e),So:cd.bind(null,e),Vo:fd.bind(null,e)}),e.Go.push(function(){var t=$(te().mark((function t(n){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,td(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(Da("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var wd=function(){function e(t,n,r,i,a){s(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return l(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new za(Ba.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function _d(e,t){if(La("AsyncQueue","".concat(t,": ").concat(e)),Jc(e))return new za(Ba.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var xd=function(){function e(t){s(this,e),this.comparator=t?function(e,n){return t(e,n)||Ao.comparator(e.key,n.key)}:function(e,t){return Ao.comparator(e.key,t.key)},this.keyedMap=Ss(),this.sortedSet=new ys(this.comparator)}return l(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Id=function(){function e(){s(this,e),this.Jo=new ys(Ao.comparator)}return l(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):Ua():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Sd=function(){function e(t,n,r,i,a,o,u,c){s(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c}return l(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,xd.emptySet(n),a,r,i,!0,!1)}}]),e}(),Ed=l((function e(){s(this,e),this.Xo=void 0,this.listeners=[]})),Td=l((function e(){s(this,e),this.queries=new df((function(e){return Au(e)}),Tu),this.onlineState="Unknown",this.Zo=new Set}));function Ad(e,t){return Cd.apply(this,arguments)}function Cd(){return Cd=$(te().mark((function e(t,n){var r,i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Va(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Ed),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=_d(e.t0,"Initialization of query '".concat(Cu(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&Dd(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Cd.apply(this,arguments)}function Nd(e,t){return Od.apply(this,arguments)}function Od(){return Od=$(te().mark((function e(t,n){var r,i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Va(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Od.apply(this,arguments)}function Pd(e,t){var n,r=Va(e),i=!1,a=h(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=h(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Xo=o}}}catch(f){a.e(f)}finally{a.f()}i&&Dd(r)}function Rd(e,t,n){var r=Va(e),i=r.queries.get(t);if(i){var a,o=h(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Dd(e){e.Zo.forEach((function(e){e.next()}))}var Ld=function(){function e(t,n,r){s(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return l(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=h(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Sd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=Sd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}(),Md=function(){function e(t,n){s(this,e),this.payload=t,this.byteLength=n}return l(e,[{key:"ac",value:function(){return"metadata"in this.payload}}]),e}(),Fd=function(){function e(t){s(this,e),this.O=t}return l(e,[{key:"Gs",value:function(e){return Ys(this.O,e)}},{key:"js",value:function(e){return e.metadata.exists?nc(this.O,e.document,!1):Wo.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}},{key:"Qs",value:function(e){return Ws(e)}}]),e}(),Ud=function(){function e(t,n,r){s(this,e),this.hc=t,this.localStore=n,this.O=r,this.queries=[],this.documents=[],this.progress=jd(t)}return l(e,[{key:"lc",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"fc",value:function(e){var t,n=new Map,r=new Fd(this.O),i=h(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Gs(a.metadata.name),s=h(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||As()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=$(te().mark((function e(){var t,n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qf(this.localStore,new Fd(this.O),this.documents,this.hc.id);case 2:t=e.sent,n=this.fc(this.documents),r=h(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Yf(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Tf(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function jd(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Vd=l((function e(t){s(this,e),this.key=t})),Bd=l((function e(t){s(this,e),this.key=t})),zd=function(){function e(t,n){s(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=As(),this.mutatedKeys=As(),this.mc=Ou(t),this.gc=new xd(this.mc)}return l(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new Id,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=ku(this.query)&&i.size===this.query.limit?i.last():null,c=bu(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Nu(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.mc(f,s)>0||c&&n.mc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),ku(this.query)||bu(this.query))for(;o.size>this.query.limit;){var l=ku(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:u,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ua()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],u=0===this.wc.size&&this.current?1:0,s=u!==this._c;return this._c=u,0!==a.length||s?{snapshot:new Sd(this.query,e.gc,i,a,e.mutatedKeys,0===u,s,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Id,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=As(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new Bd(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new Vd(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=As();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return Sd.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),qd=l((function e(t,n,r){s(this,e),this.query=t,this.targetId=n,this.view=r})),Kd=l((function e(t){s(this,e),this.key=t,this.Sc=!1})),Gd=function(){function e(t,n,r,i,a,o){s(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new df((function(e){return Au(e)}),Tu),this.Nc=new Map,this.xc=new Set,this.kc=new ys(Ao.comparator),this.Oc=new Map,this.Mc=new eh,this.$c={},this.Fc=new Map,this.Bc=$l.Je(),this.onlineState="Unknown",this.Lc=void 0}return l(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function Wd(e,t){return Hd.apply(this,arguments)}function Hd(){return Hd=$(te().mark((function e(t,n){var r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jp(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,Vf(r.localStore,Su(n));case 8:return u=e.sent,r.isPrimaryClient&&Uh(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Qd(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Hd.apply(this,arguments)}function Qd(e,t,n,r){return Zd.apply(this,arguments)}function Zd(){return Zd=$(te().mark((function e(t,n,r,i){var a,o,u,s,c,l;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=$(te().mark((function e(t,n,r,i){var a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,qf(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(vp(t,n.targetId,u.Pc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,qf(t.localStore,n,!0);case 3:return a=e.sent,o=new zd(n,a.Ks),u=o.Ic(a.documents),s=Ps.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),vp(t,r,c.Pc),l=new qd(n,r,o),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Zd.apply(this,arguments)}function Yd(e,t){return Xd.apply(this,arguments)}function Xd(){return Xd=$(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Va(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!Tu(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Bf(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),jh(r.remoteStore,i.targetId),dp(r,i.targetId)})).catch(af);case 9:e.next=14;break;case 11:return dp(r,i.targetId),e.next=14,Bf(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Xd.apply(this,arguments)}function Jd(e,t,n){return $d.apply(this,arguments)}function $d(){return $d=$(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vp(t),e.prev=1,e.next=4,function(e,t){var n,r=Va(e),i=io.now(),a=t.reduce((function(e,t){return e.add(t.key)}),As());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,u=[],s=h(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=ts(c,n.get(c.key));null!=l&&u.push(new as(c.key,l,Go(l.value.mapValue),Yu.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.gs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new ys(to)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,gp(i,a.changes);case 9:return e.next=11,td(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=_d(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),$d.apply(this,arguments)}function ep(e,t){return tp.apply(this,arguments)}function tp(){return tp=$(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Va(t),e.prev=1,e.next=4,Ff(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(ja(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?ja(n.Sc):e.removedDocuments.size>0&&(ja(n.Sc),n.Sc=!1))})),e.next=8,gp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,af(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),tp.apply(this,arguments)}function np(e,t,n){var r=Va(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Va(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=h(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Dd(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function rp(e,t,n){return ip.apply(this,arguments)}function ip(){return ip=$(te().mark((function e(t,n,r){var i,a,o,u,s,c;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Va(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ys(Ao.comparator)).insert(o,Wo.newNoDocument(o,ao.min())),s=As().add(o),c=new Os(ao.min(),new Map,new ks(to),u,s),e.next=9,ep(i,c);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),mp(i),e.next=16;break;case 14:return e.next=16,Bf(i.localStore,n,!1).then((function(){return dp(i,n,r)})).catch(af);case 16:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}function ap(e,t){return op.apply(this,arguments)}function op(){return op=$(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Va(t),i=n.batch.batchId,e.prev=1,e.next=4,Lf(r.localStore,n);case 4:return a=e.sent,hp(r,i,null),fp(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,gp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,af(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),op.apply(this,arguments)}function up(e,t,n){return sp.apply(this,arguments)}function sp(){return sp=$(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Va(t),e.prev=1,e.next=4,function(e,t){var n=Va(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return ja(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,hp(i,n,r),fp(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,gp(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,af(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),sp.apply(this,arguments)}function cp(e,t){return lp.apply(this,arguments)}function lp(){return lp=$(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kh((r=Va(t)).remoteStore)||Da("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Va(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.gs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Fc.get(i)||[]).push(n),r.Fc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=_d(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),lp.apply(this,arguments)}function fp(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function hp(e,t,n){var r=Va(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function dp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=h(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||pp(e,t)}))}function pp(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(jh(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),mp(e))}function vp(e,t,n){var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Vd?(e.Mc.addReference(a.key,t),yp(e,a)):a instanceof Bd?(Da("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||pp(e,a.key)):Ua()}}catch(o){i.e(o)}finally{i.f()}}function yp(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(Da("SyncEngine","New document in limbo: "+n),e.xc.add(r),mp(e))}function mp(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new Ao(lo.fromString(t)),r=e.Bc.next();e.Oc.set(r,new Kd(n)),e.kc=e.kc.insert(n,r),Uh(e.remoteStore,new sl(Su(gu(n.path)),r,2,Ja.A))}}function gp(e,t,n){return kp.apply(this,arguments)}function kp(){return kp=$(te().mark((function e(t,n,r){var i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Va(t),a=[],o=[],u=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){u.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Cf.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Dc.To(a),e.next=9,function(){var e=$(te().mark((function e(t,n){var r,i,a,o,u,s,c,l;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Va(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Hc.forEach(n,(function(t){return Hc.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Hc.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Jc(e.t0)){e.next=10;break}throw e.t0;case 10:Da("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=h(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ms.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function bp(e,t){return wp.apply(this,arguments)}function wp(){return wp=$(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Va(t)).currentUser.isEqual(n)){e.next=11;break}return Da("SyncEngine","User change. New user:",n.toKey()),e.next=5,Rf(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new za(Ba.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,gp(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),wp.apply(this,arguments)}function _p(e,t){var n=Va(e),r=n.Oc.get(t);if(r&&r.Sc)return As().add(r.key);var i=As(),a=n.Nc.get(t);if(!a)return i;var o,u=h(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Cc.get(s);i=i.unionWith(c.view.yc)}}catch(l){u.e(l)}finally{u.f()}return i}function xp(e,t){return Ip.apply(this,arguments)}function Ip(){return Ip=$(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Va(t),e.next=3,qf(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.vc(i),e.abrupt("return",(r.isPrimaryClient&&vp(r,n.targetId,a.Pc),a));case 6:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}function Sp(e){return Ep.apply(this,arguments)}function Ep(){return Ep=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Va(t),e.abrupt("return",Gf(n.localStore).then((function(e){return gp(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Ep.apply(this,arguments)}function Tp(e,t,n,r){return Ap.apply(this,arguments)}function Ap(){return Ap=$(te().mark((function e(t,n,r,i){var a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Va(t),e.next=3,function(e,t){var n=Va(e),r=Va(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Ge(e,t).next((function(t){return t?n.Us.Es(e,t):Hc.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,td(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(hp(a,n,i||null),fp(a,n),function(e,t){Va(Va(e).gs).Qe(t)}(a.localStore,n)):Ua();case 11:return e.next=13,gp(a,o);case 13:e.next=16;break;case 15:Da("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Ap.apply(this,arguments)}function Cp(e,t){return Np.apply(this,arguments)}function Np(){return Np=$(te().mark((function e(t,n){var r,i,a,o,u,s,c,l;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jp(r=Va(t)),Vp(r),!0!==n||!0===r.Lc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Op(r,i.toArray());case 5:return a=e.sent,r.Lc=!0,e.next=9,md(r.remoteStore,!0);case 9:o=h(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Uh(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Lc){e.next=25;break}return c=[],l=Promise.resolve(),r.Nc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return dp(r,t),Bf(r.localStore,t,!0)})),jh(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Op(r,c);case 21:return function(e){var t=Va(e);t.Oc.forEach((function(e,n){jh(t.remoteStore,n)})),t.Mc.ii(),t.Oc=new Map,t.kc=new ys(Ao.comparator)}(r),r.Lc=!1,e.next=25,md(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Np.apply(this,arguments)}function Op(e,t,n){return Pp.apply(this,arguments)}function Pp(){return Pp=$(te().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,p,v,y,m,g;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Va(t),a=[],o=[],u=h(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Nc.get(c))||0===f.length){e.next=34;break}return e.next=11,Vf(i.localStore,Su(f[0]));case 11:l=e.sent,d=h(f),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,y=i.Cc.get(v),e.next=20,xp(i,y);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Kf(i.localStore,c);case 36:return g=e.sent,e.next=39,Vf(i.localStore,g);case 39:return l=e.sent,e.next=42,Qd(i,Rp(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Dc.To(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Pp.apply(this,arguments)}function Rp(e){return mu(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Dp(e){var t=Va(e);return Va(Va(t.localStore).persistence).ds()}function Lp(e,t,n,r){return Mp.apply(this,arguments)}function Mp(){return Mp=$(te().mark((function e(t,n,r,i){var a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Va(t)).Lc){e.next=5;break}Da("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Nc.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Gf(a.localStore);case 11:return o=e.sent,u=Os.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,gp(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,Bf(a.localStore,n,!0);case 18:return dp(a,n,i),e.abrupt("break",21);case 20:Ua();case 21:case"end":return e.stop()}}),e)}))),Mp.apply(this,arguments)}function Fp(e,t,n){return Up.apply(this,arguments)}function Up(){return Up=$(te().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=jp(t)).Lc){e.next=45;break}a=h(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Nc.has(u)){e.next=10;break}return Da("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Kf(i.localStore,u);case 12:return s=e.sent,e.next=15,Vf(i.localStore,s);case 15:return c=e.sent,e.next=18,Qd(i,Rp(s),c.targetId,!1);case 18:Uh(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=h(r),e.prev=30,d=te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Nc.has(t),!e.t0){e.next=5;break}return e.next=5,Bf(i.localStore,t,!1).then((function(){jh(i.remoteStore,t),dp(i,t)})).catch(af);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Up.apply(this,arguments)}function jp(e){var t=Va(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ep.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_p.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rp.bind(null,t),t.Dc.To=Pd.bind(null,t.eventManager),t.Dc.qc=Rd.bind(null,t.eventManager),t}function Vp(e){var t=Va(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ap.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=up.bind(null,t),t}function Bp(e,t,n){var r=Va(e);(function(){var e=$(te().mark((function e(t,n,r){var i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Va(e),r=Ws(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kn.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(jd(i)),a=new Ud(i,t.localStore,n.O),e.next=14,n.Kc();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.lc(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Kc();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,gp(t,s.ws,void 0);case 30:return e.next=32,function(e,t){var n=Va(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kn.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Ma("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var zp=function(){function e(){s(this,e),this.synchronizeTabs=!1}return l(e,[{key:"initialize",value:function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return Pf(this.persistence,new Nf,e.initialUser,this.O)}},{key:"jc",value:function(e){return new oh(sh.bi,this.O)}},{key:"Gc",value:function(e){return new gh}},{key:"terminate",value:function(){var e=$(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),qp=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this)).zc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return l(n,[{key:"initialize",value:function(){var e=$(te().mark((function e(t){var r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(y(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Wf(this.localStore);case 4:return e.next=6,this.zc.initialize(this,t);case 6:return e.next=8,Vp(this.zc.syncEngine);case 8:return e.next=10,td(this.zc.remoteStore);case 10:return e.next=12,this.persistence.Hn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wc",value:function(e){return Pf(this.persistence,new Nf,e.initialUser,this.O)}},{key:"Qc",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new cf(t,e.asyncQueue)}},{key:"jc",value:function(e){var t=Ef(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Gl.withCacheSize(this.cacheSizeBytes):Gl.DEFAULT;return new xf(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ih(),Sh(),this.O,this.sharedClientState,!!this.forceOwnership)}},{key:"Gc",value:function(e){return new gh}}]),n}(zp),Kp=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,r,!1)).zc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return l(n,[{key:"initialize",value:function(){var e=$(te().mark((function e(t){var r,i=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(y(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.zc.syncEngine,e.t0=this.sharedClientState instanceof mh,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={hr:Tp.bind(null,r),lr:Lp.bind(null,r),dr:Fp.bind(null,r),ds:Dp.bind(null,r),ar:Sp.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Hn(function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cp(i.zc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Gc",value:function(e){var t=Ih();if(!mh.Vt(t))throw new za(Ba.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ef(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mh(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(qp),Gp=function(){function e(){s(this,e)}return l(e,[{key:"initialize",value:function(){var e=$(te().mark((function e(t,n){var r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return np(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=bp.bind(null,this.syncEngine),e.next=12,md(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Td}},{key:"createDatastore",value:function(e){var t,n=Eh(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new xh(t));return function(e,t,n,r){return new Oh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return np(o.syncEngine,e,0)},a=bh.Vt()?new bh:new kh,new Rh(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Gd(e,t,n,r,i,a);return o&&(u.Lc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Va(t),Da("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,Mh(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Wp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return $(te().mark((function r(){var i;return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return $(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Hp=function(){function e(t){s(this,e),this.observer=t,this.muted=!1}return l(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Qp=function(){function e(t,n){var r=this;s(this,e),this.Yc=t,this.O=n,this.metadata=new qa,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((function(e){e&&e.ac()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return l(e,[{key:"close",value:function(){return this.Yc.cancel()}},{key:"getMetadata",value:function(){var e=$(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(){var e=$(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Zc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(){var e=$(te().mark((function e(){var t,n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Xc.decode(t),r=Number(n),isNaN(r)&&this.eu("length string (".concat(n,") is not valid number")),e.next=9,this.nu(r);case 9:return i=e.sent,e.abrupt("return",new Md(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"tu",value:function(){var e=$(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.su()<0)){e.next=7;break}return e.next=3,this.iu();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.su())<0&&this.eu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.iu();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.eu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){throw this.Yc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"iu",value:function(){var e=$(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Yc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Zp=function(){function e(t){s(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return l(e,[{key:"lookup",value:function(){var e=$(te().mark((function e(t){var n,r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new za(Ba.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=$(te().mark((function e(t,n){var r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Va(t),i=$s(r.O)+"/documents",a={documents:n.map((function(e){return Zs(r.O,e)}))},e.next=5,r.Lr("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=rc(r.O,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ja(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new fs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=$(te().mark((function e(){var t,n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ao.fromPath(t);n.mutations.push(new hs(r,n.precondition(r)))})),e.next=7,function(){var e=$(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Va(t),i=$s(r.O)+"/documents",a={writes:n.map((function(e){return ic(r.O,e)}))},e.next=3,r.Mr("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ua();t=ao.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new za(Ba.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Yu.updateTime(t):Yu.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ao.min()))throw new za(Ba.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yu.updateTime(t)}return Yu.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Yp=function(){function e(t,n,r,i){s(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new Th(this.asyncQueue,"transaction_retry")}return l(e,[{key:"run",value:function(){this.ru-=1,this.ou()}},{key:"ou",value:function(){var e=this;this.ro.Hr($(te().mark((function t(){var n,r;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Zp(e.datastore),(r=e.cu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.uu(t)}))}))})).catch((function(t){e.uu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"cu",value:function(e){try{var t=this.updateFunction(e);return!So(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"uu",value:function(e){var t=this;this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget((function(){return t.ou(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"au",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ps(t)}return!1}}]),e}(),Xp=function(){function e(t,n,r,i){var a=this;s(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Na.UNAUTHENTICATED,this.clientId=eo.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Da("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Da("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return l(e,[{key:"getConfiguration",value:function(){var e=$(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new za(Ba.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted($(te().mark((function n(){var r;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=_d(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Jp(e,t){return $p.apply(this,arguments)}function $p(){return $p=$(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Da("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Rf(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),$p.apply(this,arguments)}function ev(e,t){return tv.apply(this,arguments)}function tv(){return tv=$(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,nv(t);case 3:return r=e.sent,Da("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return vd(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return vd(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),tv.apply(this,arguments)}function nv(e){return rv.apply(this,arguments)}function rv(){return rv=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Da("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Jp(t,new zp);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(e){return av.apply(this,arguments)}function av(){return av=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Da("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ev(t,new Gp);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}function ov(e){return nv(e).then((function(e){return e.persistence}))}function uv(e){return nv(e).then((function(e){return e.localStore}))}function sv(e){return iv(e).then((function(e){return e.remoteStore}))}function cv(e){return iv(e).then((function(e){return e.syncEngine}))}function lv(e){return fv.apply(this,arguments)}function fv(){return fv=$(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iv(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Wd.bind(null,n.syncEngine),r.onUnlisten=Yd.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),fv.apply(this,arguments)}function hv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new qa;return e.asyncQueue.enqueueAndForget($(te().mark((function i(){return te().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Hp({next:function(a){t.enqueueAndForget((function(){return Nd(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new za(Ba.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new za(Ba.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Ld(gu(n.path),a,{includeMetadataChanges:!0,uc:!0});return Ad(e,o)},i.next=3,lv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function dv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new qa;return e.asyncQueue.enqueueAndForget($(te().mark((function i(){return te().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Hp({next:function(n){t.enqueueAndForget((function(){return Nd(e,o)})),n.fromCache&&"server"===r.source?i.reject(new za(Ba.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Ld(n,a,{includeMetadataChanges:!0,uc:!0});return Ad(e,o)},i.next=3,lv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var pv=new Map;function vv(e,t,n){if(!n)throw new za(Ba.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function yv(e,t,n,r){if(!0===t&&!0===r)throw new za(Ba.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function mv(e){if(!Ao.isDocumentKey(e))throw new za(Ba.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function gv(e){if(Ao.isDocumentKey(e))throw new za(Ba.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function kv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ua()}function bv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new za(Ba.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kv(e);throw new za(Ba.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function wv(e,t){if(t<=0)throw new za(Ba.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var _v=function(){function e(t){var n;if(s(this,e),void 0===t.host){if(void 0!==t.ssl)throw new za(Ba.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new za(Ba.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,yv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return l(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),xv=function(){function e(t,n,r){s(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,t instanceof Io?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new za(Ba.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(e.options.projectId)}(t))}return l(e,[{key:"app",get:function(){if(!this._app)throw new za(Ba.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new za(Ba.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ga;switch(e.type){case"gapi":var t=e.client;return ja(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Za(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new za(Ba.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=pv.get(e);t&&(Da("ComponentProvider","Removing Datastore"),pv.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Iv(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=bv(e,xv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Ma("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Na.MOCK_USER;else{o=N(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new za(Ba.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Na(s)}e._authCredentials=new Wa(new Ka(o,u))}}var Sv=function(){function e(t,n,r){s(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return l(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Tv(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Ev=function(){function e(t,n,r){s(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return l(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Tv=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this,e,r,gu(i)))._path=i,a.type="collection",a}return l(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Sv(this.firestore,null,new Ao(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Ev);function Av(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=X(e),vv("collection","path",t),e instanceof xv){var a=lo.fromString.apply(lo,[t].concat(r));return gv(a),new Tv(e,null,a)}if(!(e instanceof Sv||e instanceof Tv))throw new za(Ba.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lo.fromString.apply(lo,[t].concat(r)));return gv(o),new Tv(e.firestore,null,o)}function Cv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=X(e),1===arguments.length&&(t=eo.R()),vv("doc","path",t),e instanceof xv){var a=lo.fromString.apply(lo,[t].concat(r));return mv(a),new Sv(e,null,new Ao(a))}if(!(e instanceof Sv||e instanceof Tv))throw new za(Ba.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lo.fromString.apply(lo,[t].concat(r)));return mv(o),new Sv(e.firestore,e instanceof Tv?e.converter:null,new Ao(o))}function Nv(e,t){return e=X(e),t=X(t),(e instanceof Sv||e instanceof Tv)&&(t instanceof Sv||t instanceof Tv)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ov(e,t){return e=X(e),t=X(t),e instanceof Ev&&t instanceof Ev&&e.firestore===t.firestore&&Tu(e._query,t._query)&&e.converter===t.converter}var Pv=function(){function e(){var t=this;s(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Th(this,"async_queue_retry"),this.yu=function(){var e=Sh();e&&Da("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=Sh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return l(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=Sh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new qa;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=$(te().mark((function e(){var t=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Jc(e.t0)){e.next=12;break}throw e.t0;case 12:Da("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw La("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=wd.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&Ua()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=$(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=h(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=h(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function Rv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=h(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Dv=function(){function e(){s(this,e),this._progressObserver={},this._taskCompletionResolver=new qa,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return l(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Lv=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Pv,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return l(n,[{key:"_terminate",value:function(){return this._firestoreClient||Fv(this),this._firestoreClient.terminate()}}]),n}(xv);function Mv(e){return e._firestoreClient||Fv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Fv(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new xo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Xp(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Uv(e,t,n){var r=new qa;return e.asyncQueue.enqueue($(te().mark((function i(){return te().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Jp(e,n);case 3:return i.next=5,ev(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Ba.FAILED_PRECONDITION||e.code===Ba.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function jv(e){return function(e){return e.asyncQueue.enqueue($(te().mark((function t(){var n,r;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ov(e);case 2:return n=t.sent,t.next=5,sv(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Va(e);return t.Ko.delete(0),Dh(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Mv(e=bv(e,Lv)))}function Vv(e){return function(e){return e.asyncQueue.enqueue($(te().mark((function t(){var n,r;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ov(e);case 2:return n=t.sent,t.next=5,sv(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Va(t)).Ko.add(0),e.next=4,Mh(n);case 4:n.Qo.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Mv(e=bv(e,Lv)))}function Bv(e,t){var n=Mv(e=bv(e,Lv)),r=new Dv;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Qp(e,t)}(function(e,t){if(e instanceof Uint8Array)return Wp(e,t);if(e instanceof ArrayBuffer)return Wp(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Eh(t));e.asyncQueue.enqueueAndForget($(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Bp,t.next=3,cv(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function zv(e,t){return function(e,t){return e.asyncQueue.enqueue($(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Va(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kn.getNamedQuery(e,t)}))},n.next=3,uv(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Mv(e=bv(e,Lv)),t).then((function(t){return t?new Ev(e,null,t.query):null}))}function qv(e){if(e._initialized||e._terminated)throw new za(Ba.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Kv=function(){function e(){s(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new za(Ba.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ho(n)}return l(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Gv=function(){function e(t){s(this,e),this._byteString=t}return l(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(vo.fromBase64String(t))}catch(t){throw new za(Ba.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(vo.fromUint8Array(t))}}]),e}(),Wv=l((function e(t){s(this,e),this._methodName=t})),Hv=function(){function e(t,n){if(s(this,e),!isFinite(t)||t<-90||t>90)throw new za(Ba.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new za(Ba.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return l(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return to(this._lat,e._lat)||to(this._long,e._long)}}]),e}(),Qv=/^__.*__$/,Zv=function(){function e(t,n,r){s(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return l(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new as(e,this.data,this.fieldMask,t,this.fieldTransforms):new is(e,this.data,t,this.fieldTransforms)}}]),e}(),Yv=function(){function e(t,n,r){s(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return l(e,[{key:"toMutation",value:function(e,t){return new as(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Xv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ua()}}var Jv=function(){function e(t,n,r,i,a,o){s(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return l(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return gy(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(Xv(this.Vu)&&Qv.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),$v=function(){function e(t,n,r){s(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||Eh(t)}return l(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Jv({Vu:e,methodName:t,$u:n,path:ho.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function ey(e){var t=e._freezeSettings(),n=Eh(e._databaseId);return new $v(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ty(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);py("Data must be an object, but it was:",o,r);var u,s,c=hy(r,o);if(a.merge)u=new po(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=h(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var p=l.value,v=vy(t,p,n);if(!o.contains(v))throw new za(Ba.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));ky(f,v)||f.push(v)}}catch(y){d.e(y)}finally{d.f()}u=new po(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Zv(new Ko(c),u,s)}var ny=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Wv);function ry(e,t,n){return new Jv({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}var iy=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"_toFieldTransform",value:function(e){return new Qu(e.path,new Vu)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Wv),ay=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).Bu=r,i}return l(n,[{key:"_toFieldTransform",value:function(e){var t=ry(this,e,!0),n=this.Bu.map((function(e){return fy(e,t)})),r=new Bu(n);return new Qu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Wv),oy=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).Bu=r,i}return l(n,[{key:"_toFieldTransform",value:function(e){var t=ry(this,e,!0),n=this.Bu.map((function(e){return fy(e,t)})),r=new qu(n);return new Qu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Wv),uy=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).Lu=r,i}return l(n,[{key:"_toFieldTransform",value:function(e){var t=new Gu(e.O,Lu(e.O,this.Lu));return new Qu(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Wv);function sy(e,t,n,r){var i=e.Fu(1,t,n);py("Data must be an object, but it was:",i,r);var a=[],o=Ko.empty();uo(r,(function(e,r){var u=my(t,e,n);r=X(r);var s=i.xu(u);if(r instanceof ny)a.push(u);else{var c=fy(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new po(a);return new Yv(o,u,i.fieldTransforms)}function cy(e,t,n,r,i,a){var o=e.Fu(1,t,n),u=[vy(t,r,n)],s=[i];if(a.length%2!=0)throw new za(Ba.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(vy(t,a[c])),s.push(a[c+1]);for(var l=[],f=Ko.empty(),h=u.length-1;h>=0;--h)if(!ky(l,u[h])){var d=u[h],p=s[h];p=X(p);var v=o.xu(d);if(p instanceof ny)l.push(d);else{var y=fy(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new po(l);return new Yv(f,m,o.fieldTransforms)}function ly(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return fy(n,e.Fu(r?4:3,t))}function fy(e,t){if(dy(e=X(e)))return py("Unsupported field value:",t,e),hy(e,t);if(e instanceof Wv)return function(e,t){if(!Xv(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=h(e);try{for(a.s();!(n=a.n()).done;){var o=fy(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=X(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Lu(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=io.fromDate(e);return{timestampValue:qs(t.O,n)}}if(e instanceof io){var r=new io(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:qs(t.O,r)}}if(e instanceof Hv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gv)return{bytesValue:Ks(t.O,e._byteString)};if(e instanceof Sv){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Hs(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(kv(e)))}(e,t)}function hy(e,t){var n={};return so(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uo(e,(function(e,r){var i=fy(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function dy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof io||e instanceof Hv||e instanceof Gv||e instanceof Sv||e instanceof Wv)}function py(e,t,n){if(!dy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=kv(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function vy(e,t,n){if((t=X(t))instanceof Kv)return t._internalPath;if("string"==typeof t)return my(e,t);throw gy("Field path arguments must be of type string or ",e,!1,void 0,n)}var yy=new RegExp("[~\\*/\\[\\]]");function my(e,t,n){if(t.search(yy)>=0)throw gy("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return w(Kv,(0,a.Z)(t.split(".")))._internalPath}catch(r){throw gy("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function gy(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new za(Ba.INVALID_ARGUMENT,u+e+s)}function ky(e,t){return e.some((function(e){return e.isEqual(t)}))}var by=function(){function e(t,n,r,i,a){s(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return l(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Sv(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new wy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(_y("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),wy=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"data",value:function(){return pt(y(n.prototype),"data",this).call(this)}}]),n}(by);function _y(e,t){return"string"==typeof t?my(e,t):t instanceof Kv?t._internalPath:t._delegate._internalPath}var xy=function(){function e(t,n){s(this,e),this.hasPendingWrites=t,this.fromCache=n}return l(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Iy=function(e){v(n,e);var t=b(n);function n(e,r,i,a,o,u){var c;return s(this,n),(c=t.call(this,e,r,i,a,u))._firestore=e,c._firestoreImpl=e,c.metadata=o,c}return l(n,[{key:"exists",value:function(){return pt(y(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Sy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(_y("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(by),Sy=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pt(y(n.prototype),"data",this).call(this,e)}}]),n}(Iy),Ey=function(){function e(t,n,r,i){s(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new xy(i.hasPendingWrites,i.fromCache),this.query=r}return l(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Sy(n._firestore,n._userDataWriter,r.key,r,new xy(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new za(Ba.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Sy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Sy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ty(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Ty(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ua()}}function Ay(e,t){return e instanceof Iy&&t instanceof Iy?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ey&&t instanceof Ey&&e._firestore===t._firestore&&Ov(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Cy(e){if(bu(e)&&0===e.explicitOrderBy.length)throw new za(Ba.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ny=l((function e(){s(this,e)}));function Oy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Py=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this)).Uu=e,a.qu=r,a.Ku=i,a.type="where",a}return l(n,[{key:"_apply",value:function(e){var t=ey(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new za(Ba.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){qy(o,a);var s,c=[],l=h(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(zy(r,e,f))}}catch(p){l.e(p)}finally{l.f()}u={arrayValue:{values:c}}}else u=zy(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||qy(o,a),u=ly(n,"where",o,"in"===a||"not-in"===a);var d=nu.create(i,a,u);return function(e,t){if(t.S()){var n=_u(e);if(null!==n&&!n.isEqual(t.field))throw new za(Ba.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=wu(e);null!==r&&Ky(e,t.field,r)}var i=function(e,t){var n,r=h(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new za(Ba.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new za(Ba.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new Ev(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new yu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Ny);var Ry=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return l(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new za(Ba.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new za(Ba.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new hu(t,n);return function(e,t){if(null===wu(e)){var n=_u(e);null!==n&&Ky(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new Ev(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new yu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Ny);var Dy=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this)).type=e,a.ju=r,a.Qu=i,a}return l(n,[{key:"_apply",value:function(e){return new Ev(e.firestore,e.converter,Eu(e._query,this.ju,this.Qu))}}]),n}(Ny);var Ly=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return l(n,[{key:"_apply",value:function(e){var t=By(e,this.type,this.Wu,this.zu);return new Ev(e.firestore,e.converter,function(e,t){return new yu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Ny);function My(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ly("startAt",t,!0)}function Fy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ly("startAfter",t,!1)}var Uy=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return l(n,[{key:"_apply",value:function(e){var t=By(e,this.type,this.Wu,this.zu);return new Ev(e.firestore,e.converter,function(e,t){return new yu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Ny);function jy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Uy("endBefore",t,!1)}function Vy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Uy("endAt",t,!0)}function By(e,t,n,r){if(n[0]=X(n[0]),n[0]instanceof by)return function(e,t,n,r,i){if(!r)throw new za(Ba.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=h(Iu(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Fo(t,r.key));else{var c=r.data.field(s.field);if(bo(c))throw new za(Ba.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new za(Ba.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new fu(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ey(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new za(Ba.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new za(Ba.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!xu(e)&&-1!==c.indexOf("/"))throw new za(Ba.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(lo.fromString(c));if(!Ao.isDocumentKey(l))throw new za(Ba.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ao(l);u.push(Fo(t,f))}else{var h=ly(n,r,c);u.push(h)}}return new fu(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function zy(e,t,n){if("string"==typeof(n=X(n))){if(""===n)throw new za(Ba.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xu(t)&&-1!==n.indexOf("/"))throw new za(Ba.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(lo.fromString(n));if(!Ao.isDocumentKey(r))throw new za(Ba.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Fo(e,new Ao(r))}if(n instanceof Sv)return Fo(e,n._key);throw new za(Ba.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(kv(n),"."))}function qy(e,t){if(!Array.isArray(e)||0===e.length)throw new za(Ba.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new za(Ba.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Ky(e,t,n){if(!n.isEqual(t))throw new za(Ba.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Gy=function(){function e(){s(this,e)}return l(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return go(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ua()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return uo(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Hv(go(e.latitude),go(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=wo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_o(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=mo(e);return new io(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=lo.fromString(e);ja(mc(n));var r=new Io(n.get(1),n.get(3)),i=new Ao(n.popFirst(5));return r.isEqual(t)||La("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Wy(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Hy=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).firestore=e,r}return l(n,[{key:"convertBytes",value:function(e){return new Gv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sv(this.firestore,null,t)}}]),n}(Gy),Qy=function(){function e(t,n){s(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ey(t)}return l(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Zy(e,this._firestore),i=Wy(r.converter,t,n),a=ty(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Yu.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Zy(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=X(t))||t instanceof Kv?cy(this._dataReader,"WriteBatch.update",i._key,t,n,o):sy(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Yu.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Zy(e,this._firestore);return this._mutations=this._mutations.concat(new fs(t._key,Yu.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new za(Ba.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Zy(e,t){if((e=X(e)).firestore!==t)throw new za(Ba.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Yy=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).firestore=e,r}return l(n,[{key:"convertBytes",value:function(e){return new Gv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sv(this.firestore,null,t)}}]),n}(Gy);function Xy(e){e=bv(e,Sv);var t=bv(e.firestore,Lv),n=Mv(t),r=new Yy(t);return function(e,t){var n=new qa;return e.asyncQueue.enqueueAndForget($(te().mark((function r(){return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=$(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Va(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Us.ys(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new za(Ba.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=_d(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,uv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Iy(t,r,e._key,n,new xy(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Jy(e){e=bv(e,Ev);var t=bv(e.firestore,Lv),n=Mv(t),r=new Yy(t);return function(e,t){var n=new qa;return e.asyncQueue.enqueueAndForget($(te().mark((function r(){return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=$(te().mark((function e(t,n,r){var i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qf(t,n,!0);case 3:i=e.sent,a=new zd(n,i.Ks),o=a.Ic(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=_d(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,uv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Ey(t,r,e,n)}))}function $y(e,t,n){e=bv(e,Sv);var r=bv(e.firestore,Lv),i=Wy(e.converter,t,n);return rm(r,[ty(ey(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Yu.none())])}function em(e,t,n){e=bv(e,Sv);for(var r=bv(e.firestore,Lv),i=ey(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return rm(r,[("string"==typeof(t=X(t))||t instanceof Kv?cy(i,"updateDoc",e._key,t,n,o):sy(i,"updateDoc",e._key,t)).toMutation(e._key,Yu.exists(!0))])}function tm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=X(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Rv(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Rv(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Sv)l=bv(e.firestore,Lv),f=gu(e._key.path),c={next:function(t){n[s]&&n[s](im(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=bv(e,Ev);l=bv(p.firestore,Lv),f=p._query;var v=new Yy(l);c={next:function(e){n[s]&&n[s](new Ey(l,v,p,e))},error:n[s+1],complete:n[s+2]},Cy(e._query)}return function(e,t,n,r){var i=new Hp(r),a=new Ld(t,i,n);return e.asyncQueue.enqueueAndForget($(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ad,t.next=3,lv(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Jc(),e.asyncQueue.enqueueAndForget($(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Nd,t.next=3,lv(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Mv(l),f,h,c)}function nm(e,t){return function(e,t){var n=new Hp(t);return e.asyncQueue.enqueueAndForget($(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Va(e).Zo.add(t),t.next()},t.next=3,lv(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Jc(),e.asyncQueue.enqueueAndForget($(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Va(e).Zo.delete(t)},t.next=3,lv(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Mv(e=bv(e,Lv)),Rv(t)?t:{next:t})}function rm(e,t){return function(e,t){var n=new qa;return e.asyncQueue.enqueueAndForget($(te().mark((function r(){return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Jd,r.next=3,cv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Mv(e),t)}function im(e,t,n){var r=n.docs.get(t._key),i=new Yy(e);return new Iy(e,i,t._key,r,new xy(n.hasPendingWrites,n.fromCache),t.converter)}var am=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,r))._firestore=e,i}return l(n,[{key:"get",value:function(e){var t=this,r=Zy(e,this._firestore),i=new Yy(this._firestore);return pt(y(n.prototype),"get",this).call(this,e).then((function(e){return new Iy(t._firestore,i,r._key,e._document,new xy(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){s(this,e),this._firestore=t,this._transaction=n,this._dataReader=ey(t)}return l(e,[{key:"get",value:function(e){var t=this,n=Zy(e,this._firestore),r=new Hy(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ua();var i=e[0];if(i.isFoundDocument())return new by(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new by(t._firestore,r,n._key,null,n.converter);throw Ua()}))}},{key:"set",value:function(e,t,n){var r=Zy(e,this._firestore),i=Wy(r.converter,t,n),a=ty(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Zy(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=X(t))||t instanceof Kv?cy(this._dataReader,"Transaction.update",i._key,t,n,o):sy(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Zy(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function om(e,t){return function(e,t){var n=new qa;return e.asyncQueue.enqueueAndForget($(te().mark((function r(){var i;return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return iv(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Yp(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Mv(e=bv(e,Lv)),(function(n){return t(new am(e,n))}))}function um(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ay("arrayUnion",t)}function sm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oy("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Oa=e}(De),Te(new ne("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Lv(i,new Ha(e.getProvider("auth-internal")),new Xa(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ve(Ca,"3.4.5",e),Ve(Ca,"3.4.5","esm2017")}();function cm(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new za("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function lm(){if("undefined"===typeof Uint8Array)throw new za("unimplemented","Uint8Arrays are not available in this environment.")}function fm(){if("undefined"==typeof atob)throw new za("unimplemented","Blobs are unavailable in Firestore in this environment.")}var hm=function(){function e(t){s(this,e),this._delegate=t}return l(e,[{key:"toBase64",value:function(){return fm(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return lm(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return fm(),new e(Gv.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return lm(),new e(Gv.fromUint8Array(t))}}]),e}();function dm(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=h(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var pm=function(){function e(){s(this,e)}return l(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){qv(e=bv(e,Lv));var n=Mv(e),r=e._freezeSettings(),i=new Gp;return Uv(n,i,new qp(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){qv(e=bv(e,Lv));var t=Mv(e),n=e._freezeSettings(),r=new Gp;return Uv(t,r,new Kp(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new za(Ba.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new qa;return e._queue.enqueueAndForgetEvenWhileRestricted($(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zc.Vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Zc.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Ef(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),vm=function(){function e(t,n,r){var i=this;s(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Io||(this._appCompat=t)}return l(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ma("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Iv(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return jv(this._delegate)}},{key:"disableNetwork",value:function(){return Vv(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&yv("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new qa;return e.asyncQueue.enqueueAndForget($(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=cp,n.next=3,cv(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Mv(e=bv(e,Lv)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return nm(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new za("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Cm(this,Av(this._delegate,e))}catch(t){throw wm(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new bm(this,Cv(this._delegate,e))}catch(t){throw wm(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Em(this,function(e,t){if(e=bv(e,xv),vv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new za(Ba.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Ev(e,null,function(e){return new yu(lo.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw wm(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return om(this._delegate,(function(n){return e(new mm(t,n))}))}},{key:"batch",value:function(){var e=this;return Mv(this._delegate),new gm(new Qy(this._delegate,(function(t){return rm(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Bv(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return zv(this._delegate,e).then((function(e){return e?new Em(t,e):null}))}}]),e}(),ym=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).firestore=e,r}return l(n,[{key:"convertBytes",value:function(e){return new hm(new Gv(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return bm.forKey(t,this.firestore,null)}}]),n}(Gy);var mm=function(){function e(t,n){s(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ym(t)}return l(e,[{key:"get",value:function(e){var t=this,n=Nm(e);return this._delegate.get(n).then((function(e){return new Im(t._firestore,new Iy(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Nm(e);return n?(cm("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Nm(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Nm(e);return this._delegate.delete(t),this}}]),e}(),gm=function(){function e(t){s(this,e),this._delegate=t}return l(e,[{key:"set",value:function(e,t,n){var r=Nm(e);return n?(cm("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Nm(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Nm(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),km=function(){function e(t,n,r){s(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return l(e,[{key:"fromFirestore",value:function(e,t){var n=new Sy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sm(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ym(t),n),i.set(n,a)),a}}]),e}();km.INSTANCES=new WeakMap;var bm=function(){function e(t,n){s(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ym(t)}return l(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Cm(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Cm(this.firestore,Av(this._delegate,e))}catch(t){throw wm(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=X(e))instanceof Sv&&Nv(this._delegate,e)}},{key:"set",value:function(e,t){t=cm("DocumentReference.set",t);try{return t?$y(this._delegate,e,t):$y(this._delegate,e)}catch(n){throw wm(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?em(this._delegate,e):em.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw wm(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return rm(bv(e.firestore,Lv),[new fs(e._key,Yu.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=_m(n),a=xm(n,(function(t){return new Im(e.firestore,new Iy(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return tm(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Xy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=bv(e,Sv);var t=bv(e.firestore,Lv);return hv(Mv(t),e._key,{source:"server"}).then((function(n){return im(t,e,n)}))}(this._delegate):function(e){e=bv(e,Sv);var t=bv(e.firestore,Lv);return hv(Mv(t),e._key).then((function(n){return im(t,e,n)}))}(this._delegate),t.then((function(e){return new Im(n.firestore,new Iy(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(km.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new za("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Sv(n._delegate,r,new Ao(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Sv(n._delegate,r,t))}}]),e}();function wm(e,t,n){return e.message=e.message.replace(t,n),e}function _m(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!dm(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function xm(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=dm(e[0])?e[0]:dm(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Im=function(){function e(t,n){s(this,e),this._firestore=t,this._delegate=n}return l(e,[{key:"ref",get:function(){return new bm(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Ay(this._delegate,e._delegate)}}]),e}(),Sm=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ua()}(void 0!==t),t}}]),n}(Im),Em=function(){function e(t,n){s(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ym(t)}return l(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Oy(this._delegate,function(e,t,n){var r=t,i=_y("where",e);return new Py(i,r,n)}(t,n,r)))}catch(i){throw wm(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Oy(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=_y("orderBy",e);return new Ry(n,t)}(t,n)))}catch(r){throw wm(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Oy(this._delegate,function(e){return wv("limit",e),new Dy("limit",e,"F")}(t)))}catch(n){throw wm(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Oy(this._delegate,function(e){return wv("limitToLast",e),new Dy("limitToLast",e,"L")}(t)))}catch(n){throw wm(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Oy(this._delegate,My.apply(void 0,arguments)))}catch(t){throw wm(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Oy(this._delegate,Fy.apply(void 0,arguments)))}catch(t){throw wm(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Oy(this._delegate,jy.apply(void 0,arguments)))}catch(t){throw wm(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Oy(this._delegate,Vy.apply(void 0,arguments)))}catch(t){throw wm(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Ov(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Jy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=bv(e,Ev);var t=bv(e.firestore,Lv),n=Mv(t),r=new Yy(t);return dv(n,e._query,{source:"server"}).then((function(n){return new Ey(t,r,e,n)}))}(this._delegate):function(e){e=bv(e,Ev);var t=bv(e.firestore,Lv),n=Mv(t),r=new Yy(t);return Cy(e._query),dv(n,e._query).then((function(n){return new Ey(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Am(n.firestore,new Ey(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=_m(n),a=xm(n,(function(t){return new Am(e.firestore,new Ey(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return tm(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(km.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Tm=function(){function e(t,n){s(this,e),this._firestore=t,this._delegate=n}return l(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Sm(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Am=function(){function e(t,n){s(this,e),this._firestore=t,this._delegate=n}return l(e,[{key:"query",get:function(){return new Em(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Sm(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Tm(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Sm(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Ay(this._delegate,e._delegate)}}]),e}(),Cm=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return l(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new bm(this.firestore,e):null}},{key:"doc",value:function(e){try{return new bm(this.firestore,void 0===e?Cv(this._delegate):Cv(this._delegate,e))}catch(t){throw wm(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=bv(e.firestore,Lv),r=Cv(e),i=Wy(e.converter,t);return rm(n,[ty(ey(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Yu.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new bm(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Nv(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(km.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Em);function Nm(e){return bv(e,Sv)}var Om,Pm=function(){function e(){s(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=w(Kv,n)}return l(e,[{key:"isEqual",value:function(e){return(e=X(e))instanceof Kv&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ho.keyField().canonicalString())}}]),e}(),Rm=function(){function e(t){s(this,e),this._delegate=t}return l(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new iy("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new ny("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=um.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=sm.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new uy("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Dm={Firestore:vm,GeoPoint:Hv,Timestamp:io,Blob:hm,Transaction:mm,WriteBatch:gm,DocumentReference:bm,DocumentSnapshot:Im,Query:Em,QueryDocumentSnapshot:Sm,QuerySnapshot:Am,CollectionReference:Cm,FieldPath:Pm,FieldValue:Rm,setLogLevel:function(e){!function(e){Pa.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new ne("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Dm)))})(Om=ht,(function(e,t){return new vm(e,t,new pm)})),Om.registerVersion("@firebase/firestore-compat","0.1.14");var Lm="firebasestorage.googleapis.com",Mm=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,Fm(e),"Firebase Storage: ".concat(r," (").concat(Fm(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(d(i),n.prototype),i}return l(n,[{key:"_codeEquals",value:function(e){return Fm(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(U);function Fm(e){return"storage/"+e}function Um(){return new Mm("unknown","An unknown error occurred, please check the error payload for server response.")}function jm(){return new Mm("canceled","User canceled the upload/download.")}function Vm(){return new Mm("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Bm(e){return new Mm("invalid-argument",e)}function zm(){return new Mm("app-deleted","The Firebase app was deleted.")}function qm(e){return new Mm("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Km(e,t){return new Mm("invalid-format","String does not match format '"+e+"': "+t)}function Gm(e){throw new Mm("internal-error","Internal error: "+e)}var Wm,Hm=function(){function e(t,n){s(this,e),this.bucket=t,this.path_=n}return l(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Mm("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Lm?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Mm("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Qm=function(){function e(t){s(this,e),this.promise_=Promise.reject(t)}return l(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Zm(e){return"string"===typeof e||e instanceof String}function Ym(e){return Xm()&&e instanceof Blob}function Xm(){return"undefined"!==typeof Blob}function Jm(e,t,n,r){if(r<t)throw Bm("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Bm("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function $m(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function eg(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Wm||(Wm={}));var tg=function(){function e(t,n,r,i,a,o,u,c,l,f,h){var d=this;s(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return l(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=Um();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?zm():jm());else i(new Mm("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new ng(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new ng(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Wm.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new ng(o,r))}else{var u=r.getErrorCode()===Wm.ABORT;t(!1,new ng(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),ng=l((function e(t,n,r){s(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function rg(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ig(){for(var e=rg(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Xm())return new Blob(n);throw new Mm("unsupported-environment","This browser doesn't seem to support creating Blobs")}var ag={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},og=l((function e(t,n){s(this,e),this.data=t,this.contentType=n||null}));function ug(e,t){switch(e){case ag.RAW:return new og(sg(t));case ag.BASE64:case ag.BASE64URL:return new og(cg(e,t));case ag.DATA_URL:return new og(function(e){var t=new lg(e);return t.base64?cg(ag.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Km(ag.DATA_URL,"Malformed data URL.")}return sg(t)}(t.rest)}(t),new lg(t).contentType)}throw Um()}function sg(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function cg(e,t){switch(e){case ag.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Km(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ag.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Km(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw Km(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var lg=l((function e(t){s(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Km(ag.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var fg=function(){function e(t,n){s(this,e);var r=0,i="";Ym(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return l(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Ym(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Xm()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(ig.apply(null,i))}var a=n.map((function(e){return Zm(e)?ug(ag.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function hg(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function dg(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function pg(e,t){return t}var vg=l((function e(t,n,r,i){s(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||pg})),yg=null;function mg(){if(yg)return yg;var e=[];e.push(new vg("bucket")),e.push(new vg("generation")),e.push(new vg("metageneration")),e.push(new vg("name","fullPath",!0));var t=new vg("name");t.xform=function(e,t){return function(e){return!Zm(e)||e.length<2?e:dg(e)}(t)},e.push(t);var n=new vg("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new vg("timeCreated")),e.push(new vg("updated")),e.push(new vg("md5Hash",null,!0)),e.push(new vg("cacheControl",null,!0)),e.push(new vg("contentDisposition",null,!0)),e.push(new vg("contentEncoding",null,!0)),e.push(new vg("contentLanguage",null,!0)),e.push(new vg("contentType",null,!0)),e.push(new vg("metadata","customMetadata",!0)),yg=e}function gg(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Hm(n,r);return t._makeStorageReference(i)}})}(r,e),r}function kg(e,t,n){var r=hg(t);return null===r?null:gg(e,r,n)}function bg(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function wg(e,t,n){var r=hg(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=h(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new Hm(t,o));r.prefixes.push(u)}}catch(d){a.e(d)}finally{a.f()}}if(n.items){var s,c=h(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new Hm(t,l.name));r.items.push(f)}}catch(d){c.e(d)}finally{c.f()}}return r}(e,t,r)}var _g=l((function e(t,n,r,i){s(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function xg(e){if(!e)throw Um()}function Ig(e,t){return function(n,r){var i=kg(e,r,t);return xg(null!==i),i}}function Sg(e,t){return function(n,r){var i=kg(e,r,t);return xg(null!==i),function(e,t,n,r){var i=hg(t);if(null===i)return null;if(!Zm(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return $m("/b/"+o(i)+"/o/"+o(a),n,r)+eg({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Eg(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Mm("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Mm("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Mm("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Mm("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Tg(e){var t=Eg(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Mm("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Ag(e,t,n){var r=$m(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _g(r,"GET",Ig(e,n),i);return a.errorHandler=Tg(t),a}function Cg(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=$m(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new _g(o,"GET",function(e,t){return function(n,r){var i=wg(e,t,r);return xg(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=Eg(t),s}function Ng(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Og(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=Ng(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+bg(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=fg.getBlob(c,r,l);if(null===f)throw Vm();var h={name:s.fullPath},d=$m(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new _g(d,"POST",Ig(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Eg(t),v}var Pg=l((function e(t,n,r,i){s(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function Rg(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){xg(!1)}return xg(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Dg=262144;function Lg(e,t,n,r,i,a,o,u){var s=new Pg(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new Mm("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw Vm();var v=t.maxUploadRetryTime,y=new _g(n,"POST",(function(e,n){var i,o=Rg(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?Ig(t,a)(e,n):null,new Pg(u,c,"final"===o,i)}),v);return y.headers=d,y.body=p.uploadData(),y.progressCallback=u||null,y.errorHandler=Eg(e),y}var Mg={STATE_CHANGED:"state_changed"},Fg={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ug(e){switch(e){case"running":case"pausing":case"canceling":return Fg.RUNNING;case"paused":return Fg.PAUSED;case"success":return Fg.SUCCESS;case"canceled":return Fg.CANCELED;default:return Fg.ERROR}}var jg=l((function e(t,n,r){s(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function Vg(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var Bg=function(){function e(){var t=this;s(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wm.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Wm.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Wm.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return l(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Gm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Gm("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Gm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Gm("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Gm("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),zg=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Bg);function qg(){return new zg}var Kg=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=mg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return l(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=(0,i.Z)(n,2),a=r[0],o=r[1];switch(t._state){case"running":e(a,o);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=Ng(t,r,i),u={name:o.fullPath},s=$m(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=bg(o,n),f=e.maxUploadRetryTime,h=new _g(s,"POST",(function(e){var t;Rg(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){xg(!1)}return xg(Zm(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=Eg(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,qg,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new _g(n,"POST",(function(e){var t=Rg(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){xg(!1)}n||xg(!1);var i=Number(n);return xg(!isNaN(i)),new Pg(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Eg(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,qg,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=Dg*this._chunkMultiplier,n=new Pg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=Lg(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,qg,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){Dg*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=Ag(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,qg,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=Og(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,qg,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=jm(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Ug(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new jg(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Ug(this._state)){case Fg.SUCCESS:Vg(this._resolve.bind(null,this.snapshot))();break;case Fg.CANCELED:case Fg.ERROR:Vg(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Ug(this._state)){case Fg.RUNNING:case Fg.PAUSED:e.next&&Vg(e.next.bind(e,this.snapshot))();break;case Fg.SUCCESS:e.complete&&Vg(e.complete.bind(e))();break;default:e.error&&Vg(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),Gg=function(){function e(t,n){s(this,e),this._service=t,this._location=n instanceof Hm?n:Hm.makeFromUrl(n,t.host)}return l(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Hm(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return dg(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Hm(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw qm(e)}}]),e}();function Wg(e,t,n){return Hg.apply(this,arguments)}function Hg(){return(Hg=$(te().mark((function e(t,n,r){var i,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={pageToken:r},e.next=3,Qg(t,u);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,(0,a.Z)(s.prefixes)),(o=n.items).push.apply(o,(0,a.Z)(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,Wg(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qg(e,t){null!=t&&"number"===typeof t.maxResults&&Jm("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=Cg(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,qg)}function Zg(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=$m(t.fullServerUrl(),e.host,e._protocol),a=bg(n,r),o=e.maxOperationRetryTime,u=new _g(i,"PATCH",Ig(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=Tg(t),u}(e.storage,e._location,t,mg());return e.storage.makeRequestWithTokens(n,qg)}function Yg(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=$m(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _g(r,"GET",Sg(e,n),i);return a.errorHandler=Tg(t),a}(e.storage,e._location,mg());return e.storage.makeRequestWithTokens(t,qg).then((function(e){if(null===e)throw new Mm("no-download-url","The given file does not have any download URLs.");return e}))}function Xg(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=$m(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new _g(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Tg(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,qg)}function Jg(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Hm(e._location.bucket,n);return new Gg(e.storage,r)}function $g(e,t){if(e instanceof rk){var n=e;if(null==n._bucket)throw new Mm("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Gg(n,n._bucket);return null!=t?$g(r,t):r}return void 0!==t?Jg(e,t):e}function ek(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof rk)return new Gg(e,t);throw Bm("To use ref(service, url), the first argument must be a Storage instance.")}return $g(e,t)}function tk(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Hm.makeFromBucketSpec(n,e)}function nk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:N(i,e.app.options.projectId))}var rk=function(){function e(t,n,r,i,a){s(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Lm,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Hm.makeFromBucketSpec(i,this._host):tk(this._host,this.app.options)}return l(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Hm.makeFromBucketSpec(this._url,e):this._bucket=tk(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Jm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Jm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=$(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=$(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Gg(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new Qm(zm());var a=function(e,t,n,r,i,a){var o=eg(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new tg(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=$(te().mark((function e(t,n){var r,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,a=(0,i.Z)(r,2),o=a[0],u=a[1],e.abrupt("return",this._makeRequest(t,n,o,u).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ik="@firebase/storage",ak="0.9.2",ok="storage";function uk(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Kg(e,new fg(t),n)}(e=X(e),t,n)}function sk(e){return function(e){e._throwIfRoot("getMetadata");var t=Ag(e.storage,e._location,mg());return e.storage.makeRequestWithTokens(t,qg)}(e=X(e))}function ck(e){return function(e){var t={prefixes:[],items:[]};return Wg(e,t).then((function(){return t}))}(e=X(e))}function lk(e){return Yg(e=X(e))}function fk(e,t){return ek(e=X(e),t)}function hk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};nk(e,t,n,r)}function dk(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new rk(r,i,a,n,De)}Te(new ne(ok,dk,"PUBLIC").setMultipleInstances(!0)),Ve(ik,ak,""),Ve(ik,ak,"esm2017");var pk=function(){function e(t,n,r){s(this,e),this._delegate=t,this.task=n,this.ref=r}return l(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),vk=function(){function e(t,n){s(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return l(e,[{key:"snapshot",get:function(){return new pk(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new pk(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new pk(e,i,i._ref))}:{next:t.next?function(e){return t.next(new pk(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),yk=function(){function e(t,n){s(this,e),this._delegate=t,this._service=n}return l(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new mk(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new mk(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),mk=function(){function e(t,n){s(this,e),this._delegate=t,this.storage=n}return l(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return Jg(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new vk(uk(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ag.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=ug(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new vk(new Kg(this._delegate,new fg(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return ck(this._delegate).then((function(t){return new yk(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return Qg(e=X(e),t)}(this._delegate,e||void 0).then((function(e){return new yk(e,t.storage)}))}},{key:"getMetadata",value:function(){return sk(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return Zg(e=X(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return lk(this._delegate)}},{key:"delete",value:function(){return this._throwIfRoot("delete"),Xg(X(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw qm(e)}}]),e}(),gk=function(){function e(t,n){s(this,e),this.app=t,this._delegate=n}return l(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(kk(e))throw Bm("ref() expected a child path but got a URL, use refFromURL instead.");return new mk(fk(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!kk(e))throw Bm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Hm.makeFromUrl(e,this._delegate.host)}catch(t){throw Bm("refFromUrl() expected a valid full URL but got an invalid one.")}return new mk(fk(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};hk(this._delegate,e,t,n)}}]),e}();function kk(e){return/^[A-Za-z]+:\/\//.test(e)}function bk(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new gk(r,i)}!function(e){var t={TaskState:Fg,TaskEvent:Mg,StringFormat:ag,Storage:gk,Reference:mk};e.INTERNAL.registerComponent(new ne("storage-compat",bk,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.10")}(ht);var wk=n(872),_k=n(184);var xk=function(e){var n=(0,t.useState)(0),r=(0,i.Z)(n,2),u=r[0],s=r[1],c=(0,t.useState)("Other"),l=(0,i.Z)(c,2),f=l[0],h=l[1],d=(0,t.useState)(""),p=(0,i.Z)(d,2),v=p[0],y=p[1],m=(0,t.useState)(""),g=(0,i.Z)(m,2),k=(g[0],g[1],(0,t.useState)("")),b=(0,i.Z)(k,2),w=(b[0],b[1],(0,t.useState)("")),_=(0,i.Z)(w,2),x=_[0],I=_[1],S=(0,t.useState)(""),E=(0,i.Z)(S,2),T=E[0],A=E[1],C=(0,t.useState)(!1),N=(0,i.Z)(C,2),O=N[0],P=N[1],R=(0,t.useState)(!1),D=(0,i.Z)(R,2),L=D[0],M=D[1];function F(){var e=[],t=f.toLowerCase().split(/[\s-\.,!?]/).filter((function(e){return e.length>0}));return e.push.apply(e,(0,a.Z)(t)),t=v.toLowerCase().split(/[\s-\.,!?]/),e.push.apply(e,(0,a.Z)(t)),t=localStorage.getItem("name").toLowerCase().split(/[\s-\.,!?]/),e.push.apply(e,(0,a.Z)(t)),t=localStorage.getItem("email").toLowerCase(),e.push(t),e}ht.initializeApp(o);var U=ht.firestore(),j=ht.storage();return(0,_k.jsx)("section",{className:"uploadForm",children:(0,_k.jsxs)("div",{className:"formInner",children:[(0,_k.jsx)("button",{className:"close-btn",onClick:function(){return e.setTrigger(!1)},children:"X"}),O?(0,_k.jsxs)("div",{className:"submittedBox",children:[(0,_k.jsx)("div",{className:"submittedIconBox",children:(0,_k.jsx)(wk.Z,{})}),(0,_k.jsx)("p",{children:"Submitted!"})]}):(0,_k.jsxs)(_k.Fragment,{children:[(0,_k.jsx)("h3",{className:"formTitle",children:" Upload Your Item! "}),(0,_k.jsxs)("form",{id:"myForm",children:[(0,_k.jsx)("label",{className:"formLabel",children:"Item Description: "}),(0,_k.jsx)("input",{className:"formInput",required:!0,type:"text",onChange:function(e){y(e.target.value)}}),(0,_k.jsx)("label",{className:"formLabel",children:"Item Price: "}),(0,_k.jsx)("input",{className:"formInput",required:!0,type:"text",onChange:function(e){s(e.target.value)}}),(0,_k.jsx)("label",{className:"formLabel",children:"Phone Number: "}),(0,_k.jsx)("input",{className:"formInput",type:"tel",onChange:function(e){I(e.target.value)}}),(0,_k.jsx)("label",{className:"formLabel",children:"Item Category: "}),(0,_k.jsxs)("select",{className:"formInput",onChange:function(e){h(e.target.value)},children:[(0,_k.jsx)("option",{value:"Other",children:"Other"}),(0,_k.jsx)("option",{value:"Clothing",children:"Clothing"}),(0,_k.jsx)("option",{value:"School Supply",children:"School Supply"}),(0,_k.jsx)("option",{value:"Food",children:"Food"}),(0,_k.jsx)("option",{value:"Book",children:"Book"})]}),(0,_k.jsx)("label",{className:"formLabel",children:"Item Image: "}),(0,_k.jsx)("input",{className:"pictureInput",type:"file",accept:"image/png, image/gif, image/jpeg",onChange:function(e){var t=e.target.files[0];A((function(e){return t}))}})]}),(0,_k.jsx)("button",{className:"btn-submit",disabled:!(u&&v)||L,type:"submit",onClick:function(){M(!0),j.ref("/images/".concat(T.name)).put(T).then((function(){var t=fk(j,"images/".concat(T.name));F(),lk(t).then((function(t){U.collection("count").get().then((function(n){var r=0;n.forEach((function(e){r=e.data().value})),U.collection("items").doc("".concat(parseInt(r)+1)).set({itemID:r,itemPrice:u,itemCategory:f,itemDescription:v,sellerPhone:x,sellerPhoto:t,sellerName:localStorage.getItem("name"),sellerEmail:localStorage.getItem("email"),sellerID:localStorage.getItem("userID"),sellerFields:F()}).then((function(t){P(!0),e.search()})),U.collection("count").doc("1").set({value:r+1})}))}))})).catch((function(e){alert("An error has occurred, please try again :)"),window.location.reload()}))},children:L?"Submitting":"Submit!"})," "]})]})})},Ik=n(205),Sk=n(403);var Ek=function(e){return(0,_k.jsxs)("div",{className:"profilePopUp",onClick:function(e){e.stopPropagation()},children:[e.currentUser?(0,_k.jsx)(_k.Fragment,{}):(0,_k.jsx)("button",{className:"signInButton",onClick:e.signIn,children:"Sign In"}),e.currentUser?(0,_k.jsxs)(_k.Fragment,{children:[(0,_k.jsxs)("div",{className:"profileInfo",children:[(0,_k.jsx)("img",{className:"profileImg",src:e.userImg}),(0,_k.jsx)("p",{className:"nameText",children:e.name}),(0,_k.jsx)("p",{className:"emailText",children:e.email})]}),(0,_k.jsx)("button",{className:"uploadButton",onClick:function(){return e.setButtonPopup(!0)},children:"Upload Item"}),(0,_k.jsx)("button",{className:"signOutButton",onClick:e.signOut,children:"Sign Out"})]}):(0,_k.jsx)(_k.Fragment,{children:" "})]})};function Tk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ak;Object.create;function Ck(){return(0,u.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Nk=Ck,Ok=new j("auth","Firebase",Ck()),Pk=new de("@firebase/auth");function Rk(e){if(Pk.logLevel<=oe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Pk.error.apply(Pk,["Auth (".concat(De,"): ").concat(e)].concat(n))}}function Dk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Uk.apply(void 0,[e].concat(n))}function Lk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Uk.apply(void 0,[e].concat(n))}function Mk(e,t,n){var r=Object.assign(Object.assign({},Nk()),(0,u.Z)({},t,n));return new j("auth","Firebase",r).create(t,{appName:e.name})}function Fk(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Dk(e,"argument-error"),Mk(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Uk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,o=n[0],u=(0,a.Z)(n.slice(1));return u[0]&&(u[0].appName=e.name),(i=e._errorFactory).create.apply(i,[o].concat((0,a.Z)(u)))}return Ok.create.apply(Ok,[e].concat(n))}function jk(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Uk.apply(void 0,[t].concat(r))}}function Vk(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Rk(t),new Error(t)}function Bk(e,t){e||Vk(t)}var zk=new Map;function qk(e){Bk(e instanceof Function,"Expected a class definition");var t=zk.get(e);return t?(Bk(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,zk.set(e,t),t)}function Kk(e,t){var n=Ae(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(q(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Dk(r,"already-initialized")}return n.initialize({options:t})}function Gk(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Wk(){return"http:"===Hk()||"https:"===Hk()}function Hk(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Qk=function(){function e(t,n){s(this,e),this.shortDelay=t,this.longDelay=n,Bk(n>t,"Short delay should be less than long delay!"),this.isMobile=P()||D()}return l(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Wk()||R()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Zk(e,t){Bk(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Yk=function(){function e(){s(this,e)}return l(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Vk("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Vk("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Vk("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Xk=(Ak={},(0,u.Z)(Ak,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,u.Z)(Ak,"MISSING_CUSTOM_TOKEN","internal-error"),(0,u.Z)(Ak,"INVALID_IDENTIFIER","invalid-email"),(0,u.Z)(Ak,"MISSING_CONTINUE_URI","internal-error"),(0,u.Z)(Ak,"INVALID_PASSWORD","wrong-password"),(0,u.Z)(Ak,"MISSING_PASSWORD","internal-error"),(0,u.Z)(Ak,"EMAIL_EXISTS","email-already-in-use"),(0,u.Z)(Ak,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,u.Z)(Ak,"INVALID_IDP_RESPONSE","invalid-credential"),(0,u.Z)(Ak,"INVALID_PENDING_TOKEN","invalid-credential"),(0,u.Z)(Ak,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,u.Z)(Ak,"MISSING_REQ_TYPE","internal-error"),(0,u.Z)(Ak,"EMAIL_NOT_FOUND","user-not-found"),(0,u.Z)(Ak,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,u.Z)(Ak,"EXPIRED_OOB_CODE","expired-action-code"),(0,u.Z)(Ak,"INVALID_OOB_CODE","invalid-action-code"),(0,u.Z)(Ak,"MISSING_OOB_CODE","internal-error"),(0,u.Z)(Ak,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,u.Z)(Ak,"INVALID_ID_TOKEN","invalid-user-token"),(0,u.Z)(Ak,"TOKEN_EXPIRED","user-token-expired"),(0,u.Z)(Ak,"USER_NOT_FOUND","user-token-expired"),(0,u.Z)(Ak,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,u.Z)(Ak,"INVALID_CODE","invalid-verification-code"),(0,u.Z)(Ak,"INVALID_SESSION_INFO","invalid-verification-id"),(0,u.Z)(Ak,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,u.Z)(Ak,"MISSING_SESSION_INFO","missing-verification-id"),(0,u.Z)(Ak,"SESSION_EXPIRED","code-expired"),(0,u.Z)(Ak,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,u.Z)(Ak,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,u.Z)(Ak,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,u.Z)(Ak,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,u.Z)(Ak,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,u.Z)(Ak,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,u.Z)(Ak,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,u.Z)(Ak,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,u.Z)(Ak,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,u.Z)(Ak,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,u.Z)(Ak,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ak),Jk=new Qk(3e4,6e4);function $k(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function eb(e,t,n,r){return tb.apply(this,arguments)}function tb(){return tb=$(te().mark((function e(t,n,r,i){var a,o=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",nb(t,a,$(te().mark((function e(){var a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=G(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Yk.fetch()(ob(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),tb.apply(this,arguments)}function nb(e,t,n){return rb.apply(this,arguments)}function rb(){return(rb=$(te().mark((function e(t,n,r){var a,o,u,s,c,l,f,h,d,p;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},Xk),n),e.prev=2,o=new ub(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw sb(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,i.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw sb(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw sb(t,"email-already-in-use",s);case 25:if(p=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Mk(t,p,d);case 30:Dk(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof U)){e.next=37;break}throw e.t0;case 37:Dk(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function ib(e,t,n,r){return ab.apply(this,arguments)}function ab(){return ab=$(te().mark((function e(t,n,r,i){var a,o,u=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,eb(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Dk(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ab.apply(this,arguments)}function ob(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Zk(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ub=function(){function e(t){var n=this;s(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Lk(n.auth,"network-request-failed"))}),Jk.get())}))}return l(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function sb(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Lk(e,t,r);return i.customData._tokenResponse=n,i}function cb(e,t){return lb.apply(this,arguments)}function lb(){return(lb=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eb(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fb(e,t){return hb.apply(this,arguments)}function hb(){return(hb=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eb(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function db(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function pb(){return pb=$(te().mark((function e(t){var n,r,i,a,o,u,s=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=X(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,jk((a=yb(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:db(vb(a.auth_time)),issuedAtTime:db(vb(a.iat)),expirationTime:db(vb(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),pb.apply(this,arguments)}function vb(e){return 1e3*Number(e)}function yb(e){var t=e.split("."),n=(0,i.Z)(t,3),r=n[0],a=n[1],o=n[2];if(void 0===r||void 0===a||void 0===o)return Rk("JWT malformed, contained fewer than 3 sections"),null;try{var u=T(a);return u?JSON.parse(u):(Rk("Failed to decode base64 JWT payload"),null)}catch(s){return Rk("Caught error parsing JWT payload as JSON",s),null}}function mb(e,t){return gb.apply(this,arguments)}function gb(){return gb=$(te().mark((function e(t,n){var r=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof U&&kb(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),gb.apply(this,arguments)}function kb(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var bb=function(){function e(t){s(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return l(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout($(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=$(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),wb=function(){function e(t,n){s(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return l(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=db(this.lastLoginAt),this.creationTime=db(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function _b(e){return xb.apply(this,arguments)}function xb(){return xb=$(te().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,mb(t,fb(r,{idToken:i}));case 6:jk(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Eb(o.providerUserInfo):[],s=Sb(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new wb(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),xb.apply(this,arguments)}function Ib(){return(Ib=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=X(t),e.next=3,_b(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sb(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,a.Z)(n),(0,a.Z)(t))}function Eb(e){return e.map((function(e){var t=e.providerId,n=Tk(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Tb(e,t){return Ab.apply(this,arguments)}function Ab(){return(Ab=$(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nb(t,{},$(te().mark((function e(){var r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=G({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=ob(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Yk.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cb=function(){function e(){s(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return l(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){jk(e.idToken,"internal-error"),jk("undefined"!==typeof e.idToken,"internal-error"),jk("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=yb(e);return jk(t,"internal-error"),jk("undefined"!==typeof t.exp,"internal-error"),jk("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=$(te().mark((function e(t){var n,r=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],jk(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=$(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tb(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Vk("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(jk("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(jk("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(jk("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Nb(e,t){jk("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ob=function(){function e(t){s(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=Tk(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?(0,a.Z)(o.providerData):[],this.metadata=new wb(o.createdAt||void 0,o.lastLoginAt||void 0)}return l(e,[{key:"getIdToken",value:function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mb(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(jk(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return pb.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ib.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(jk(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){jk(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=$(te().mark((function e(t){var n,r,i=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,_b(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=$(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,mb(this,cb(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;jk(k&&x,t,"internal-error");var I=Cb.fromJSON(this.name,x);jk("string"===typeof k,t,"internal-error"),Nb(f,t.name),Nb(h,t.name),jk("boolean"===typeof b,t,"internal-error"),jk("boolean"===typeof w,t,"internal-error"),Nb(d,t.name),Nb(p,t.name),Nb(v,t.name),Nb(y,t.name),Nb(m,t.name),Nb(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=$(te().mark((function t(n,r){var i,a,o,u=arguments;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Cb).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,_b(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Pb=function(){function e(){s(this,e),this.type="NONE",this.storage={}}return l(e,[{key:"_isAvailable",value:function(){var e=$(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Pb.type="NONE";var Rb=Pb;function Db(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Lb=function(){function e(t,n,r){s(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Db(this.userKey,a.apiKey,o),this.fullPersistenceKey=Db("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return l(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=$(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ob._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=$(te().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,p,v,y=arguments;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(qk(Rb),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||qk(Rb),u=Db(i,n.config.apiKey,n.name),s=null,c=h(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return p=Ob._fromJSON(n,d),f!==o&&(s=p),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(v=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=v[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Mb(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zb(t))return"Blackberry";if(qb(t))return"Webos";if(Ub(t))return"Safari";if((t.includes("chrome/")||jb(t))&&!t.includes("edge/"))return"Chrome";if(Bb(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Fb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O();return/firefox\//i.test(e)}function Ub(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O();return/crios\//i.test(e)}function Vb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O();return/iemobile/i.test(e)}function Bb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O();return/android/i.test(e)}function zb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O();return/blackberry/i.test(e)}function qb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O();return/webos/i.test(e)}function Kb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O();return/iphone|ipad|ipod/i.test(e)}function Gb(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O();return Kb(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Wb(){return L()&&10===document.documentMode}function Hb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O();return Kb(e)||Bb(e)||qb(e)||zb(e)||/windows phone/i.test(e)||Vb(e)}function Qb(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Mb(O());break;case"Worker":t="".concat(Mb(O()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(De,"/").concat(r)}var Zb=function(){function e(t,n){s(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xb(this),this.idTokenSubscription=new Xb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ok,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return l(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=qk(t)),this._initializationPromise=this.queue($(te().mark((function r(){var i,a;return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Lb.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=$(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=$(te().mark((function e(t){var n,r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return jk(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_b(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=$(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?X(t):null)&&jk(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=$(te().mark((function e(t){var n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&jk(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue($(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=$(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue($(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(qk(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new j("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=$(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return jk(n=t&&qk(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Lb.create(this,[qk(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=$(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue($(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=$(te().mark((function e(t){var n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue($(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return jk(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return jk(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qb(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=$(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,u.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Yb(e){return X(e)}var Xb=function(){function e(t){var n=this;s(this,e),this.auth=t,this.observer=null,this.addObserver=Q((function(e){return n.observer=e}))}return l(e,[{key:"next",get:function(){return jk(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Jb=function(){function e(t,n){s(this,e),this.providerId=t,this.signInMethod=n}return l(e,[{key:"toJSON",value:function(){return Vk("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Vk("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Vk("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Vk("not implemented")}}]),e}();function $b(e,t){return ew.apply(this,arguments)}function ew(){return(ew=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eb(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tw(e,t){return nw.apply(this,arguments)}function nw(){return(nw=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ib(t,"POST","/v1/accounts:signInWithPassword",$k(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rw(e,t){return iw.apply(this,arguments)}function iw(){return(iw=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ib(t,"POST","/v1/accounts:signInWithEmailLink",$k(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aw(e,t){return ow.apply(this,arguments)}function ow(){return(ow=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ib(t,"POST","/v1/accounts:signInWithEmailLink",$k(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uw=function(e){v(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return s(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return l(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",tw(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",rw(t,{email:this._email,oobCode:this._password}));case 5:Dk(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",$b(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",aw(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Dk(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Jb);function sw(e,t){return cw.apply(this,arguments)}function cw(){return(cw=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ib(t,"POST","/v1/accounts:signInWithIdp",$k(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lw=function(e){v(n,e);var t=b(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return l(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return sw(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,sw(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,sw(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=G(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dk("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Tk(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Jb);function fw(e,t){return hw.apply(this,arguments)}function hw(){return(hw=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eb(t,"POST","/v1/accounts:sendVerificationCode",$k(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dw(){return(dw=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ib(t,"POST","/v1/accounts:signInWithPhoneNumber",$k(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pw(){return(pw=$(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ib(t,"POST","/v1/accounts:signInWithPhoneNumber",$k(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw sb(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vw=(0,u.Z)({},"USER_NOT_FOUND","user-not-found");function yw(){return(yw=$(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ib(t,"POST","/v1/accounts:signInWithPhoneNumber",$k(t,r),vw));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mw=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this,"phone","phone")).params=e,r}return l(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return dw.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return pw.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return yw.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Jb);var gw=function(){function e(t){var n,r,i,a,o,u;s(this,e);var c=W(H(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);jk(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=c.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=c.tenantId)&&void 0!==u?u:null}return l(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=W(H(e)).link,n=t?W(H(t)).deep_link_id:null,r=W(H(e)).deep_link_id;return(r?W(H(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Mv){return null}}}]),e}();var kw=function(){function e(){s(this,e),this.providerId=e.PROVIDER_ID}return l(e,null,[{key:"credential",value:function(e,t){return uw._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=gw.parseLink(t);return jk(n,"argument-error"),uw._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();kw.PROVIDER_ID="password",kw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",kw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var bw=function(){function e(t){s(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return l(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ww=function(e){v(n,e);var t=b(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).scopes=[],e}return l(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,a.Z)(this.scopes)}}]),n}(bw),_w=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.call(this,"facebook.com")}return l(n,null,[{key:"credential",value:function(e){return lw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Mv){return null}}}]),n}(ww);_w.FACEBOOK_SIGN_IN_METHOD="facebook.com",_w.PROVIDER_ID="facebook.com";var xw=function(e){v(n,e);var t=b(n);function n(){var e;return s(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return l(n,null,[{key:"credential",value:function(e,t){return lw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Mv){return null}}}]),n}(ww);xw.GOOGLE_SIGN_IN_METHOD="google.com",xw.PROVIDER_ID="google.com";var Iw=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.call(this,"github.com")}return l(n,null,[{key:"credential",value:function(e){return lw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Mv){return null}}}]),n}(ww);Iw.GITHUB_SIGN_IN_METHOD="github.com",Iw.PROVIDER_ID="github.com";var Sw=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.call(this,"twitter.com")}return l(n,null,[{key:"credential",value:function(e,t){return lw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Mv){return null}}}]),n}(ww);Sw.TWITTER_SIGN_IN_METHOD="twitter.com",Sw.PROVIDER_ID="twitter.com";var Ew=function(){function e(t){s(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return l(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=$(te().mark((function t(n,r,i){var a,o,u,s,c=arguments;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ob._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Tw(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=$(te().mark((function t(n,r,i){var a;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Tw(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Tw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Aw=function(e){v(n,e);var t=b(n);function n(e,r,i,a){var o,u;return s(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(d(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return l(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(U);function Cw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Aw._fromErrorAndOperation(e,n,t,r);throw n}))}function Nw(e,t){return Ow.apply(this,arguments)}function Ow(){return Ow=$(te().mark((function e(t,n){var r,i,a=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=mb,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ew._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ow.apply(this,arguments)}function Pw(e,t){return Rw.apply(this,arguments)}function Rw(){return Rw=$(te().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,mb(t,Cw(i,a,n,t),r);case 6:return jk((o=e.sent).idToken,i,"internal-error"),jk(u=yb(o.idToken),i,"internal-error"),s=u.sub,jk(t.uid===s,i,"user-mismatch"),e.abrupt("return",Ew._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Dk(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Rw.apply(this,arguments)}function Dw(e,t){return Lw.apply(this,arguments)}function Lw(){return Lw=$(te().mark((function e(t,n){var r,i,a,o,u=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Cw(t,i,n);case 4:return a=e.sent,e.next=7,Ew._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Lw.apply(this,arguments)}function Mw(e,t){return eb(e,"POST","/v2/accounts/mfaEnrollment:start",$k(e,t))}new WeakMap;var Fw="__sak",Uw=function(){function e(t,n){s(this,e),this.storageRetriever=t,this.type=n}return l(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Fw,"1"),this.storage.removeItem(Fw),Promise.resolve(!0)):Promise.resolve(!1)}catch(Mv){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var jw=function(e){v(n,e);var t=b(n);function n(){var e;return s(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=O();return Ub(e)||Kb(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Hb(),e._shouldAllowMigration=!0,e}return l(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Wb()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=$(te().mark((function e(t,r){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(y(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$(te().mark((function e(t){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(y(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(y(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Uw);jw.type="LOCAL";var Vw=jw,Bw=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return l(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Uw);Bw.type="SESSION";var zw=Bw;function qw(e){return Promise.all(e.map(function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Kw=function(){function e(t){s(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return l(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=$(te().mark((function e(t){var n,r,i,a,o,u,s,c;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,qw(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Gw(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Kw.receivers=[];var Ww=function(){function e(t){s(this,e),this.target=t,this.handlers=new Set}return l(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=$(te().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Gw("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Hw(){return window}function Qw(){return"undefined"!==typeof Hw().WorkerGlobalScope&&"function"===typeof Hw().importScripts}function Zw(){return Yw.apply(this,arguments)}function Yw(){return(Yw=$(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Xw(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Jw="firebaseLocalStorageDb",$w="firebaseLocalStorage",e_="fbase_key",t_=function(){function e(t){s(this,e),this.request=t}return l(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function n_(e,t){return e.transaction([$w],t?"readwrite":"readonly").objectStore($w)}function r_(){var e=indexedDB.deleteDatabase(Jw);return new t_(e).toPromise()}function i_(){var e=indexedDB.open(Jw,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore($w,{keyPath:e_})}catch(r){n(r)}})),e.addEventListener("success",$(te().mark((function n(){var r;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains($w)){n.next=12;break}return r.close(),n.next=5,r_();case 5:return n.t0=t,n.next=8,i_();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function a_(e,t,n){return o_.apply(this,arguments)}function o_(){return o_=$(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n_(t,!0).put((i={},(0,u.Z)(i,e_,n),(0,u.Z)(i,"value",r),i)),e.abrupt("return",new t_(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function u_(e,t){return s_.apply(this,arguments)}function s_(){return s_=$(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n_(t,!1).get(n),e.next=3,new t_(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function c_(e,t){var n=n_(e,!0).delete(t);return new t_(n).toPromise()}var l_=function(){function e(){s(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return l(e,[{key:"_openDb",value:function(){var e=$(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,i_();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=$(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=$(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qw()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=$(te().mark((function e(){var t=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Kw._getInstance(Qw()?self:null),this.receiver._subscribe("keyChanged",function(){var e=$(te().mark((function e(n,r){var i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=$(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=$(te().mark((function e(){var t,n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zw();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ww(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Xw()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=$(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,i_();case 5:return t=e.sent,e.next=8,a_(t,Fw,"1");case 8:return e.next=10,c_(t,Fw);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=$(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=$(te().mark((function e(t,n){var r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite($(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return a_(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return u_(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$(te().mark((function e(t){var n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite($(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return c_(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=$(te().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=n_(e,!1).getAll();return new t_(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=h(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval($(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();l_.type="LOCAL";var f_=l_;function h_(e,t){return eb(e,"POST","/v2/accounts/mfaSignIn:start",$k(e,t))}function d_(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Lk("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function p_(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}p_("rcb"),new Qk(3e4,6e4);var v_="recaptcha";function y_(e,t,n){return m_.apply(this,arguments)}function m_(){return m_=$(te().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,jk("string"===typeof a,t,"argument-error"),jk(r.type===v_,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return jk("enroll"===u.type,t,"internal-error"),e.next=13,Mw(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return jk("signin"===u.type,t,"internal-error"),jk(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,h_(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,fw(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),m_.apply(this,arguments)}var g_=function(){function e(t){s(this,e),this.providerId=e.PROVIDER_ID,this.auth=Yb(t)}return l(e,[{key:"verifyPhoneNumber",value:function(e,t){return y_(this.auth,e,X(t))}}],[{key:"credential",value:function(e,t){return mw._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?mw._fromTokenResponse(n,r):null}}]),e}();function k_(e,t){return t?qk(t):(jk(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}g_.PROVIDER_ID="phone",g_.PHONE_SIGN_IN_METHOD="phone";var b_=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this,"custom","custom")).params=e,r}return l(n,[{key:"_getIdTokenResponse",value:function(e){return sw(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return sw(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return sw(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Jb);function w_(e){return Dw(e.auth,new b_(e),e.bypassAuthState)}function __(e){var t=e.auth,n=e.user;return jk(n,t,"internal-error"),Pw(n,new b_(e),e.bypassAuthState)}function x_(e){return I_.apply(this,arguments)}function I_(){return(I_=$(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,jk(r=t.user,n,"internal-error"),e.abrupt("return",Nw(r,new b_(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];s(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return l(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=$(te().mark((function t(n,r){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=$(te().mark((function e(t){var n,r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w_;case"linkViaPopup":case"linkViaRedirect":return x_;case"reauthViaPopup":case"reauthViaRedirect":return __;default:Dk(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Bk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Bk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),E_=new Qk(2e3,1e4);function T_(){return(T_=$(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yb(t),Fk(t,n,bw),a=k_(i,r),o=new A_(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A_=function(e){v(n,e);var t=b(n);function n(e,r,i,a,o){var u;return s(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=d(u),u}return l(n,[{key:"executeNotNull",value:function(){var e=$(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return jk(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=$(te().mark((function e(){var t,n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bk(1===this.filter.length,"Popup operations only handle one event"),t=Gw(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Lk(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Lk(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Lk(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,E_.get())}()}}]),n}(S_);A_.currentPopupAction=null;var C_=new Map,N_=function(e){v(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return l(n,[{key:"execute",value:function(){var e=$(te().mark((function e(){var t,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C_.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,O_(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,pt(y(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:C_.set(this.auth._key(),t);case 21:return this.bypassAuthState||C_.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=$(te().mark((function e(t){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",pt(y(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",pt(y(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=$(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(S_);function O_(e,t){return P_.apply(this,arguments)}function P_(){return(P_=$(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D_(n),i=R_(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R_(e){return qk(e._redirectPersistence)}function D_(e){return Db("pendingRedirect",e.config.apiKey,e.name)}function L_(e,t){return M_.apply(this,arguments)}function M_(){return M_=$(te().mark((function e(t,n){var r,i,a,o,u,s=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Yb(t),a=k_(i,n),o=new N_(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}var F_=function(){function e(t){s(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return l(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j_(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!j_(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Lk(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(U_(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(U_(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function U_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function j_(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function V_(e){return B_.apply(this,arguments)}function B_(){return B_=$(te().mark((function e(t){var n,r=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",eb(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}var z_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q_=/^https?/;function K_(){return(K_=$(te().mark((function e(t){var n,r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,V_(t);case 4:n=e.sent,r=n.authorizedDomains,i=h(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!G_(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Dk(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function G_(e){var t=Gk(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!q_.test(r))return!1;if(z_.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var W_=new Qk(3e4,6e4);function H_(){var e=Hw().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,a.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Q_=null;function Z_(e){return Q_=Q_||function(e){return new Promise((function(t,n){var r,i,a;function o(){H_(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){H_(),n(Lk(e,"network-request-failed"))},timeout:W_.get()})}if(null===(i=null===(r=Hw().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Hw().gapi)||void 0===a?void 0:a.load)){var u=p_("iframefcb");return Hw()[u]=function(){gapi.load?o():n(Lk(e,"network-request-failed"))},d_("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Q_=null,e}))}(e),Q_}var Y_=new Qk(5e3,15e3),X_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $_(e){var t=e.config;jk(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Zk(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:De},i=J_.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(G(r).slice(1))}function ex(e){return tx.apply(this,arguments)}function tx(){return tx=$(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z_(t);case 2:return n=e.sent,jk(r=Hw().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:$_(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X_,dontclear:!0},(function(e){return new Promise(function(){var n=$(te().mark((function n(r,i){var a,o,u;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Hw().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Lk(t,"network-request-failed"),o=Hw().setTimeout((function(){i(a)}),Y_.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}var nx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rx="_blank",ix="http://localhost",ax=function(){function e(t){s(this,e),this.window=t,this.associatedEvent=null}return l(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ox(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},nx),{width:r.toString(),height:a.toString(),top:o,left:u}),l=O().toLowerCase();n&&(s=jb(l)?rx:n),Fb(l)&&(t=t||ix,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")}),"");if(Gb(l)&&"_self"!==s)return ux(t||"",s),new ax(null);var h=window.open(t||"",s,f);jk(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ax(h)}function ux(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var sx="__/auth/handler",cx="emulator/auth/handler";function lx(e,t,n,r,a,o){jk(e.config.authDomain,e,"auth-domain-config-required"),jk(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:De,eventId:a};if(t instanceof bw){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(o||{});s<c.length;s++){var l=(0,i.Z)(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof ww){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(sx);return Zk(t,cx)}(e),"?").concat(G(p).slice(1))}var fx="webStorageSupport",hx=function(){function e(){s(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zw,this._completeRedirectFn=L_}return l(e,[{key:"_openPopup",value:function(){var e=$(te().mark((function e(t,n,r,i){var a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bk(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=lx(t,n,r,Gk(),i),e.abrupt("return",ox(t,o,Gw()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=$(te().mark((function e(t,n,r,i){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=lx(t,n,r,Gk(),i),Hw().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Bk(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=$(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ex(t);case 2:return n=e.sent,r=new F_(t),n.register("authEvent",(function(e){return jk(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(fx,{type:fx},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Dk(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return K_.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Hb()||Ub()||Kb()}}]),e}(),dx=hx,px=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this,"phone")).credential=e,r}return l(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return eb(e,"POST","/v2/accounts/mfaEnrollment:finalize",$k(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return eb(e,"POST","/v2/accounts/mfaSignIn:finalize",$k(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){s(this,e),this.factorId=t}return l(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Vk("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){s(this,e)}return l(e,null,[{key:"assertion",value:function(e){return px._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var vx,yx="@firebase/auth",mx="0.19.9",gx=function(){function e(t){s(this,e),this.auth=t,this.internalListeners=new Map}return l(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=$(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){jk(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function kx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me(),t=Ae(e,"auth");return t.isInitialized()?t.getImmediate():Kk(e,{popupRedirectResolver:dx,persistence:[f_,Vw,zw]})}vx="Browser",Te(new ne("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){jk(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),jk(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:vx,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qb(vx)},r=new Zb(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qk);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Te(new ne("auth-internal",(function(e){return function(e){return new gx(e)}(Yb(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(yx,mx,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(vx)),Ve(yx,mx,"esm2017");var bx=function(e){var n,r,a,u,s=(0,t.useState)(!1),c=(0,i.Z)(s,2),l=c[0],f=c[1],h=(0,t.useState)(""),d=(0,i.Z)(h,2),p=d[0],v=d[1],y=(0,t.useState)(""),m=(0,i.Z)(y,2),g=m[0],k=m[1],b=(0,t.useState)(""),w=(0,i.Z)(b,2),_=w[0],x=w[1],I=(0,t.useState)(""),S=(0,i.Z)(I,2),E=S[0],T=S[1],A=(0,t.useState)(""),C=(0,i.Z)(A,2),N=C[0],O=C[1];return ht.initializeApp(o),ht.firestore(),n=kx(),r=function(e){e?(console.log("signed in"),localStorage.setItem("userImg",e.photoURL),localStorage.setItem("userID",e.uid),localStorage.setItem("name",e.displayName),localStorage.setItem("email",e.email),k(e.uid),x(e.name),T(e.email),O(e.photoURL)):console.log("signed out")},X(n).onAuthStateChanged(r,a,u),(0,_k.jsxs)("section",{className:"searchBarContainer",children:[(0,_k.jsxs)("div",{className:"logoContainer",children:[(0,_k.jsx)("p",{className:"reuseWord",children:"Reuse"}),(0,_k.jsx)("p",{className:"vandyWord",children:"Vandy"})]}),(0,_k.jsxs)("div",{className:"searchBarBox",children:[(0,_k.jsx)("input",{placeholder:"Search By Item, Seller Email, or Seller Name",className:"searchBar",onChange:function(t){e.updateSearch(t.target.value)}}),(0,_k.jsx)("button",{className:"searchButton",onClick:function(){e.search(!0)},children:(0,_k.jsx)(Sk.Z,{})})]}),(0,_k.jsxs)("div",{className:"profileContainer",children:[(0,_k.jsxs)("div",{onClick:function(){v(!p)},children:[g?(0,_k.jsx)("img",{className:"profileImg",src:N}):(0,_k.jsx)(Ik.Z,{}),p?(0,_k.jsx)(Ek,{name:_,email:E,userImg:N,signOut:function(){var e;(e=kx(),X(e).signOut()).then((function(e){localStorage.clear(),window.location.assign("https://accounts.google.com/logout")}))},setButtonPopup:function(){f(!0)},signIn:function(){localStorage.clear();var e=new xw;(function(e,t,n){return T_.apply(this,arguments)})(kx(),e).then((function(e){var t=kx().currentUser;k(t),v(!1),window.location.reload()}))},currentUser:g}):(0,_k.jsx)(_k.Fragment,{})]}),l?(0,_k.jsx)(xk,{search:e.search,trigger:l,setTrigger:f}):(0,_k.jsx)(_k.Fragment,{})]})]})},wx=n(823),_x=n(168);var xx=function(e){var t=e.data;return(0,_k.jsx)("div",{className:"resultShadowBox",children:(0,_k.jsxs)("div",{className:"resultItemBox",children:[(0,_k.jsx)("div",{className:"itemImgBox",children:(0,_k.jsx)("img",{className:"itemImg",src:t.sellerPhoto.includes("undefined")?_x:t.sellerPhoto})}),(0,_k.jsxs)("div",{className:"itemCheckoutBox",children:[(0,_k.jsxs)("p",{className:"descriptionBox",children:["Item: ",t.itemDescription]}),(0,_k.jsxs)("p",{className:"price",children:["$",t.itemPrice]})]}),(0,_k.jsxs)("div",{className:"itemDescriptions",children:[(0,_k.jsxs)("p",{className:"vandyEmail",children:["Seller: ",t.sellerName]}),(0,_k.jsxs)("p",{className:"vandyEmail",children:["Email: ",t.sellerEmail]}),t.sellerPhone?(0,_k.jsxs)("p",{className:"phoneNumber",children:["Phone: ",t.sellerPhone]}):(0,_k.jsx)(_k.Fragment,{})]}),t.sellerID==localStorage.getItem("userID")?(0,_k.jsx)("button",{className:"deleteButton",onClick:function(){e.delete(t.itemID)},children:(0,_k.jsx)(wx.Z,{})}):(0,_k.jsx)(_k.Fragment,{children:" "})]})})};var Ix=function(e){var n=(0,t.useState)([]),r=(0,i.Z)(n,2),a=r[0],u=r[1],s=(0,t.useState)([]),c=(0,i.Z)(s,2),l=c[0],f=c[1],h=(0,t.useState)(!1),d=(0,i.Z)(h,2),p=d[0],v=d[1];ht.initializeApp(o);var y=ht.firestore();function m(t){window.confirm("You are about to delete an item!")&&y.collection("items").where("itemID","==",t).get().then((function(t){t.forEach((function(e){e.ref.delete().then((function(e){}))})),e.search()}))}(0,t.useEffect)((function(){var t=[],n=e.searchTerm;if(""==n)y.collection("items").get().then((function(e){e.empty,e.forEach((function(e){t.length<5&&t.push(e.data())})),u(t),0==t.length&&v(!0)}));else{var r=n.toLowerCase().split(/[\s-\,!?]/);y.collection("items").where("sellerFields","array-contains-any",r).get().then((function(e){e.empty,e.forEach((function(e){t.push(e.data())})),u(t),0==t.length&&v(!0)}))}e.stopSearch()}),[e.searchToggle]),(0,t.useEffect)((function(){var t=[];y.collection("items").where("sellerID","==",localStorage.getItem("userID")).get().then((function(e){e.empty,e.forEach((function(e){t.push(e.data())})),f(t),0==t.length&&v(!0)})),e.stopSearch()}),[e.searchToggle]);var g=e.displayMyItem?l:a;return(0,_k.jsxs)(_k.Fragment,{children:[(0,_k.jsxs)("section",{className:"resultSwitches",children:[(0,_k.jsx)("button",{className:e.displayMyItem?"resultSwitchNot":"resultSwitchYes",onClick:function(){e.displayMyItemList(!1)},children:"Search Results"}),localStorage.getItem("userID")?(0,_k.jsx)("button",{className:e.displayMyItem?"resultSwitchYes":"resultSwitchNot",onClick:function(){e.displayMyItemList(!0)},children:"My Items"}):(0,_k.jsx)(_k.Fragment,{children:" "})]}),(0,_k.jsx)("section",{className:"resultsBox",children:0!=g.length?g.map((function(e,t){if(t<40)return(0,_k.jsx)(xx,{delete:m,data:g[t]},t)})):!e.searching&&p?(0,_k.jsx)("p",{className:"resultsText",children:"No Result"}):(0,_k.jsx)("p",{className:"resultsText",children:"Loading"})})]})},Sx=Bx(),Ex=function(e){return Fx(e,Sx)},Tx=Bx();Ex.write=function(e){return Fx(e,Tx)};var Ax=Bx();Ex.onStart=function(e){return Fx(e,Ax)};var Cx=Bx();Ex.onFrame=function(e){return Fx(e,Cx)};var Nx=Bx();Ex.onFinish=function(e){return Fx(e,Nx)};var Ox=[];Ex.setTimeout=function(e,t){var n=Ex.now()+t,r={time:n,handler:e,cancel:function e(){var t=Ox.findIndex((function(t){return t.cancel==e}));~t&&Ox.splice(t,1),Lx-=~t?1:0}};return Ox.splice(Px(n),0,r),Lx+=1,Ux(),r};var Px=function(e){return~(~Ox.findIndex((function(t){return t.time>e}))||~Ox.length)};Ex.cancel=function(e){Ax.delete(e),Cx.delete(e),Sx.delete(e),Tx.delete(e),Nx.delete(e)},Ex.sync=function(e){Mx=!0,Ex.batchedUpdates(e),Mx=!1},Ex.throttle=function(e){var t;function n(){try{e.apply(void 0,(0,a.Z)(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,Ex.onStart(n)}return r.handler=e,r.cancel=function(){Ax.delete(n),t=null},r};var Rx="undefined"!=typeof window?window.requestAnimationFrame:function(){};Ex.use=function(e){return Rx=e},Ex.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,Ex.batchedUpdates=function(e){return e()},Ex.catch=console.error,Ex.frameLoop="always",Ex.advance=function(){"demand"!==Ex.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Vx()};var Dx=-1,Lx=0,Mx=!1;function Fx(e,t){Mx?(t.delete(e),e(0)):(t.add(e),Ux())}function Ux(){Dx<0&&(Dx=0,"demand"!==Ex.frameLoop&&Rx(jx))}function jx(){~Dx&&(Rx(jx),Ex.batchedUpdates(Vx))}function Vx(){var e=Dx;Dx=Ex.now();var t=Px(Dx);t&&(zx(Ox.splice(0,t),(function(e){return e.handler()})),Lx-=t),Ax.flush(),Sx.flush(e?Math.min(64,Dx-e):16.667),Cx.flush(),Tx.flush(),Nx.flush(),Lx||(Dx=-1)}function Bx(){var e=new Set,t=e;return{add:function(n){Lx+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return Lx-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,Lx-=t.size,zx(t,(function(t){return t(n)&&e.add(t)})),Lx+=e.size,t=e)}}}function zx(e,t){e.forEach((function(e){try{t(e)}catch(n){Ex.catch(n)}}))}function qx(){}var Kx={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function Gx(e,t){if(Kx.arr(e)){if(!Kx.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Wx=function(e,t){return e.forEach(t)};function Hx(e,t,n){if(Kx.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var Qx=function(e){return Kx.und(e)?[]:Kx.arr(e)?e:[e]};function Zx(e,t){if(e.size){var n=Array.from(e);e.clear(),Wx(n,t)}}var Yx,Xx,Jx=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Zx(e,(function(e){return e.apply(void 0,n)}))},$x=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},eI=null,tI=!1,nI=qx,rI=Object.freeze({__proto__:null,get createStringInterpolator(){return Yx},get to(){return Xx},get colors(){return eI},get skipAnimation(){return tI},get willAdvance(){return nI},assign:function(e){e.to&&(Xx=e.to),e.now&&(Ex.now=e.now),void 0!==e.colors&&(eI=e.colors),null!=e.skipAnimation&&(tI=e.skipAnimation),e.createStringInterpolator&&(Yx=e.createStringInterpolator),e.requestAnimationFrame&&Ex.use(e.requestAnimationFrame),e.batchedUpdates&&(Ex.batchedUpdates=e.batchedUpdates),e.willAdvance&&(nI=e.willAdvance),e.frameLoop&&(Ex.frameLoop=e.frameLoop)}}),iI=new Set,aI=[],oI=[],uI=0,sI={get idle(){return!iI.size&&!aI.length},start:function(e){uI>e.priority?(iI.add(e),Ex.onStart(cI)):(lI(e),Ex(hI))},advance:hI,sort:function(e){if(uI)Ex.onFrame((function(){return sI.sort(e)}));else{var t=aI.indexOf(e);~t&&(aI.splice(t,1),fI(e))}},clear:function(){aI=[],iI.clear()}};function cI(){iI.forEach(lI),iI.clear(),Ex(hI)}function lI(e){aI.includes(e)||fI(e)}function fI(e){aI.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(aI,(function(t){return t.priority>e.priority})),0,e)}function hI(e){for(var t=oI,n=0;n<aI.length;n++){var r=aI[n];uI=r.priority,r.idle||(nI(r),r.advance(e),r.idle||t.push(r))}return uI=0,(oI=aI).length=0,(aI=t).length>0}var dI="[-+]?\\d*\\.?\\d+",pI=dI+"%";function vI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var yI=new RegExp("rgb"+vI(dI,dI,dI)),mI=new RegExp("rgba"+vI(dI,dI,dI,dI)),gI=new RegExp("hsl"+vI(dI,pI,pI)),kI=new RegExp("hsla"+vI(dI,pI,pI,dI)),bI=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,wI=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,_I=/^#([0-9a-fA-F]{6})$/,xI=/^#([0-9a-fA-F]{8})$/;function II(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function SI(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=II(i,r,e+1/3),o=II(i,r,e),u=II(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*u)<<8}function EI(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function TI(e){return(parseFloat(e)%360+360)%360/360}function AI(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function CI(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function NI(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=_I.exec(e))?parseInt(t[1]+"ff",16)>>>0:eI&&void 0!==eI[e]?eI[e]:(t=yI.exec(e))?(EI(t[1])<<24|EI(t[2])<<16|EI(t[3])<<8|255)>>>0:(t=mI.exec(e))?(EI(t[1])<<24|EI(t[2])<<16|EI(t[3])<<8|AI(t[4]))>>>0:(t=bI.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=xI.exec(e))?parseInt(t[1],16)>>>0:(t=wI.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=gI.exec(e))?(255|SI(TI(t[1]),CI(t[2]),CI(t[3])))>>>0:(t=kI.exec(e))?(SI(TI(t[1]),CI(t[2]),CI(t[3]))|AI(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var OI=function e(t,n,r){if(Kx.fun(t))return t;if(Kx.arr(t))return e({range:t,output:n,extrapolate:r});if(Kx.str(t.output[0]))return Yx(t);var i=t,a=i.output,o=i.range||[0,1],u=i.extrapolateLeft||i.extrapolate||"extend",s=i.extrapolateRight||i.extrapolate||"extend",c=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,a,o,u,s){var c=s?s(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===u)return c;"clamp"===u&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=a(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,o[t],o[t+1],a[t],a[t+1],c,u,s,i.map)}};function PI(){return PI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PI.apply(this,arguments)}var RI=Symbol.for("FluidValue.get"),DI=Symbol.for("FluidValue.observers"),LI=function(e){return Boolean(e&&e[RI])},MI=function(e){return e&&e[RI]?e[RI]():e},FI=function(e){return e[DI]||null};function UI(e,t){var n=e[DI];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var jI=l((function e(t){if(s(this,e),this[RI]=void 0,this[DI]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");VI(this,t)})),VI=function(e,t){return KI(e,RI,t)};function BI(e,t){if(e[RI]){var n=e[DI];n||KI(e,DI,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function zI(e,t){var n=e[DI];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[DI]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var qI,KI=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},GI=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,WI=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,HI=new RegExp("(".concat(GI.source,")(%|[a-z]+)"),"i"),QI=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,ZI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,YI=function e(t){var n=XI(t),r=(0,i.Z)(n,2),a=r[0],o=r[1];if(!a||$x())return t;var u=window.getComputedStyle(document.documentElement).getPropertyValue(a);if(u)return u.trim();if(o&&o.startsWith("--")){var s=window.getComputedStyle(document.documentElement).getPropertyValue(o);return s||t}return o&&ZI.test(o)?e(o):o||t},XI=function(e){var t=ZI.exec(e);if(!t)return[,];var n=(0,i.Z)(t,3);return[n[1],n[2]]},JI=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},$I=function(e){qI||(qI=eI?new RegExp("(".concat(Object.keys(eI).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return MI(e).replace(ZI,YI).replace(WI,NI).replace(qI,NI)})),n=t.map((function(e){return e.match(GI).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return OI(PI({},e,{output:t}))}));return function(e){var n,i=!HI.test(t[0])&&(null==(n=t.find((function(e){return HI.test(e)})))?void 0:n.replace(GI,"")),a=0;return t[0].replace(GI,(function(){return"".concat(r[a++](e)).concat(i||"")})).replace(QI,JI)}},eS="react-spring: ",tS=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(eS,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},nS=tS(console.warn);function rS(){nS("".concat(eS,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var iS=tS(console.warn);function aS(e){return Kx.str(e)&&("#"==e[0]||/\d/.test(e)||!$x()&&ZI.test(e)||e in(eI||{}))}var oS=function(e){return(0,t.useEffect)(e,uS)},uS=[];function sS(){var e=(0,t.useState)()[1],n=(0,t.useState)(cS)[0];return oS(n.unmount),function(){n.current&&e({})}}function cS(){var e={current:!0,unmount:function(){return function(){e.current=!1}}};return e}function lS(e){var n=(0,t.useRef)();return(0,t.useEffect)((function(){n.current=e})),n.current}var fS="undefined"!==typeof window&&window.document&&window.document.createElement?t.useLayoutEffect:t.useEffect,hS=Symbol.for("Animated:node"),dS=function(e){return e&&e[hS]},pS=function(e,t){return n=e,r=hS,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},vS=function(e){return e&&e[hS]&&e[hS].getPayload()},yS=function(){function e(){s(this,e),this.payload=void 0,pS(this,this)}return l(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),mS=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,Kx.num(r._value)&&(r.lastPosition=r._value),r}return l(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return Kx.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,Kx.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(yS),gS=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=OI({output:[e,e]}),r}return l(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(Kx.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!pt(y(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=OI({output:[this.getValue(),e]})),this._value=0,pt(y(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(mS),kS={dependencies:null},bS=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return l(n,[{key:"getValue",value:function(e){var t={};return Hx(this.source,(function(n,r){var i;(i=n)&&i[hS]===i?t[r]=n.getValue(e):LI(n)?t[r]=MI(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&Wx(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return Hx(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;kS.dependencies&&LI(e)&&kS.dependencies.add(e);var n=vS(e);n&&Wx(n,(function(e){return t.add(e)}))}}]),n}(yS),wS=function(e){v(n,e);var t=b(n);function n(e){return s(this,n),t.call(this,e)}return l(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):(pt(y(n.prototype),"setValue",this).call(this,e.map(_S)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(bS);function _S(e){return(aS(e)?gS:mS).create(e)}function xS(e){var t=dS(e);return t?t.constructor:Kx.arr(e)?wS:aS(e)?gS:mS}function IS(){return IS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IS.apply(this,arguments)}var SS=function(e,n){var r=!Kx.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,t.forwardRef)((function(a,o){var u=(0,t.useRef)(null),s=r&&(0,t.useCallback)((function(e){u.current=function(e,t){e&&(Kx.fun(e)?e(t):e.current=t);return t}(o,e)}),[o]),c=function(e,t){var n=new Set;kS.dependencies=n,e.style&&(e=IS({},e,{style:t.createAnimatedStyle(e.style)}));return e=new bS(e),kS.dependencies=null,[e,n]}(a,n),l=(0,i.Z)(c,2),f=l[0],h=l[1],d=sS(),p=function(){var e=u.current;r&&!e||!1===(!!e&&n.applyAnimatedValues(e,f.getValue(!0)))&&d()},v=new ES(p,h),y=(0,t.useRef)();fS((function(){var e=y.current;y.current=v,Wx(h,(function(e){return BI(e,v)})),e&&(Wx(e.deps,(function(t){return zI(t,e)})),Ex.cancel(e.update))})),(0,t.useEffect)(p,[]),oS((function(){return function(){var e=y.current;Wx(e.deps,(function(t){return zI(t,e)}))}}));var m=n.getComponentProps(f.getValue());return t.createElement(e,IS({},m,{ref:s}))}))},ES=function(){function e(t,n){s(this,e),this.update=t,this.deps=n}return l(e,[{key:"eventObserved",value:function(e){"change"==e.type&&Ex.write(this.update)}}]),e}();var TS=Symbol.for("AnimatedComponent"),AS=function(e){return Kx.str(e)?e:e&&Kx.str(e.displayName)?e.displayName:Kx.fun(e)&&e.name||null};function CS(){return CS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CS.apply(this,arguments)}function NS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Kx.fun(e)?e.apply(void 0,n):e}var OS=function(e,t){return!0===e||!!(t&&e&&(Kx.fun(e)?e(t):Qx(e).includes(t)))},PS=function(e,t){return Kx.obj(e)?t&&e[t]:e},RS=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},DS=function(e){return e},LS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DS,n=MS;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},a=h(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=t(e[o],o);Kx.und(u)||(i[o]=u)}}catch(s){a.e(s)}finally{a.f()}return i},MS=["config","onProps","onStart","onChange","onPause","onResume","onRest"],FS={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function US(e){var t=function(e){var t={},n=0;if(Hx(e,(function(e,r){FS[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return Hx(e,(function(e,r){return r in t||(n[r]=e)})),n}return CS({},e)}function jS(e){return e=MI(e),Kx.arr(e)?e.map(jS):aS(e)?rI.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function VS(e){for(var t in e)return!0;return!1}function BS(e){return Kx.fun(e)||Kx.arr(e)&&Kx.obj(e[0])}function zS(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function qS(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}var KS=1.70158,GS=1.525*KS,WS=KS+1,HS=2*Math.PI/3,QS=2*Math.PI/4.5,ZS=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},YS={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return WS*e*e*e-KS*e*e},easeOutBack:function(e){return 1+WS*Math.pow(e-1,3)+KS*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-GS)/2:(Math.pow(2*e-2,2)*((GS+1)*(2*e-2)+GS)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*HS)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*HS)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*QS)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*QS)/2+1},easeInBounce:function(e){return 1-ZS(1-e)},easeOutBounce:ZS,easeInOutBounce:function(e){return e<.5?(1-ZS(1-2*e))/2:(1+ZS(2*e-1))/2}},XS=CS({},{tension:170,friction:26},{mass:1,damping:1,easing:YS.linear,clamp:!1}),JS=l((function e(){s(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,XS)}));function $S(e,t){if(Kx.und(t.decay)){var n=!Kx.und(t.tension)||!Kx.und(t.friction);!n&&Kx.und(t.frequency)&&Kx.und(t.damping)&&Kx.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var eE=[],tE=l((function e(){s(this,e),this.changed=!1,this.values=eE,this.toValues=null,this.fromValues=eE,this.to=void 0,this.from=void 0,this.config=new JS,this.immediate=!1}));function nE(e,t){var n=t.key,r=t.props,i=t.defaultProps,a=t.state,o=t.actions;return new Promise((function(t,u){var s,c,l,f=OS(null!=(s=r.cancel)?s:null==i?void 0:i.cancel,n);if(f)v();else{Kx.und(r.pause)||(a.paused=OS(r.pause,n));var h=null==i?void 0:i.pause;!0!==h&&(h=a.paused||OS(h,n)),c=NS(r.delay||0,n),h?(a.resumeQueue.add(p),o.pause()):(o.resume(),p())}function d(){a.resumeQueue.add(p),a.timeouts.delete(l),l.cancel(),c=l.time-Ex.now()}function p(){c>0&&!rI.skipAnimation?(a.delayed=!0,l=Ex.setTimeout(v,c),a.pauseQueue.add(d),a.timeouts.add(l)):v()}function v(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(d),a.timeouts.delete(l),e<=(a.cancelId||0)&&(f=!0);try{o.start(CS({},r,{callId:e,cancel:f}),t)}catch(n){u(n)}}}))}var rE=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?oE(e.get()):t.every((function(e){return e.noop}))?iE(e.get()):aE(e.get(),t.every((function(e){return e.finished})))},iE=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},aE=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},oE=function(e){return{value:e,cancelled:!0,finished:!1}};function uE(e,t,n,r){var i=t.callId,a=t.parentId,o=t.onRest,u=n.asyncTo,s=n.promise;return a||e!==u||t.reset?n.promise=$(te().mark((function c(){var l,f,d,p,v,y,m,g;return te().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.asyncId=i,n.asyncTo=e,l=LS(t,(function(e,t){return"onRest"===t?void 0:e})),p=new Promise((function(e,t){return f=e,d=t})),v=function(e){var t=i<=(n.cancelId||0)&&oE(r)||i!==n.asyncId&&aE(r,!1);if(t)throw e.result=t,d(e),e},y=function(e,t){var a=new cE,o=new lE;return $(te().mark((function u(){var s,c;return te().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(!rI.skipAnimation){u.next=5;break}throw sE(n),o.result=aE(r,!1),d(o),o;case 5:return v(a),(s=Kx.obj(e)?CS({},e):CS({},t,{to:e})).parentId=i,Hx(l,(function(e,t){Kx.und(s[t])&&(s[t]=e)})),u.next=11,r.start(s);case 11:if(c=u.sent,v(a),!n.paused){u.next=16;break}return u.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return u.abrupt("return",c);case 17:case"end":return u.stop()}}),u)})))()},!rI.skipAnimation){c.next=9;break}return sE(n),c.abrupt("return",aE(r,!1));case 9:return c.prev=9,g=Kx.arr(e)?function(){var e=$(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=h(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,y(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(y,r.stop.bind(r))),c.next=13,Promise.all([g.then(f),p]);case 13:m=aE(r.get(),!0,!1),c.next=27;break;case 16:if(c.prev=16,c.t0=c.catch(9),!(c.t0 instanceof cE)){c.next=22;break}m=c.t0.result,c.next=27;break;case 22:if(!(c.t0 instanceof lE)){c.next=26;break}m=c.t0.result,c.next=27;break;case 26:throw c.t0;case 27:return c.prev=27,i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?u:void 0,n.promise=a?s:void 0),c.finish(27);case 30:return Kx.fun(o)&&Ex.batchedUpdates((function(){o(m,r,r.item)})),c.abrupt("return",m);case 32:case"end":return c.stop()}}),c,null,[[9,16,27,30]])})))():s}function sE(e,t){Zx(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var cE=function(e){v(n,e);var t=b(n);function n(){var e;return s(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return l(n)}(_(Error)),lE=function(e){v(n,e);var t=b(n);function n(){var e;return s(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return l(n)}(_(Error)),fE=function(e){return e instanceof dE},hE=1,dE=function(e){v(n,e);var t=b(n);function n(){var e;s(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).id=hE++,e.key=void 0,e._priority=0,e}return l(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=dS(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rI.to(this,t)}},{key:"interpolate",value:function(){rS();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rI.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];UI(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||sI.sort(this),UI(this,{type:"priority",parent:this,priority:e})}}]),n}(jI),pE=Symbol.for("SpringPhase"),vE=function(e){return(1&e[pE])>0},yE=function(e){return(2&e[pE])>0},mE=function(e){return(4&e[pE])>0},gE=function(e,t){return t?e[pE]|=3:e[pE]&=-3},kE=function(e,t){return t?e[pE]|=4:e[pE]&=-5},bE=function(e){v(n,e);var t=b(n);function n(e,r){var i;if(s(this,n),(i=t.call(this)).key=void 0,i.animation=new tE,i.queue=void 0,i.defaultProps={},i._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!Kx.und(e)||!Kx.und(r)){var a=Kx.obj(e)?CS({},e):CS({},r,{from:e});Kx.und(a.default)&&(a.default=!0),i.start(a)}return i}return l(n,[{key:"idle",get:function(){return!(yE(this)||this._state.asyncTo)||mE(this)}},{key:"goal",get:function(){return MI(this.animation.to)}},{key:"velocity",get:function(){var e=dS(this);return e instanceof mS?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return vE(this)}},{key:"isAnimating",get:function(){return yE(this)}},{key:"isPaused",get:function(){return mE(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.config,o=i.toValues,u=vS(i.to);!u&&LI(i.to)&&(o=Qx(MI(i.to))),i.values.forEach((function(s,c){if(!s.done){var l=s.constructor==gS?1:u?u[c].lastPosition:o[c],f=i.immediate,h=l;if(!f){if(h=s.lastPosition,a.tension<=0)return void(s.done=!0);var d,p=s.elapsedTime+=e,v=i.fromValues[c],y=null!=s.v0?s.v0:s.v0=Kx.arr(a.velocity)?a.velocity[c]:a.velocity;if(Kx.und(a.duration))if(a.decay){var m=!0===a.decay?.998:a.decay,g=Math.exp(-(1-m)*p);h=v+y/(1-m)*(1-g),f=Math.abs(s.lastPosition-h)<.1,d=y*g}else{d=null==s.lastVelocity?y:s.lastVelocity;for(var k=a.precision||(v==l?.005:Math.min(1,.001*Math.abs(l-v))),b=a.restVelocity||k/10,w=a.clamp?0:a.bounce,_=!Kx.und(w),x=v==l?s.v0>0:v<l,I=Math.ceil(e/1),S=0;S<I&&(Math.abs(d)>b||!(f=Math.abs(l-h)<=k));++S){_&&(h==l||h>l==x)&&(d=-d*w,h=l),h+=1*(d+=1*((1e-6*-a.tension*(h-l)+.001*-a.friction*d)/a.mass))}}else{var E=1;a.duration>0&&(t._memoizedDuration!==a.duration&&(t._memoizedDuration=a.duration,s.durationProgress>0&&(s.elapsedTime=a.duration*s.durationProgress,p=s.elapsedTime+=e)),E=(E=(a.progress||0)+p/t._memoizedDuration)>1?1:E<0?0:E,s.durationProgress=E),d=((h=v+a.easing(E)*(l-v))-s.lastPosition)/e,f=1==E}s.lastVelocity=d,Number.isNaN(h)&&(console.warn("Got NaN while animating:",t),f=!0)}u&&!u[c].done&&(f=!1),f?s.done=!0:n=!1,s.setValue(h,a.round)&&(r=!0)}}));var s=dS(this),c=s.getValue();if(n){var l=MI(i.to);c===l&&!r||a.decay?r&&a.decay&&this._onChange(c):(s.setValue(l),this._onChange(l)),this._stop()}else r&&this._onChange(c)}},{key:"set",value:function(e){var t=this;return Ex.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(yE(this)){var t=this.animation,n=t.to,r=t.config;Ex.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return Kx.und(e)?(n=this.queue||[],this.queue=[]):n=[Kx.obj(e)?e:CS({},t,{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return rE(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),sE(this._state,e&&this._lastCallId),Ex.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=Kx.obj(n)?n[t]:n)||BS(n))&&(n=void 0),null==(r=Kx.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!vE(this)){if(e.reverse){var a=[r,n];n=a[0],r=a[1]}r=MI(r),Kx.und(r)?dS(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=CS({},e),i=this.key,a=this.defaultProps;r.default&&Object.assign(a,LS(r,(function(e,t){return/^on/.test(t)?PS(e,i):e}))),TE(this,r,"onProps"),AE(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var u=this._state;return nE(++this._lastCallId,{key:i,props:r,defaultProps:a,state:u,actions:{pause:function(){mE(n)||(kE(n,!0),Jx(u.pauseQueue),AE(n,"onPause",aE(n,wE(n,n.animation.to)),n))},resume:function(){mE(n)&&(kE(n,!1),yE(n)&&n._resume(),Jx(u.resumeQueue),AE(n,"onResume",aE(n,wE(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=_E(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(oE(this));var i=!Kx.und(e.to),a=!Kx.und(e.from);if(i||a){if(!(t.callId>this._lastToId))return n(oE(this));this._lastToId=t.callId}var o=this.key,u=this.defaultProps,s=this.animation,c=s.to,l=s.from,f=e.to,h=void 0===f?c:f,d=e.from,p=void 0===d?l:d;if(!a||i||t.default&&!Kx.und(h)||(h=p),t.reverse){var v=[p,h];h=v[0],p=v[1]}var y=!Gx(p,l);y&&(s.from=p),p=MI(p);var m=!Gx(h,c);m&&this._focus(h);var g=BS(t.to),k=s.config,b=k.decay,w=k.velocity;(i||a)&&(k.velocity=0),t.config&&!g&&function(e,t,n){for(var r in n&&($S(n=CS({},n),t),t=CS({},n,t)),$S(e,t),Object.assign(e,t),XS)null==e[r]&&(e[r]=XS[r]);var i=e.mass,a=e.frequency,o=e.damping;Kx.und(a)||(a<.01&&(a=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/a,2)*i,e.friction=4*Math.PI*o*i/a)}(k,NS(t.config,o),t.config!==u.config?NS(u.config,o):void 0);var _=dS(this);if(!_||Kx.und(h))return n(aE(this,!0));var x=Kx.und(t.reset)?a&&!t.default:!Kx.und(p)&&OS(t.reset,o),I=x?p:this.get(),S=jS(h),E=Kx.num(S)||Kx.arr(S)||aS(S),T=!g&&(!E||OS(u.immediate||t.immediate,o));if(m){var A=xS(h);if(A!==_.constructor){if(!T)throw Error("Cannot animate between ".concat(_.constructor.name," and ").concat(A.name,', as the "to" prop suggests'));_=this._set(S)}}var C=_.constructor,N=LI(h),O=!1;if(!N){var P=x||!vE(this)&&y;(m||P)&&(N=!(O=Gx(jS(I),S))),(Gx(s.immediate,T)||T)&&Gx(k.decay,b)&&Gx(k.velocity,w)||(N=!0)}if(O&&yE(this)&&(s.changed&&!x?N=!0:N||this._stop(c)),!g&&((N||LI(c))&&(s.values=_.getPayload(),s.toValues=LI(h)?null:C==gS?[1]:Qx(S)),s.immediate!=T&&(s.immediate=T,T||x||this._set(c)),N)){var R=s.onRest;Wx(EE,(function(e){return TE(r,t,e)}));var D=aE(this,wE(this,c));Jx(this._pendingCalls,D),this._pendingCalls.add(n),s.changed&&Ex.batchedUpdates((function(){s.changed=!x,null==R||R(D,r),x?NS(u.onRest,D):null==s.onStart||s.onStart(D,r)}))}x&&this._set(I),g?n(uE(t.to,t,this._state,this)):N?this._start():yE(this)&&!m?this._pendingCalls.add(n):n(iE(I))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(FI(this)&&this._detach(),t.to=e,FI(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;LI(t)&&(BI(t,this),fE(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;LI(e)&&zI(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=MI(e);if(!Kx.und(r)){var i=dS(this);if(!i||!Gx(r,i.getValue())){var a=xS(r);i&&i.constructor==a?i.setValue(r):pS(this,a.create(r)),i&&Ex.batchedUpdates((function(){t._onChange(r,n)}))}}return dS(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,AE(this,"onStart",aE(this,wE(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),NS(this.animation.onChange,e,this)),NS(this.defaultProps.onChange,e,this),pt(y(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;dS(this).reset(MI(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),yE(this)||(gE(this,!0),mE(this)||this._resume())}},{key:"_resume",value:function(){rI.skipAnimation?this.finish():sI.start(this)}},{key:"_stop",value:function(e,t){if(yE(this)){gE(this,!1);var n=this.animation;Wx(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),UI(this,{type:"idle",parent:this});var r=t?oE(this.get()):aE(this.get(),wE(this,null!=e?e:n.to));Jx(this._pendingCalls,r),n.changed&&(n.changed=!1,AE(this,"onRest",r,this))}}}]),n}(dE);function wE(e,t){var n=jS(t);return Gx(jS(e.get()),n)}function _E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=NS(t);if(r){var i=!0!==r&&US(r),a=(i||e).reverse,o=!i||i.reset;return xE(CS({},e,{loop:t,default:!1,pause:void 0,to:!a||BS(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function xE(e){var t=e=US(e),n=t.to,r=t.from,i=new Set;return Kx.obj(n)&&SE(n,i),Kx.obj(r)&&SE(r,i),e.keys=i.size?Array.from(i):null,e}function IE(e){var t=xE(e);return Kx.und(t.default)&&(t.default=LS(t)),t}function SE(e,t){Hx(e,(function(e,n){return null!=e&&t.add(n)}))}var EE=["onStart","onRest","onChange","onPause","onResume"];function TE(e,t,n){e.animation[n]=t[n]!==RS(t,n)?PS(t[n],e.key):void 0}function AE(e,t){for(var n,r,i,a,o,u,s=arguments.length,c=new Array(s>2?s-2:0),l=2;l<s;l++)c[l-2]=arguments[l];null==(i=(a=e.animation)[t])||(n=i).call.apply(n,[a].concat(c)),null==(o=(u=e.defaultProps)[t])||(r=o).call.apply(r,[u].concat(c))}var CE=["onStart","onChange","onRest"],NE=1,OE=function(){function e(t,n){s(this,e),this.id=NE++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(CS({default:!0},t))}return l(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];Kx.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(xE(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=Qx(e).map(xE):this.queue=[],this._flush?this._flush(this,t):(jE(this,t),PE(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;Wx(Qx(t),(function(t){return n[t].stop(!!e)}))}else sE(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(Kx.und(e))this.start({pause:!0});else{var t=this.springs;Wx(Qx(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(Kx.und(e))this.start({pause:!1});else{var t=this.springs;Wx(Qx(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){Hx(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,a=t.onRest,o=this._active.size>0,u=this._changed.size>0;(o&&!this._started||u&&!this._started)&&(this._started=!0,Zx(n,(function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];a.value=e.get(),r(a,e,e._item)})));var s=!o&&this._started,c=u||s&&a.size?this.get():null;u&&r.size&&Zx(r,(function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];a.value=c,r(a,e,e._item)})),s&&(this._started=!1,Zx(a,(function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];a.value=c,r(a,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}Ex.onFrame(this._onFrame)}}]),e}();function PE(e,t){return Promise.all(t.map((function(t){return RE(e,t)}))).then((function(t){return rE(e,t)}))}function RE(e,t,n){return DE.apply(this,arguments)}function DE(){return DE=$(te().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,a=n.to,o=n.from,u=n.loop,s=n.onRest,c=n.onResolve,l=Kx.obj(n.default)&&n.default,u&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null),(f=Kx.arr(a)||Kx.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,l&&(l.onRest=void 0)):Wx(CE,(function(e){var r=n[e];if(Kx.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},l&&(l[e]=n[e])}})),h=t._state,n.pause===!h.paused?(h.paused=n.pause,Jx(n.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(n.pause=!0),d=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),p=!0===n.cancel||!0===RS(n,"cancel"),(f||p&&h.asyncId)&&d.push(nE(++t._lastAsyncId,{props:n,state:h,actions:{pause:qx,resume:qx,start:function(e,n){p?(sE(h,t._lastAsyncId),n(oE(t))):(e.onRest=s,n(uE(f,e,h,t)))}}})),!h.paused){e.next=15;break}return e.next=15,new Promise((function(e){h.resumeQueue.add(e)}));case 15:return e.t0=rE,e.t1=t,e.next=19,Promise.all(d);case 19:if(e.t2=e.sent,v=(0,e.t0)(e.t1,e.t2),!u||!v.finished||r&&v.noop){e.next=26;break}if(!(y=_E(n,u,a))){e.next=26;break}return jE(t,[y]),e.abrupt("return",RE(t,y,!0));case 26:return c&&Ex.batchedUpdates((function(){return c(v,t,t.item)})),e.abrupt("return",v);case 28:case"end":return e.stop()}}),e)}))),DE.apply(this,arguments)}function LE(e,t){var n=CS({},e.springs);return t&&Wx(Qx(t),(function(e){Kx.und(e.keys)&&(e=xE(e)),Kx.obj(e.to)||(e=CS({},e,{to:void 0})),UE(n,e,(function(e){return FE(e)}))})),ME(e,n),n}function ME(e,t){Hx(t,(function(t,n){e.springs[n]||(e.springs[n]=t,BI(t,e))}))}function FE(e,t){var n=new bE;return n.key=e,t&&BI(n,t),n}function UE(e,t,n){t.keys&&Wx(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function jE(e,t){Wx(t,(function(t){UE(e.springs,t,(function(t){return FE(t,e)}))}))}function VE(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var BE,zE,qE=["children"],KE=function(e){var n=e.children,r=VE(e,qE),a=(0,t.useContext)(GE),o=r.pause||!!a.pause,u=r.immediate||!!a.immediate;r=function(e,n){var r=(0,t.useState)((function(){return{inputs:n,result:e()}})),a=(0,i.Z)(r,1)[0],o=(0,t.useRef)(),u=o.current,s=u;return s?Boolean(n&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,s.inputs))||(s={inputs:n,result:e()}):s=a,(0,t.useEffect)((function(){o.current=s,u==a&&(a.inputs=a.result=void 0)}),[s]),s.result}((function(){return{pause:o,immediate:u}}),[o,u]);var s=GE.Provider;return t.createElement(s,{value:r},n)},GE=(BE=KE,zE={},Object.assign(BE,t.createContext(zE)),BE.Provider._context=BE,BE.Consumer._context=BE,BE);KE.Provider=GE.Provider,KE.Consumer=GE.Consumer;var WE=function(){var e=[],t=function(t){iS("".concat(eS,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return Wx(e,(function(e,i){if(Kx.und(t))r.push(e.start());else{var a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return Wx(e,(function(e){return e.pause.apply(e,(0,a.Z)(t))})),this},t.resume=function(){var t=arguments;return Wx(e,(function(e){return e.resume.apply(e,(0,a.Z)(t))})),this},t.set=function(t){Wx(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,r=[];return Wx(e,(function(e,i){if(Kx.und(t))r.push(e.start());else{var a=n._getProps(t,e,i);a&&r.push(e.start(a))}})),r},t.stop=function(){var t=arguments;return Wx(e,(function(e){return e.stop.apply(e,(0,a.Z)(t))})),this},t.update=function(t){var n=this;return Wx(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return Kx.fun(e)?e(n,t):e};return t._getProps=n,t};function HE(e,n,r){var i=arguments,o=Kx.fun(n)&&n;o&&!r&&(r=[]);var u=(0,t.useMemo)((function(){return o||3==i.length?WE():void 0}),[]),s=(0,t.useRef)(0),c=sS(),l=(0,t.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=LE(e,t);return s.current>0&&!l.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?PE(e,t):new Promise((function(r){ME(e,n),l.queue.push((function(){r(PE(e,t))})),c()}))}}}),[]),f=(0,t.useRef)((0,a.Z)(l.ctrls)),h=[],d=lS(e)||0;function p(e,t){for(var r=e;r<t;r++){var i=f.current[r]||(f.current[r]=new OE(null,l.flush)),a=o?o(r,i):n[r];a&&(h[r]=IE(a))}}(0,t.useMemo)((function(){Wx(f.current.slice(e,d),(function(e){zS(e,u),e.stop(!0)})),f.current.length=e,p(d,e)}),[e]),(0,t.useMemo)((function(){p(0,Math.min(d,e))}),r);var v=f.current.map((function(e,t){return LE(e,h[t])})),y=(0,t.useContext)(KE),m=lS(y),g=y!==m&&VS(y);fS((function(){s.current++,l.ctrls=f.current;var e=l.queue;e.length&&(l.queue=[],Wx(e,(function(e){return e()}))),Wx(f.current,(function(e,t){null==u||u.add(e),g&&e.start({default:y});var n=h[t];n&&(qS(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),oS((function(){return function(){Wx(l.ctrls,(function(e){return e.stop(!0)}))}}));var k=v.map((function(e){return CS({},e)}));return u?[k,u]:k}function QE(e,t){var n=Kx.fun(e),r=HE(1,n?e:[e],n?t||[]:t),a=(0,i.Z)(r,2),o=(0,i.Z)(a[0],1),u=o[0],s=a[1];return n||2==arguments.length?[u,s]:u}var ZE;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(ZE||(ZE={}));var YE=function(e){v(n,e);var t=b(n);function n(e,r){var i;s(this,n),(i=t.call(this)).key=void 0,i.idle=!0,i.calc=void 0,i._active=new Set,i.source=e,i.calc=OI.apply(void 0,(0,a.Z)(r));var o=i._get(),u=xS(o);return pS(d(i),u.create(o)),i}return l(n,[{key:"advance",value:function(e){var t=this._get();Gx(t,this.get())||(dS(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&JE(this._active)&&$E(this)}},{key:"_get",value:function(){var e=Kx.arr(this.source)?this.source.map(MI):Qx(MI(this.source));return this.calc.apply(this,(0,a.Z)(e))}},{key:"_start",value:function(){var e=this;this.idle&&!JE(this._active)&&(this.idle=!1,Wx(vS(this),(function(e){e.done=!1})),rI.skipAnimation?(Ex.batchedUpdates((function(){return e.advance()})),$E(this)):sI.start(this))}},{key:"_attach",value:function(){var e=this,t=1;Wx(Qx(this.source),(function(n){LI(n)&&BI(n,e),fE(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;Wx(Qx(this.source),(function(t){LI(t)&&zI(t,e)})),this._active.clear(),$E(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Qx(this.source).reduce((function(e,t){return Math.max(e,(fE(t)?t.priority:0)+1)}),0))}}]),n}(dE);function XE(e){return!1!==e.idle}function JE(e){return!e.size||Array.from(e).every(XE)}function $E(e){e.idle||(e.idle=!0,Wx(vS(e),(function(e){e.done=!0})),UI(e,{type:"idle",parent:e}))}rI.assign({createStringInterpolator:$I,to:function(e,t){return new YE(e,t)}});sI.advance;function eT(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var tT=["style","children","scrollTop","scrollLeft"],nT=/^--/;function rT(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||nT.test(e)||aT.hasOwnProperty(e)&&aT[e]?(""+t).trim():t+"px"}var iT={};var aT={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oT=["Webkit","Ms","Moz","O"];aT=Object.keys(aT).reduce((function(e,t){return oT.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),aT);var uT=["x","y","z"],sT=/^(matrix|translate|scale|rotate|skew)/,cT=/^(translate)/,lT=/^(rotate|skew)/,fT=function(e,t){return Kx.num(e)&&0!==e?e+t:e},hT=function e(t,n){return Kx.arr(t)?t.every((function(t){return e(t,n)})):Kx.num(t)?t===n:parseFloat(t)===n},dT=function(e){v(n,e);var t=b(n);function n(e){s(this,n);var r=e.x,a=e.y,o=e.z,u=eT(e,uT),c=[],l=[];return(r||a||o)&&(c.push([r||0,a||0,o||0]),l.push((function(e){return["translate3d(".concat(e.map((function(e){return fT(e,"px")})).join(","),")"),hT(e,0)]}))),Hx(u,(function(e,t){if("transform"===t)c.push([e||""]),l.push((function(e){return[e,""===e]}));else if(sT.test(t)){if(delete u[t],Kx.und(e))return;var n=cT.test(t)?"px":lT.test(t)?"deg":"";c.push(Qx(e)),l.push("rotate3d"===t?function(e){var t=(0,i.Z)(e,4),r=t[0],a=t[1],o=t[2],u=t[3];return["rotate3d(".concat(r,",").concat(a,",").concat(o,",").concat(fT(u,n),")"),hT(u,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return fT(e,n)})).join(","),")"),hT(e,t.startsWith("scale")?1:0)]})}})),c.length&&(u.transform=new pT(c,l)),t.call(this,u)}return l(n)}(bS),pT=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this))._value=null,i.inputs=e,i.transforms=r,i}return l(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return Wx(this.inputs,(function(r,a){var o=MI(r[0]),u=e.transforms[a](Kx.arr(o)?o:r.map(MI)),s=(0,i.Z)(u,2),c=s[0],l=s[1];t+=" "+c,n=n&&l})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&Wx(this.inputs,(function(e){return Wx(e,(function(e){return LI(e)&&BI(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&Wx(this.inputs,(function(e){return Wx(e,(function(e){return LI(e)&&zI(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),UI(this,e)}}]),n}(jI),vT=["scrollTop","scrollLeft"];rI.assign({batchedUpdates:r.unstable_batchedUpdates,createStringInterpolator:$I,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var yT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new bS(e)}:i,o=t.getComponentProps,u=void 0===o?function(e){return e}:o,s={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:u},c=function e(t){var n=AS(t)||"Anonymous";return(t=Kx.str(t)?e[t]||(e[t]=SS(t,s)):t[TS]||(t[TS]=SS(t,s))).displayName="Animated(".concat(n,")"),t};return Hx(e,(function(t,n){Kx.arr(e)&&(n=AS(t)),c[n]=c(t)})),{animated:c}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,i=r.style,a=r.children,o=r.scrollTop,u=r.scrollLeft,s=eT(r,tT),c=Object.values(s),l=Object.keys(s).map((function(t){return n||e.hasAttribute(t)?t:iT[t]||(iT[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var f in void 0!==a&&(e.textContent=a),i)if(i.hasOwnProperty(f)){var h=rT(f,i[f]);nT.test(f)?e.style.setProperty(f,h):e.style[f]=h}l.forEach((function(t,n){e.setAttribute(t,c[n])})),void 0!==o&&(e.scrollTop=o),void 0!==u&&(e.scrollLeft=u)},createAnimatedStyle:function(e){return new dT(e)},getComponentProps:function(e){return eT(e,vT)}}),mT=yT.animated;var gT=function(e){var n=(0,t.useState)(!!localStorage.getItem("userID")),r=(0,i.Z)(n,2),a=r[0],o=r[1],u=(0,t.useState)(""),s=(0,i.Z)(u,2),c=s[0],l=s[1],f=QE({opacity:a?1:0,config:{duration:1e3}}),h=(0,t.useState)(!0),d=(0,i.Z)(h,2),p=d[0],v=d[1],y=(0,t.useState)(!1),m=(0,i.Z)(y,2),g=m[0],k=m[1],b=(0,t.useState)(!1),w=(0,i.Z)(b,2),_=w[0],x=w[1];function I(e){x(e)}function S(e){k(!0),v(!p),e&&I(!1)}return(0,t.useEffect)((function(){o(!0)}),[]),(0,_k.jsx)("section",{className:"main",children:(0,_k.jsxs)(mT.div,{className:"searchContainer",style:f,children:[(0,_k.jsx)(bx,{updateSearch:function(e){l(e)},search:S}),(0,_k.jsx)(Ix,{stopSearch:function(){k(!1)},searching:g,searchTerm:c,searchToggle:p,search:S,displayMyItem:_,displayMyItemList:I})]})})};r.render((0,_k.jsx)(gT,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.60774efd.js.map